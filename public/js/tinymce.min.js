/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 3);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6–8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== "undefined" && global) ||
            (typeof self !== "undefined" && self) ||
            window;
var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(scope, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(/*! setimmediate */ "./node_modules/setimmediate/setImmediate.js");
// On some exotic environments, it's not clear which object `setimmediate` was
// able to install onto.  Search each possibility in the same order as the
// `setimmediate` library.
exports.setImmediate = (typeof self !== "undefined" && self.setImmediate) ||
                       (typeof global !== "undefined" && global.setImmediate) ||
                       (this && this.setImmediate);
exports.clearImmediate = (typeof self !== "undefined" && self.clearImmediate) ||
                         (typeof global !== "undefined" && global.clearImmediate) ||
                         (this && this.clearImmediate);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./resources/js/tinymce.min.js":
/*!*************************************!*\
  !*** ./resources/js/tinymce.min.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(setImmediate, global, module) {function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}// 4.9.8 (2020-01-28)
!function(j){"use strict";var o=function o(){},H=function H(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}return n(r.apply(null,e));};},q=function q(e){return function(){return e;};},$=function $(e){return e;};function d(r){for(var o=[],e=1;e<arguments.length;e++){o[e-1]=arguments[e];}return function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}var n=o.concat(e);return r.apply(null,n);};}var e,t,n,r,i,a,u,s,c,l,f,m,g,p,h,v,y=function y(n){return function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}return!n.apply(null,e);};},b=q(!1),C=q(!0),x=function x(){return w;},w=(e=function e(_e2){return _e2.isNone();},r={fold:function fold(e,t){return e();},is:b,isSome:b,isNone:C,getOr:n=function n(e){return e;},getOrThunk:t=function t(e){return e();},getOrDie:function getOrDie(e){throw new Error(e||"error: getOrDie called on none.");},getOrNull:q(null),getOrUndefined:q(undefined),or:n,orThunk:t,map:x,each:o,bind:x,exists:b,forall:C,filter:x,equals:e,equals_:e,toArray:function toArray(){return[];},toString:q("none()")},Object.freeze&&Object.freeze(r),r),N=function N(n){var e=q(n),t=function t(){return o;},r=function r(e){return e(n);},o={fold:function fold(e,t){return t(n);},is:function is(e){return n===e;},isSome:C,isNone:b,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function map(e){return N(e(n));},each:function each(e){e(n);},bind:r,exists:r,forall:r,filter:function filter(e){return e(n)?o:w;},toArray:function toArray(){return[n];},toString:function toString(){return"some("+n+")";},equals:function equals(e){return e.is(n);},equals_:function equals_(e,t){return e.fold(b,function(e){return t(n,e);});}};return o;},_={some:N,none:x,from:function from(e){return null===e||e===undefined?w:N(e);}},E=function E(t){return function(e){return function(e){if(null===e)return"null";var t=_typeof(e);return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t;}(e)===t;};},S=E("string"),T=E("object"),k=E("array"),A=E("null"),R=E("boolean"),D=E("function"),O=E("number"),B=Array.prototype.slice,P=Array.prototype.indexOf,I=Array.prototype.push,L=function L(e,t){return P.call(e,t);},F=function F(e,t){return-1<L(e,t);},M=function M(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0;}return!1;},W=function W(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o);}return r;},z=function z(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n);}},K=function K(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a);}return{pass:n,fail:r};},U=function U(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i);}return n;},V=function V(e,t,n){return z(e,function(e){n=t(n,e);}),n;},X=function X(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return _.some(o);}return _.none();},Y=function Y(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return _.some(n);}return _.none();},G=function G(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!k(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);I.apply(t,e[n]);}return t;}(W(e,t));},J=function J(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1;}return!0;},Q=function Q(e,t){return U(e,function(e){return!F(t,e);});},Z=function Z(e){return 0===e.length?_.none():_.some(e[0]);},ee=function ee(e){return 0===e.length?_.none():_.some(e[e.length-1]);},te=D(Array.from)?Array.from:function(e){return B.call(e);},ne="undefined"!=typeof j.window?j.window:Function("return this;")(),re=function re(e,t){return function(e,t){for(var n=t!==undefined&&null!==t?t:ne,r=0;r<e.length&&n!==undefined&&null!==n;++r){n=n[e[r]];}return n;}(e.split("."),t);},oe={getOrDie:function getOrDie(e,t){var n=re(e,t);if(n===undefined||null===n)throw new Error(e+" not available on this browser");return n;}},ie=function ie(){return oe.getOrDie("URL");},ae={createObjectURL:function createObjectURL(e){return ie().createObjectURL(e);},revokeObjectURL:function revokeObjectURL(e){ie().revokeObjectURL(e);}},ue=j.navigator,se=ue.userAgent,ce=function ce(e){return"matchMedia"in j.window&&j.matchMedia(e).matches;};m=/Android/.test(se),a=(a=!(i=/WebKit/.test(se))&&/MSIE/gi.test(se)&&/Explorer/gi.test(ue.appName))&&/MSIE (\w+)\./.exec(se)[1],u=-1!==se.indexOf("Trident/")&&(-1!==se.indexOf("rv:")||-1!==ue.appName.indexOf("Netscape"))&&11,s=-1!==se.indexOf("Edge/")&&!a&&!u&&12,a=a||u||s,c=!i&&!u&&/Gecko/.test(se),l=-1!==se.indexOf("Mac"),f=/(iPad|iPhone)/.test(se),g="FormData"in j.window&&"FileReader"in j.window&&"URL"in j.window&&!!ae.createObjectURL,p=ce("only screen and (max-device-width: 480px)")&&(m||f),h=ce("only screen and (min-width: 800px)")&&(m||f),v=-1!==se.indexOf("Windows Phone"),s&&(i=!1);var le,fe={opera:!1,webkit:i,ie:a,gecko:c,mac:l,iOS:f,android:m,contentEditable:!f||g||534<=parseInt(se.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==a,range:j.window.getSelection&&"Range"in j.window,documentMode:a&&!s?j.document.documentMode||7:10,fileApi:g,ceFalse:!1===a||8<a,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===a||11<a,desktop:!p&&!h,windowsPhone:v},de=window.Promise?window.Promise:function(){function r(e,t){return function(){e.apply(t,arguments);};}var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e);},i=function i(e){if("object"!=_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,r(o,this),r(u,this));},t=i.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1);};function a(r){var o=this;null!==this._state?t(function(){var e=o._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(o._value);}catch(n){return void r.reject(n);}r.resolve(t);}else(o._state?r.resolve:r.reject)(o._value);}):this._deferreds.push(r);}function o(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==_typeof(e)||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(r(t,e),r(o,this),r(u,this));}this._state=!0,this._value=e,s.call(this);}catch(n){u.call(this,n);}}function u(e){this._state=!1,this._value=e,s.call(this);}function s(){for(var e=0,t=this._deferreds.length;e<t;e++){a.call(this,this._deferreds[e]);}this._deferreds=null;}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r;}function l(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e));},function(e){r||(r=!0,n(e));});}catch(o){if(r)return;r=!0,n(o);}}return i.prototype["catch"]=function(e){return this.then(null,e);},i.prototype.then=function(n,r){var o=this;return new i(function(e,t){a.call(o,new c(n,r,e,t));});},i.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&e(arguments[0])?arguments[0]:arguments);return new i(function(o,i){if(0===s.length)return o([]);var a=s.length;function u(t,e){try{if(e&&("object"==_typeof(e)||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){u(t,e);},i);}s[t]=e,0==--a&&o(s);}catch(r){i(r);}}for(var e=0;e<s.length;e++){u(e,s[e]);}});},i.resolve=function(t){return t&&"object"==_typeof(t)&&t.constructor===i?t:new i(function(e){e(t);});},i.reject=function(n){return new i(function(e,t){t(n);});},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++){o[n].then(e,t);}});},i;}(),me=function me(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t);},ge=function ge(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t);},pe=function pe(t,n){var r,e;return(e=function e(){var e=arguments;clearTimeout(r),r=me(function(){t.apply(this,e);},n);}).stop=function(){clearTimeout(r);},e;},he={requestAnimationFrame:function requestAnimationFrame(e,t){le?le.then(e):le=new de(function(e){t||(t=j.document.body),function(e,t){var n,r=j.window.requestAnimationFrame,o=["ms","moz","webkit"];for(n=0;n<o.length&&!r;n++){r=j.window[o[n]+"RequestAnimationFrame"];}r||(r=function r(e){j.window.setTimeout(e,0);}),r(e,t);}(e,t);}).then(e);},setTimeout:me,setInterval:ge,setEditorTimeout:function setEditorTimeout(e,t,n){return me(function(){e.removed||t();},n);},setEditorInterval:function setEditorInterval(e,t,n){var r;return r=ge(function(){e.removed?clearInterval(r):t();},n);},debounce:pe,throttle:pe,clearInterval:function(_clearInterval){function clearInterval(_x2){return _clearInterval.apply(this,arguments);}clearInterval.toString=function(){return _clearInterval.toString();};return clearInterval;}(function(e){return clearInterval(e);}),clearTimeout:function(_clearTimeout){function clearTimeout(_x3){return _clearTimeout.apply(this,arguments);}clearTimeout.toString=function(){return _clearTimeout.toString();};return clearTimeout;}(function(e){return clearTimeout(e);})},ve=/^(?:mouse|contextmenu)|click/,ye={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},be=function be(){return!1;},Ce=function Ce(){return!0;},xe=function xe(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n);},we=function we(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n);},Ne=function Ne(e,t){var n,r,o=t||{};for(n in e){ye[n]||(o[n]=e[n]);}if(o.target||(o.target=o.srcElement||j.document),fe.experimentalShadowDom&&(o.target=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&0<n.length)return n[0];}return t;}(e,o.target)),e&&ve.test(e.type)&&e.pageX===undefined&&e.clientX!==undefined){var i=o.target.ownerDocument||j.document,a=i.documentElement,u=i.body;o.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0);}return o.preventDefault=function(){o.isDefaultPrevented=Ce,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1);},o.stopPropagation=function(){o.isPropagationStopped=Ce,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0);},!(o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Ce,o.stopPropagation();})==((r=o).isDefaultPrevented===Ce||r.isDefaultPrevented===be)&&(o.isDefaultPrevented=be,o.isPropagationStopped=be,o.isImmediatePropagationStopped=be),"undefined"==typeof o.metaKey&&(o.metaKey=!1),o;},Ee=function Ee(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function i(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body;},a=function a(){n.domLoaded||(n.domLoaded=!0,t(o));},u=function u(){i()&&(we(r,"readystatechange",u),a());},s=function s(){try{r.documentElement.doScroll("left");}catch(e){return void he.setTimeout(s);}a();};!r.addEventListener||fe.ie&&fe.ie<11?(xe(r,"readystatechange",u),r.documentElement.doScroll&&e.self===e.top&&s()):i()?a():xe(e,"DOMContentLoaded",a),xe(e,"load",a);}},Se=function Se(){var m,g,p,h,v,y=this,b={};g="mce-data-"+(+new Date()).toString(32),h="onmouseenter"in j.document.documentElement,p="onfocusin"in j.document.documentElement,v={mouseenter:"mouseover",mouseleave:"mouseout"},m=1,y.domLoaded=!1,y.events=b;var C=function C(e,t){var n,r,o,i,a=b[t];if(n=a&&a[e.type])for(r=0,o=n.length;r<o;r++){if((i=n[r])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return;}};y.bind=function(e,t,n,r){var o,i,a,u,s,c,l,f=j.window,d=function d(e){C(Ne(e||f.event),o);};if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[g]?o=e[g]:(o=m++,e[g]=o,b[o]={}),r=r||e,a=(t=t.split(" ")).length;a--;){c=d,s=l=!1,"DOMContentLoaded"===(u=t[a])&&(u="ready"),y.domLoaded&&"ready"===u&&"complete"===e.readyState?n.call(r,Ne({type:u})):(h||(s=v[u])&&(c=function c(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;){n=n.parentNode;}n||((e=Ne(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,C(e,o));}),p||"focusin"!==u&&"focusout"!==u||(l=!0,s="focusin"===u?"focus":"blur",c=function c(e){(e=Ne(e||f.event)).type="focus"===e.type?"focusin":"focusout",C(e,o);}),(i=b[o][u])?"ready"===u&&y.domLoaded?n({type:u}):i.push({func:n,scope:r}):(b[o][u]=i=[{func:n,scope:r}],i.fakeName=s,i.capture=l,i.nativeHandler=c,"ready"===u?Ee(e,c,y):xe(e,s||u,c,l)));}return e=i=0,n;}},y.unbind=function(e,t,n){var r,o,i,a,u,s;if(!e||3===e.nodeType||8===e.nodeType)return y;if(r=e[g]){if(s=b[r],t){for(i=(t=t.split(" ")).length;i--;){if(o=s[u=t[i]]){if(n)for(a=o.length;a--;){if(o[a].func===n){var c=o.nativeHandler,l=o.fakeName,f=o.capture;(o=o.slice(0,a).concat(o.slice(a+1))).nativeHandler=c,o.fakeName=l,o.capture=f,s[u]=o;}}n&&0!==o.length||(delete s[u],we(e,o.fakeName||u,o.nativeHandler,o.capture));}}}else{for(u in s){o=s[u],we(e,o.fakeName||u,o.nativeHandler,o.capture);}s={};}for(u in s){return y;}delete b[r];try{delete e[g];}catch(d){e[g]=null;}}return y;},y.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return y;for((n=Ne(null,n)).type=t,n.target=e;(r=e[g])&&C(n,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped();){;}return y;},y.clean=function(e){var t,n,r=y.unbind;if(!e||3===e.nodeType||8===e.nodeType)return y;if(e[g]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(n=e.getElementsByTagName("*")).length;t--;){(e=n[t])[g]&&r(e);}return y;},y.destroy=function(){b={};},y.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1;};};Se.Event=new Se(),Se.Event.bind(j.window,"ready",function(){});var Te,ke,_e,Ae,Re,De,Oe,Be,Pe,Ie,Le,Fe,Me,ze,Ue,Ve,je,He,qe="sizzle"+-new Date(),$e=j.window.document,We=0,Ke=0,Xe=Tt(),Ye=Tt(),Ge=Tt(),Je=function Je(e,t){return e===t&&(Le=!0),0;},Qe= true?"undefined":undefined,Ze={}.hasOwnProperty,et=[],tt=et.pop,nt=et.push,rt=et.push,ot=et.slice,it=et.indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(this[t]===e)return t;}return-1;},at="[\\x20\\t\\r\\n\\f]",ut="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st="\\["+at+"*("+ut+")(?:"+at+"*([*^$|!~]?=)"+at+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ut+"))|)"+at+"*\\]",ct=":("+ut+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",lt=new RegExp("^"+at+"+|((?:^|[^\\\\])(?:\\\\.)*)"+at+"+$","g"),ft=new RegExp("^"+at+"*,"+at+"*"),dt=new RegExp("^"+at+"*([>+~]|"+at+")"+at+"*"),mt=new RegExp("="+at+"*([^\\]'\"]*?)"+at+"*\\]","g"),gt=new RegExp(ct),pt=new RegExp("^"+ut+"$"),ht={ID:new RegExp("^#("+ut+")"),CLASS:new RegExp("^\\.("+ut+")"),TAG:new RegExp("^("+ut+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ct),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+at+"*(even|odd|(([+-]|)(\\d*)n|)"+at+"*(?:([+-]|)"+at+"*(\\d+)|))"+at+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+at+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+at+"*((?:-\\d)?\\d*)"+at+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,bt=/^[^{]+\{\s*\[native \w/,Ct=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,wt=/'|\\/g,Nt=new RegExp("\\\\([\\da-f]{1,6}"+at+"?|("+at+")|.)","ig"),Et=function Et(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320);};try{rt.apply(et=ot.call($e.childNodes),$e.childNodes),et[$e.childNodes.length].nodeType;}catch(nE){rt={apply:et.length?function(e,t){nt.apply(e,ot.call(t));}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];){;}e.length=n-1;}};}var St=function St(e,t,n,r){var o,i,a,u,s,c,l,f,d,m;if((t?t.ownerDocument||t:$e)!==Me&&Fe(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=(t=t||Me).nodeType)&&9!==u)return[];if(Ue&&!r){if(o=Ct.exec(e))if(a=o[1]){if(9===u){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n;}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&He(t,i)&&i.id===a)return n.push(i),n;}else{if(o[2])return rt.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&ke.getElementsByClassName)return rt.apply(n,t.getElementsByClassName(a)),n;}if(ke.qsa&&(!Ve||!Ve.test(e))){if(f=l=qe,d=t,m=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(c=De(e),(l=t.getAttribute("id"))?f=l.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",s=c.length;s--;){c[s]=f+Pt(c[s]);}d=xt.test(e)&&Ot(t.parentNode)||t,m=c.join(",");}if(m)try{return rt.apply(n,d.querySelectorAll(m)),n;}catch(g){}finally{l||t.removeAttribute("id");}}}return Be(e.replace(lt,"$1"),t,n,r);};function Tt(){var r=[];return function e(t,n){return r.push(t+" ")>_e.cacheLength&&delete e[r.shift()],e[t+" "]=n;};}function kt(e){return e[qe]=!0,e;}function _t(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;){if(n===t)return-1;}return e?1:-1;}function At(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t;};}function Rt(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n;};}function Dt(a){return kt(function(i){return i=+i,kt(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;){e[n=r[o]]&&(e[n]=!(t[n]=e[n]));}});});}function Ot(e){return e&&_typeof(e.getElementsByTagName)!==Qe&&e;}for(Te in ke=St.support={},Re=St.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName;},Fe=St.setDocument=function(e){var t,s=e?e.ownerDocument||e:$e,n=s.defaultView;return s!==Me&&9===s.nodeType&&s.documentElement?(ze=(Me=s).documentElement,Ue=!Re(s),n&&n!==function(e){try{return e.top;}catch(t){}return null;}(n)&&(n.addEventListener?n.addEventListener("unload",function(){Fe();},!1):n.attachEvent&&n.attachEvent("onunload",function(){Fe();})),ke.attributes=!0,ke.getElementsByTagName=!0,ke.getElementsByClassName=bt.test(s.getElementsByClassName),ke.getById=!0,_e.find.ID=function(e,t){if(_typeof(t.getElementById)!==Qe&&Ue){var n=t.getElementById(e);return n&&n.parentNode?[n]:[];}},_e.filter.ID=function(e){var t=e.replace(Nt,Et);return function(e){return e.getAttribute("id")===t;};},_e.find.TAG=ke.getElementsByTagName?function(e,t){if(_typeof(t.getElementsByTagName)!==Qe)return t.getElementsByTagName(e);}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];){1===n.nodeType&&r.push(n);}return r;}return i;},_e.find.CLASS=ke.getElementsByClassName&&function(e,t){if(Ue)return t.getElementsByClassName(e);},je=[],Ve=[],ke.disconnectedMatch=!0,Ve=Ve.length&&new RegExp(Ve.join("|")),je=je.length&&new RegExp(je.join("|")),t=bt.test(ze.compareDocumentPosition),He=t||bt.test(ze.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)));}:function(e,t){if(t)for(;t=t.parentNode;){if(t===e)return!0;}return!1;},Je=t?function(e,t){if(e===t)return Le=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!ke.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument===$e&&He($e,e)?-1:t===s||t.ownerDocument===$e&&He($e,t)?1:Ie?it.call(Ie,e)-it.call(Ie,t):0:4&n?-1:1);}:function(e,t){if(e===t)return Le=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===s?-1:t===s?1:o?-1:i?1:Ie?it.call(Ie,e)-it.call(Ie,t):0;if(o===i)return _t(e,t);for(n=e;n=n.parentNode;){a.unshift(n);}for(n=t;n=n.parentNode;){u.unshift(n);}for(;a[r]===u[r];){r++;}return r?_t(a[r],u[r]):a[r]===$e?-1:u[r]===$e?1:0;},s):Me;},St.matches=function(e,t){return St(e,null,null,t);},St.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Me&&Fe(e),t=t.replace(mt,"='$1']"),ke.matchesSelector&&Ue&&(!je||!je.test(t))&&(!Ve||!Ve.test(t)))try{var n=(void 0).call(e,t);if(n||ke.disconnectedMatch||e.document&&11!==e.document.nodeType)return n;}catch(nE){}return 0<St(t,Me,null,[e]).length;},St.contains=function(e,t){return(e.ownerDocument||e)!==Me&&Fe(e),He(e,t);},St.attr=function(e,t){(e.ownerDocument||e)!==Me&&Fe(e);var n=_e.attrHandle[t.toLowerCase()],r=n&&Ze.call(_e.attrHandle,t.toLowerCase())?n(e,t,!Ue):undefined;return r!==undefined?r:ke.attributes||!Ue?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null;},St.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e);},St.uniqueSort=function(e){var t,n=[],r=0,o=0;if(Le=!ke.detectDuplicates,Ie=!ke.sortStable&&e.slice(0),e.sort(Je),Le){for(;t=e[o++];){t===e[o]&&(r=n.push(o));}for(;r--;){e.splice(n[r],1);}}return Ie=null,e;},Ae=St.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling){n+=Ae(e);}}else if(3===o||4===o)return e.nodeValue;}else for(;t=e[r++];){n+=Ae(t);}return n;},(_e=St.selectors={cacheLength:50,createPseudo:kt,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function ATTR(e){return e[1]=e[1].replace(Nt,Et),e[3]=(e[3]||e[4]||e[5]||"").replace(Nt,Et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4);},CHILD:function CHILD(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||St.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&St.error(e[0]),e;},PSEUDO:function PSEUDO(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&gt.test(n)&&(t=De(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3));}},filter:{TAG:function TAG(e){var t=e.replace(Nt,Et).toLowerCase();return"*"===e?function(){return!0;}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t;};},CLASS:function CLASS(e){var t=Xe[e+" "];return t||(t=new RegExp("(^|"+at+")"+e+"("+at+"|$)"))&&Xe(e,function(e){return t.test("string"==typeof e.className&&e.className||_typeof(e.getAttribute)!==Qe&&e.getAttribute("class")||"");});},ATTR:function ATTR(n,r,o){return function(e){var t=St.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===o:"!="===r?t!==o:"^="===r?o&&0===t.indexOf(o):"*="===r?o&&-1<t.indexOf(o):"$="===r?o&&t.slice(-o.length)===o:"~="===r?-1<(" "+t+" ").indexOf(o):"|="===r&&(t===o||t.slice(0,o.length+1)===o+"-"));};},CHILD:function CHILD(m,e,t,g,p){var h="nth"!==m.slice(0,3),v="last"!==m.slice(-4),y="of-type"===e;return 1===g&&0===p?function(e){return!!e.parentNode;}:function(e,t,n){var r,o,i,a,u,s,c=h!==v?"nextSibling":"previousSibling",l=e.parentNode,f=y&&e.nodeName.toLowerCase(),d=!n&&!y;if(l){if(h){for(;c;){for(i=e;i=i[c];){if(y?i.nodeName.toLowerCase()===f:1===i.nodeType)return!1;}s=c="only"===m&&!s&&"nextSibling";}return!0;}if(s=[v?l.firstChild:l.lastChild],v&&d){for(u=(r=(o=l[qe]||(l[qe]={}))[m]||[])[0]===We&&r[1],a=r[0]===We&&r[2],i=u&&l.childNodes[u];i=++u&&i&&i[c]||(a=u=0)||s.pop();){if(1===i.nodeType&&++a&&i===e){o[m]=[We,u,a];break;}}}else if(d&&(r=(e[qe]||(e[qe]={}))[m])&&r[0]===We)a=r[1];else for(;(i=++u&&i&&i[c]||(a=u=0)||s.pop())&&((y?i.nodeName.toLowerCase()!==f:1!==i.nodeType)||!++a||(d&&((i[qe]||(i[qe]={}))[m]=[We,a]),i!==e));){;}return(a-=p)===g||a%g==0&&0<=a/g;}};},PSEUDO:function PSEUDO(e,i){var t,a=_e.pseudos[e]||_e.setFilters[e.toLowerCase()]||St.error("unsupported pseudo: "+e);return a[qe]?a(i):1<a.length?(t=[e,e,"",i],_e.setFilters.hasOwnProperty(e.toLowerCase())?kt(function(e,t){for(var n,r=a(e,i),o=r.length;o--;){e[n=it.call(e,r[o])]=!(t[n]=r[o]);}}):function(e){return a(e,0,t);}):a;}},pseudos:{not:kt(function(e){var r=[],o=[],u=Oe(e.replace(lt,"$1"));return u[qe]?kt(function(e,t,n,r){for(var o,i=u(e,null,r,[]),a=e.length;a--;){(o=i[a])&&(e[a]=!(t[a]=o));}}):function(e,t,n){return r[0]=e,u(r,null,n,o),!o.pop();};}),has:kt(function(t){return function(e){return 0<St(t,e).length;};}),contains:kt(function(t){return t=t.replace(Nt,Et),function(e){return-1<(e.textContent||e.innerText||Ae(e)).indexOf(t);};}),lang:kt(function(n){return pt.test(n||"")||St.error("unsupported lang: "+n),n=n.replace(Nt,Et).toLowerCase(),function(e){var t;do{if(t=Ue?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-");}while((e=e.parentNode)&&1===e.nodeType);return!1;};}),target:function target(e){var t=j.window.location&&j.window.location.hash;return t&&t.slice(1)===e.id;},root:function root(e){return e===ze;},focus:function focus(e){return e===Me.activeElement&&(!Me.hasFocus||Me.hasFocus())&&!!(e.type||e.href||~e.tabIndex);},enabled:function enabled(e){return!1===e.disabled;},disabled:function disabled(e){return!0===e.disabled;},checked:function checked(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected;},selected:function selected(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected;},empty:function empty(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6)return!1;}return!0;},parent:function parent(e){return!_e.pseudos.empty(e);},header:function header(e){return yt.test(e.nodeName);},input:function input(e){return vt.test(e.nodeName);},button:function button(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t;},text:function text(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase());},first:Dt(function(){return[0];}),last:Dt(function(e,t){return[t-1];}),eq:Dt(function(e,t,n){return[n<0?n+t:n];}),even:Dt(function(e,t){for(var n=0;n<t;n+=2){e.push(n);}return e;}),odd:Dt(function(e,t){for(var n=1;n<t;n+=2){e.push(n);}return e;}),lt:Dt(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;){e.push(r);}return e;}),gt:Dt(function(e,t,n){for(var r=n<0?n+t:n;++r<t;){e.push(r);}return e;})}}).pseudos.nth=_e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){_e.pseudos[Te]=At(Te);}for(Te in{submit:!0,reset:!0}){_e.pseudos[Te]=Rt(Te);}function Bt(){}function Pt(e){for(var t=0,n=e.length,r="";t<n;t++){r+=e[t].value;}return r;}function It(a,e,t){var u=e.dir,s=t&&"parentNode"===u,c=Ke++;return e.first?function(e,t,n){for(;e=e[u];){if(1===e.nodeType||s)return a(e,t,n);}}:function(e,t,n){var r,o,i=[We,c];if(n){for(;e=e[u];){if((1===e.nodeType||s)&&a(e,t,n))return!0;}}else for(;e=e[u];){if(1===e.nodeType||s){if((r=(o=e[qe]||(e[qe]={}))[u])&&r[0]===We&&r[1]===c)return i[2]=r[2];if((o[u]=i)[2]=a(e,t,n))return!0;}}};}function Lt(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;){if(!o[r](e,t,n))return!1;}return!0;}:o[0];}function Ft(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++){(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));}return a;}function Mt(m,g,p,h,v,e){return h&&!h[qe]&&(h=Mt(h)),v&&!v[qe]&&(v=Mt(v,e)),kt(function(e,t,n,r){var o,i,a,u=[],s=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++){St(e,t[r],n);}return n;}(g||"*",n.nodeType?[n]:n,[]),f=!m||!e&&g?l:Ft(l,u,m,n,r),d=p?v||(e?m:c||h)?[]:t:f;if(p&&p(f,d,n,r),h)for(o=Ft(d,s),h(o,[],n,r),i=o.length;i--;){(a=o[i])&&(d[s[i]]=!(f[s[i]]=a));}if(e){if(v||m){if(v){for(o=[],i=d.length;i--;){(a=d[i])&&o.push(f[i]=a);}v(null,d=[],o,r);}for(i=d.length;i--;){(a=d[i])&&-1<(o=v?it.call(e,a):u[i])&&(e[o]=!(t[o]=a));}}}else d=Ft(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):rt.apply(t,d);});}function zt(e){for(var r,t,n,o=e.length,i=_e.relative[e[0].type],a=i||_e.relative[" "],u=i?1:0,s=It(function(e){return e===r;},a,!0),c=It(function(e){return-1<it.call(r,e);},a,!0),l=[function(e,t,n){return!i&&(n||t!==Pe)||((r=t).nodeType?s(e,t,n):c(e,t,n));}];u<o;u++){if(t=_e.relative[e[u].type])l=[It(Lt(l),t)];else{if((t=_e.filter[e[u].type].apply(null,e[u].matches))[qe]){for(n=++u;n<o&&!_e.relative[e[n].type];n++){;}return Mt(1<u&&Lt(l),1<u&&Pt(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(lt,"$1"),t,u<n&&zt(e.slice(u,n)),n<o&&zt(e=e.slice(n)),n<o&&Pt(e));}l.push(t);}}return Lt(l);}Bt.prototype=_e.filters=_e.pseudos,_e.setFilters=new Bt(),De=St.tokenize=function(e,t){var n,r,o,i,a,u,s,c=Ye[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],s=_e.preFilter;a;){for(i in n&&!(r=ft.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=dt.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(lt," ")}),a=a.slice(n.length)),_e.filter){!(r=ht[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));}if(!n)break;}return t?a.length:a?St.error(e):Ye(e,u).slice(0);},Oe=St.compile=function(e,t){var n,h,v,y,b,r,o=[],i=[],a=Ge[e+" "];if(!a){for(t||(t=De(e)),n=t.length;n--;){(a=zt(t[n]))[qe]?o.push(a):i.push(a);}(a=Ge(e,(h=i,y=0<(v=o).length,b=0<h.length,r=function r(e,t,n,_r2,o){var i,a,u,s=0,c="0",l=e&&[],f=[],d=Pe,m=e||b&&_e.find.TAG("*",o),g=We+=null==d?1:Math.random()||.1,p=m.length;for(o&&(Pe=t!==Me&&t);c!==p&&null!=(i=m[c]);c++){if(b&&i){for(a=0;u=h[a++];){if(u(i,t,n)){_r2.push(i);break;}}o&&(We=g);}y&&((i=!u&&i)&&s--,e&&l.push(i));}if(s+=c,y&&c!==s){for(a=0;u=v[a++];){u(l,f,t,n);}if(e){if(0<s)for(;c--;){l[c]||f[c]||(f[c]=tt.call(_r2));}f=Ft(f);}rt.apply(_r2,f),o&&!e&&0<f.length&&1<s+v.length&&St.uniqueSort(_r2);}return o&&(We=g,Pe=d),l;},y?kt(r):r))).selector=e;}return a;},Be=St.select=function(e,t,n,r){var o,i,a,u,s,c="function"==typeof e&&e,l=!r&&De(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&ke.getById&&9===t.nodeType&&Ue&&_e.relative[i[1].type]){if(!(t=(_e.find.ID(a.matches[0].replace(Nt,Et),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length);}for(o=ht.needsContext.test(e)?0:i.length;o--&&(a=i[o],!_e.relative[u=a.type]);){if((s=_e.find[u])&&(r=s(a.matches[0].replace(Nt,Et),xt.test(i[0].type)&&Ot(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Pt(i)))return rt.apply(n,r),n;break;}}}return(c||Oe(e,l))(r,t,!Ue,n,xt.test(e)&&Ot(t.parentNode)||t),n;},ke.sortStable=qe.split("").sort(Je).join("")===qe,ke.detectDuplicates=!!Le,Fe(),ke.sortDetached=!0;var Ut=Array.isArray,Vt=function Vt(e,t,n){var r,o;if(!e)return 0;if(n=n||e,e.length!==undefined){for(r=0,o=e.length;r<o;r++){if(!1===t.call(n,e[r],r,e))return 0;}}else for(r in e){if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;}return 1;},jt=function jt(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++){if(t.call(n,e[r],r,e))return r;}return-1;},Ht={isArray:Ut,toArray:function toArray(e){var t,n,r=e;if(!Ut(e))for(r=[],t=0,n=e.length;t<n;t++){r[t]=e[t];}return r;},each:Vt,map:function map(n,r){var o=[];return Vt(n,function(e,t){o.push(r(e,t,n));}),o;},filter:function filter(n,r){var o=[];return Vt(n,function(e,t){r&&!r(e,t,n)||o.push(e);}),o;},indexOf:function indexOf(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++){if(e[n]===t)return n;}return-1;},reduce:function reduce(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++){n=t.call(r,n,e[o],o);}return n;},findIndex:jt,find:function find(e,t,n){var r=jt(e,t,n);return-1!==r?e[r]:undefined;},last:function last(e){return e[e.length-1];}},qt=/^\s*|\s*$/g,$t=function $t(e){return null===e||e===undefined?"":(""+e).replace(qt,"");},Wt=function Wt(e,t){return t?!("array"!==t||!Ht.isArray(e))||_typeof(e)===t:e!==undefined;},Kt=function Kt(e,n,r,o){o=o||this,e&&(r&&(e=e[r]),Ht.each(e,function(e,t){if(!1===n.call(o,e,t,r))return!1;Kt(e,n,r,o);}));},Xt={trim:$t,isArray:Ht.isArray,is:Wt,toArray:Ht.toArray,makeMap:function makeMap(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;){n[e[r]]={};}return n;},each:Ht.each,map:Ht.map,grep:Ht.filter,inArray:Ht.indexOf,hasOwn:function hasOwn(e,t){return Object.prototype.hasOwnProperty.call(e,t);},extend:function extend(e,t){for(var n,r,o,i=[],a=2;a<arguments.length;a++){i[a-2]=arguments[a];}var u,s=arguments;for(n=1,r=s.length;n<r;n++){for(o in t=s[n]){t.hasOwnProperty(o)&&(u=t[o])!==undefined&&(e[o]=u);}}return e;},create:function create(e,t,n){var r,o,i,a,u,s=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=s.createNS(e[3].replace(/\.\w+$/,""),n))[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},c=1),o[i]=t[i],s.extend(o[i].prototype,t),e[5]&&(r=s.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],u=o[i],o[i]=c?function(){return r[a].apply(this,arguments);}:function(){return this.parent=r[a],u.apply(this,arguments);},o[i].prototype[i]=o[i],s.each(r,function(e,t){o[i].prototype[t]=r[t];}),s.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments);}:t!==i&&(o[i].prototype[t]=e);})),s.each(t["static"],function(e,t){o[i][t]=e;});}},walk:Kt,createNS:function createNS(e,t){var n,r;for(t=t||j.window,e=e.split("."),n=0;n<e.length;n++){t[r=e[n]]||(t[r]={}),t=t[r];}return t;},resolve:function resolve(e,t){var n,r;for(t=t||j.window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++){;}return t;},explode:function explode(e,t){return!e||Wt(e,"array")?e:Ht.map(e.split(t||","),$t);},_addCacheSuffix:function _addCacheSuffix(e){var t=fe.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e;}},Yt=j.document,Gt=Array.prototype.push,Jt=Array.prototype.slice,Qt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Zt=Se.Event,en=Xt.makeMap("children,contents,next,prev"),tn=function tn(e){return void 0!==e;},nn=function nn(e){return"string"==typeof e;},rn=function rn(e,t){var n,r,o;for(o=(t=t||Yt).createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;){n.appendChild(r);}return n;},on=function on(e,t,n,r){var o;if(nn(t))t=rn(t,bn(e[0]));else if(t.length&&!t.nodeType){if(t=gn.makeArray(t),r)for(o=t.length-1;0<=o;o--){on(e,t[o],n,r);}else for(o=0;o<t.length;o++){on(e,t[o],n,r);}return e;}if(t.nodeType)for(o=e.length;o--;){n.call(e[o],t);}return e;},an=function an(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ");},un=function un(e,t,n){var r,o;return t=gn(t)[0],e.each(function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e);}),e;},sn=Xt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),cn=Xt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ln={"for":"htmlFor","class":"className",readonly:"readOnly"},fn={"float":"cssFloat"},dn={},mn={},gn=function gn(e,t){return new gn.fn.init(e,t);},pn=/^\s*|\s*$/g,hn=function hn(e){return null===e||e===undefined?"":(""+e).replace(pn,"");},vn=function vn(e,t){var n,r,o,i;if(e)if((n=e.length)===undefined){for(r in e){if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break;}}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++){;}return e;},yn=function yn(e,n){var r=[];return vn(e,function(e,t){n(t,e)&&r.push(t);}),r;},bn=function bn(e){return e?9===e.nodeType?e:e.ownerDocument:Yt;};gn.fn=gn.prototype={constructor:gn,selector:"",context:null,length:0,init:function init(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return gn(e).attr(t);o.context=t=j.document;}if(nn(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Qt.exec(e)))return gn(t).find(e);if(n[1])for(r=rn(e,bn(t)).firstChild;r;){Gt.call(o,r),r=r.nextSibling;}else{if(!(r=bn(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r;}}else this.add(e,!1);return o;},toArray:function toArray(){return Xt.toArray(this);},add:function add(e,t){var n,r,o=this;if(nn(e))return o.add(gn(e));if(!1!==t)for(n=gn.unique(o.toArray().concat(gn.makeArray(e))),o.length=n.length,r=0;r<n.length;r++){o[r]=n[r];}else Gt.apply(o,gn.makeArray(e));return o;},attr:function attr(t,n){var e,r=this;if("object"==_typeof(t))vn(t,function(e,t){r.attr(e,t);});else{if(!tn(n)){if(r[0]&&1===r[0].nodeType){if((e=dn[t])&&e.get)return e.get(r[0],t);if(cn[t])return r.prop(t)?t:undefined;null===(n=r[0].getAttribute(t,2))&&(n=undefined);}return n;}this.each(function(){var e;if(1===this.nodeType){if((e=dn[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2);}});}return r;},removeAttr:function removeAttr(e){return this.attr(e,null);},prop:function prop(e,t){var n=this;if("object"==_typeof(e=ln[e]||e))vn(e,function(e,t){n.prop(e,t);});else{if(!tn(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t);});}return n;},css:function css(n,r){var e,o,i=this,t=function t(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase();});},a=function a(e){return e.replace(/[A-Z]/g,function(e){return"-"+e;});};if("object"==_typeof(n))vn(n,function(e,t){i.css(e,t);});else if(tn(r))n=t(n),"number"!=typeof r||sn[n]||(r=r.toString()+"px"),i.each(function(){var e=this.style;if((o=mn[n])&&o.set)o.set(this,r);else{try{this.style[fn[n]||n]=r;}catch(t){}null!==r&&""!==r||(e.removeProperty?e.removeProperty(a(n)):e.removeAttribute(n));}});else{if(e=i[0],(o=mn[n])&&o.get)return o.get(e);if(!e.ownerDocument.defaultView)return e.currentStyle?e.currentStyle[t(n)]:"";try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(a(n));}catch(u){return undefined;}}return i;},remove:function remove(){for(var e,t=this.length;t--;){e=this[t],Zt.clean(e),e.parentNode&&e.parentNode.removeChild(e);}return this;},empty:function empty(){for(var e,t=this.length;t--;){for(e=this[t];e.firstChild;){e.removeChild(e.firstChild);}}return this;},html:function html(e){var t,n=this;if(tn(e)){t=n.length;try{for(;t--;){n[t].innerHTML=e;}}catch(r){gn(n[t]).empty().append(e);}return n;}return n[0]?n[0].innerHTML:"";},text:function text(e){var t,n=this;if(tn(e)){for(t=n.length;t--;){"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;}return n;}return n[0]?n[0].innerText||n[0].textContent:"";},append:function append(){return on(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e);});},prepend:function prepend(){return on(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild);},!0);},before:function before(){return this[0]&&this[0].parentNode?on(this,arguments,function(e){this.parentNode.insertBefore(e,this);}):this;},after:function after(){return this[0]&&this[0].parentNode?on(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling);},!0):this;},appendTo:function appendTo(e){return gn(e).append(this),this;},prependTo:function prependTo(e){return gn(e).prepend(this),this;},replaceWith:function replaceWith(e){return this.before(e).remove();},wrap:function wrap(e){return un(this,e);},wrapAll:function wrapAll(e){return un(this,e,!0);},wrapInner:function wrapInner(e){return this.each(function(){gn(this).contents().wrapAll(e);}),this;},unwrap:function unwrap(){return this.parent().each(function(){gn(this).replaceWith(this.childNodes);});},clone:function clone(){var e=[];return this.each(function(){e.push(this.cloneNode(!0));}),gn(e);},addClass:function addClass(e){return this.toggleClass(e,!0);},removeClass:function removeClass(e){return this.toggleClass(e,!1);},toggleClass:function toggleClass(o,i){var e=this;return"string"!=typeof o||(-1!==o.indexOf(" ")?vn(o.split(" "),function(){e.toggleClass(this,i);}):e.each(function(e,t){var n,r;(r=an(t,o))!==i&&(n=t.className,r?t.className=hn((" "+n+" ").replace(" "+o+" "," ")):t.className+=n?" "+o:o);})),e;},hasClass:function hasClass(e){return an(this[0],e);},each:function each(e){return vn(this,e);},on:function on(e,t){return this.each(function(){Zt.bind(this,e,t);});},off:function off(e,t){return this.each(function(){Zt.unbind(this,e,t);});},trigger:function trigger(e){return this.each(function(){"object"==_typeof(e)?Zt.fire(this,e.type,e):Zt.fire(this,e);});},show:function show(){return this.css("display","");},hide:function hide(){return this.css("display","none");},slice:function slice(){return new gn(Jt.apply(this,arguments));},eq:function eq(e){return-1===e?this.slice(e):this.slice(e,+e+1);},first:function first(){return this.eq(0);},last:function last(){return this.eq(-1);},find:function find(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++){gn.find(e,this[t],r);}return gn(r);},filter:function filter(n){return gn("function"==typeof n?yn(this.toArray(),function(e,t){return n(t,e);}):gn.filter(n,this.toArray()));},closest:function closest(n){var r=[];return n instanceof gn&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&gn(t).is(n)){r.push(t);break;}if(t===n){r.push(t);break;}t=t.parentNode;}}),gn(r);},offset:function offset(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a});},push:Gt,sort:[].sort,splice:[].splice},Xt.extend(gn,{extend:Xt.extend,makeArray:function makeArray(e){return(t=e)&&t===t.window||e.nodeType?[e]:Xt.toArray(e);var t;},inArray:function inArray(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;){if(t[n]===e)return n;}return-1;},isArray:Xt.isArray,each:vn,trim:hn,grep:yn,find:St,expr:St.selectors,unique:St.uniqueSort,text:St.getText,contains:St.contains,filter:function filter(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;){1!==t[r].nodeType&&t.splice(r,1);}return t=1===t.length?gn.find.matchesSelector(t[0],e)?[t[0]]:[]:gn.find.matches(e,t);}});var Cn=function Cn(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof gn&&(n=n[0]);o&&9!==o.nodeType;){if(n!==undefined){if(o===n)break;if("string"==typeof n&&gn(o).is(n))break;}1===o.nodeType&&r.push(o),o=o[t];}return r;},xn=function xn(e,t,n,r){var o=[];for(r instanceof gn&&(r=r[0]);e;e=e[t]){if(!n||e.nodeType===n){if(r!==undefined){if(e===r)break;if("string"==typeof r&&gn(e).is(r))break;}o.push(e);}}return o;},wn=function wn(e,t,n){for(e=e[t];e;e=e[t]){if(e.nodeType===n)return e;}return null;};vn({parent:function parent(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null;},parents:function parents(e){return Cn(e,"parentNode");},next:function next(e){return wn(e,"nextSibling",1);},prev:function prev(e){return wn(e,"previousSibling",1);},children:function children(e){return xn(e.firstChild,"nextSibling",1);},contents:function contents(e){return Xt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes);}},function(e,r){gn.fn[e]=function(t){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(gn.isArray(e)?n.push.apply(n,e):n.push(e));}),1<this.length&&(en[e]||(n=gn.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=gn(n),t?n.filter(t):n;};}),vn({parentsUntil:function parentsUntil(e,t){return Cn(e,"parentNode",t);},nextUntil:function nextUntil(e,t){return xn(e,"nextSibling",1,t).slice(1);},prevUntil:function prevUntil(e,t){return xn(e,"previousSibling",1,t).slice(1);}},function(r,o){gn.fn[r]=function(t,e){var n=[];return this.each(function(){var e=o.call(n,this,t,n);e&&(gn.isArray(e)?n.push.apply(n,e):n.push(e));}),1<this.length&&(n=gn.unique(n),0!==r.indexOf("parents")&&"prevUntil"!==r||(n=n.reverse())),n=gn(n),e?n.filter(e):n;};}),gn.fn.is=function(e){return!!e&&0<this.filter(e).length;},gn.fn.init.prototype=gn.fn,gn.overrideDefaults=function(n){var r,o=function o(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t||(t=r.context),new o.fn.init(e,t);};return gn.extend(o,this),o;};var Nn=function Nn(n,r,e){vn(e,function(e,t){n[e]=n[e]||{},n[e][r]=t;});};fe.ie&&fe.ie<8&&(Nn(dn,"get",{maxlength:function maxlength(e){var t=e.maxLength;return 2147483647===t?undefined:t;},size:function size(e){var t=e.size;return 20===t?undefined:t;},"class":function _class(e){return e.className;},style:function style(e){var t=e.style.cssText;return 0===t.length?undefined:t;}}),Nn(dn,"set",{"class":function _class(e,t){e.className=t;},style:function style(e,t){e.style.cssText=t;}})),fe.ie&&fe.ie<9&&(fn["float"]="styleFloat",Nn(mn,"set",{opacity:function opacity(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")");}})),gn.attrHooks=dn,gn.cssHooks=mn;var En,Sn,Tn,kn,_n,An,Rn,Dn=function Dn(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r;}return undefined;}(e,t);if(!n)return{major:0,minor:0};var r=function r(e){return Number(t.replace(n,"$"+e));};return Bn(r(1),r(2));},On=function On(){return Bn(0,0);},Bn=function Bn(e,t){return{major:e,minor:t};},Pn={nu:Bn,detect:function detect(e,t){var n=String(t).toLowerCase();return 0===e.length?On():Dn(e,n);},unknown:On},In="Firefox",Ln=function Ln(e,t){return function(){return t===e;};},Fn=function Fn(e){var t=e.current;return{current:t,version:e.version,isEdge:Ln("Edge",t),isChrome:Ln("Chrome",t),isIE:Ln("IE",t),isOpera:Ln("Opera",t),isFirefox:Ln(In,t),isSafari:Ln("Safari",t)};},Mn={unknown:function unknown(){return Fn({current:undefined,version:Pn.unknown()});},nu:Fn,edge:q("Edge"),chrome:q("Chrome"),ie:q("IE"),opera:q("Opera"),firefox:q(In),safari:q("Safari")},zn="Windows",Un="Android",Vn="Solaris",jn="FreeBSD",Hn=function Hn(e,t){return function(){return t===e;};},qn=function qn(e){var t=e.current;return{current:t,version:e.version,isWindows:Hn(zn,t),isiOS:Hn("iOS",t),isAndroid:Hn(Un,t),isOSX:Hn("OSX",t),isLinux:Hn("Linux",t),isSolaris:Hn(Vn,t),isFreeBSD:Hn(jn,t)};},$n={unknown:function unknown(){return qn({current:undefined,version:Pn.unknown()});},nu:qn,windows:q(zn),ios:q("iOS"),android:q(Un),linux:q("Linux"),osx:q("OSX"),solaris:q(Vn),freebsd:q(jn)},Wn=function Wn(e,t){var n=String(t).toLowerCase();return X(e,function(e){return e.search(n);});},Kn=function Kn(e,n){return Wn(e,n).map(function(e){var t=Pn.detect(e.versionRegexes,n);return{current:e.name,version:t};});},Xn=function Xn(e,n){return Wn(e,n).map(function(e){var t=Pn.detect(e.versionRegexes,n);return{current:e.name,version:t};});},Yn=function Yn(e,t){return-1!==e.indexOf(t);},Gn=function Gn(e){return e.replace(/^\s+|\s+$/g,"");},Jn=function Jn(e){return e.replace(/\s+$/g,"");},Qn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zn=function Zn(t){return function(e){return Yn(e,t);};},er=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function search(e){return Yn(e,"edge/")&&Yn(e,"chrome")&&Yn(e,"safari")&&Yn(e,"applewebkit");}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qn],search:function search(e){return Yn(e,"chrome")&&!Yn(e,"chromeframe");}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function search(e){return Yn(e,"msie")||Yn(e,"trident");}},{name:"Opera",versionRegexes:[Qn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zn("firefox")},{name:"Safari",versionRegexes:[Qn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function search(e){return(Yn(e,"safari")||Yn(e,"mobile/"))&&Yn(e,"applewebkit");}}],tr=[{name:"Windows",search:Zn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function search(e){return Yn(e,"iphone")||Yn(e,"ipad");},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Zn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zn("linux"),versionRegexes:[]},{name:"Solaris",search:Zn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zn("freebsd"),versionRegexes:[]}],nr={browsers:q(er),oses:q(tr)},rr=function rr(e){var t,n,r,o,i,a,u,s,c,l,f,d=nr.browsers(),m=nr.oses(),g=Kn(d,e).fold(Mn.unknown,Mn.nu),p=Xn(m,e).fold($n.unknown,$n.nu);return{browser:g,os:p,deviceType:(n=g,r=e,o=(t=p).isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,u=t.isAndroid()&&4===t.version.major,s=o||a||u&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),l=c&&!s,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:q(o),isiPhone:q(i),isTablet:q(s),isPhone:q(l),isTouch:q(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:q(f)})};},or={detect:(En=function En(){var e=j.navigator.userAgent;return rr(e);},Tn=!1,function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}return Tn||(Tn=!0,Sn=En.apply(null,e)),Sn;})},ir=function ir(e){if(null===e||e===undefined)throw new Error("Node cannot be null or undefined");return{dom:q(e)};},ar={fromHtml:function fromHtml(e,t){var n=(t||j.document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw j.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ir(n.childNodes[0]);},fromTag:function fromTag(e,t){var n=(t||j.document).createElement(e);return ir(n);},fromText:function fromText(e,t){var n=(t||j.document).createTextNode(e);return ir(n);},fromDom:ir,fromPoint:function fromPoint(e,t,n){var r=e.dom();return _.from(r.elementFromPoint(t,n)).map(ir);}},ur=(j.Node.ATTRIBUTE_NODE,j.Node.CDATA_SECTION_NODE,j.Node.COMMENT_NODE,j.Node.DOCUMENT_NODE),sr=(j.Node.DOCUMENT_TYPE_NODE,j.Node.DOCUMENT_FRAGMENT_NODE,j.Node.ELEMENT_NODE),cr=j.Node.TEXT_NODE,lr=(j.Node.PROCESSING_INSTRUCTION_NODE,j.Node.ENTITY_REFERENCE_NODE,j.Node.ENTITY_NODE,j.Node.NOTATION_NODE,function(e){return e.dom().nodeName.toLowerCase();}),fr=function fr(t){return function(e){return e.dom().nodeType===t;};},dr=fr(sr),mr=fr(cr),gr=Object.keys,pr=Object.hasOwnProperty,hr=function hr(e,t){for(var n=gr(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i);}},vr=function vr(e,r){var o={};return hr(e,function(e,t){var n=r(e,t);o[n.k]=n.v;}),o;},yr=function yr(e){return e.style!==undefined&&D(e.style.getPropertyValue);},br=function br(e,t,n){if(!(S(n)||R(n)||O(n)))throw j.console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"");},Cr=function Cr(e,t,n){br(e.dom(),t,n);},xr=function xr(e,t){var n=e.dom();hr(t,function(e,t){br(n,t,e);});},wr=function wr(e,t){var n=e.dom().getAttribute(t);return null===n?undefined:n;},Nr=function Nr(e,t){e.dom().removeAttribute(t);},Er=function Er(e,t){var n=e.dom();hr(t,function(e,t){!function(e,t,n){if(!S(n))throw j.console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);yr(e)&&e.style.setProperty(t,n);}(n,t,e);});},Sr=function Sr(e,t){var n,r,o=e.dom(),i=j.window.getComputedStyle(o).getPropertyValue(t),a=""!==i||(r=mr(n=e)?n.dom().parentNode:n.dom())!==undefined&&null!==r&&r.ownerDocument.body.contains(r)?i:Tr(o,t);return null===a?undefined:a;},Tr=function Tr(e,t){return yr(e)?e.style.getPropertyValue(t):"";},kr=function kr(){for(var t=[],e=0;e<arguments.length;e++){t[e]=arguments[e];}return function(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return z(t,function(e,t){r[e]=q(n[t]);}),r;};},_r=function _r(e,t){for(var n=[],r=function r(e){return n.push(e),t(e);},o=t(e);(o=o.bind(r)).isSome();){;}return n;},Ar=function Ar(){return oe.getOrDie("Node");},Rr=function Rr(e,t,n){return 0!=(e.compareDocumentPosition(t)&n);},Dr=function Dr(e,t){return Rr(e,t,Ar().DOCUMENT_POSITION_CONTAINED_BY);},Or=sr,Br=ur,Pr=function Pr(e,t){var n=e.dom();if(n.nodeType!==Or)return!1;var r=n;if(r.matches!==undefined)return r.matches(t);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors");},Ir=function Ir(e){return e.nodeType!==Or&&e.nodeType!==Br||0===e.childElementCount;},Lr=function Lr(e,t){return e.dom()===t.dom();},Fr=or.detect().browser.isIE()?function(e,t){return Dr(e.dom(),t.dom());}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r);},Mr=function Mr(e){return ar.fromDom(e.dom().ownerDocument);},zr=function zr(e){return ar.fromDom(e.dom().ownerDocument.defaultView);},Ur=function Ur(e){return _.from(e.dom().parentNode).map(ar.fromDom);},Vr=function Vr(e){return _.from(e.dom().previousSibling).map(ar.fromDom);},jr=function jr(e){return _.from(e.dom().nextSibling).map(ar.fromDom);},Hr=function Hr(e){return t=_r(e,Vr),(n=B.call(t,0)).reverse(),n;var t,n;},qr=function qr(e){return _r(e,jr);},$r=function $r(e){return W(e.dom().childNodes,ar.fromDom);},Wr=function Wr(e,t){var n=e.dom().childNodes;return _.from(n[t]).map(ar.fromDom);},Kr=function Kr(e){return Wr(e,0);},Xr=function Xr(e){return Wr(e,e.dom().childNodes.length-1);},Yr=(kr("element","offset"),or.detect().browser),Gr=function Gr(e){return X(e,dr);},Jr={getPos:function getPos(e,t,n){var r,o,i,a=0,u=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Sr(ar.fromDom(e),"position"))return{x:a=(o=t.getBoundingClientRect()).left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,y:u=o.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType;){a+=r.offsetLeft||0,u+=r.offsetTop||0,r=r.offsetParent;}for(r=t.parentNode;r&&r!==n&&r.nodeType;){a-=r.scrollLeft||0,u-=r.scrollTop||0,r=r.parentNode;}u+=(i=ar.fromDom(t),Yr.isFirefox()&&"table"===lr(i)?Gr($r(i)).filter(function(e){return"caption"===lr(e);}).bind(function(o){return Gr(qr(o)).map(function(e){var t=e.dom().offsetTop,n=o.dom().offsetTop,r=o.dom().offsetHeight;return t<=n?-r:0;});}).getOr(0):0);}return{x:a,y:u};}},Qr={},Zr={exports:Qr};kn=undefined,_n=Qr,An=Zr,Rn=undefined,function(e){"object"==_typeof(_n)&&void 0!==An?An.exports=e():"function"==typeof kn&&kn.amd?kn([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e();}(function(){return function i(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof Rn&&Rn;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r;}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e);},o,o.exports,i,a,u,s);}return u[t].exports;}for(var l="function"==typeof Rn&&Rn,e=0;e<s.length;e++){c(s[e]);}return c;}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined");}function u(){throw new Error("clearTimeout has not been defined");}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0);}catch(nE){try{return r.call(null,e,0);}catch(nE){return r.call(this,e,0);}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a;}catch(nE){r=a;}try{o="function"==typeof clearTimeout?clearTimeout:u;}catch(nE){o=u;}}();var c,l=[],f=!1,d=-1;function m(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&g());}function g(){if(!f){var e=s(m);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;){c&&c[d].run();}d=-1,t=l.length;}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e);}catch(nE){try{return o.call(null,e);}catch(nE){return o.call(this,e);}}}(e);}}function p(e,t){this.fun=e,this.array=t;}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n];}l.push(new p(e,t)),1!==l.length||f||s(g);},p.prototype.run=function(){this.fun.apply(null,this.array);},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[];},i.binding=function(e){throw new Error("process.binding is not supported");},i.cwd=function(){return"/";},i.chdir=function(e){throw new Error("process.chdir is not supported");},i.umask=function(){return 0;};},{}],2:[function(e,f,t){(function(n){!function(e){var t=setTimeout;function r(){}function i(e){if("object"!=_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],l(e,this);}function o(n,r){for(;3===n._state;){n=n._value;}0!==n._state?(n._handled=!0,i._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value);}catch(nE){return void u(r.promise,nE);}a(r.promise,t);}else(1===n._state?a:u)(r.promise,n._value);})):n._deferreds.push(r);}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==_typeof(t)||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void l((r=n,o=t,function(){r.apply(o,arguments);}),e);}e._state=1,e._value=t,s(e);}catch(nE){u(e,nE);}var r,o;}function u(e,t){e._state=2,e._value=t,s(e);}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value);});for(var t=0,n=e._deferreds.length;t<n;t++){o(e,e._deferreds[t]);}e._deferreds=null;}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n;}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e));},function(e){n||(n=!0,u(t,e));});}catch(r){if(n)return;n=!0,u(t,r);}}i.prototype["catch"]=function(e){return this.then(null,e);},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new c(e,t,n)),n;},i.all=function(e){var s=Array.prototype.slice.call(e);return new i(function(o,i){if(0===s.length)return o([]);var a=s.length;function u(t,e){try{if(e&&("object"==_typeof(e)||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){u(t,e);},i);}s[t]=e,0==--a&&o(s);}catch(r){i(r);}}for(var e=0;e<s.length;e++){u(e,s[e]);}});},i.resolve=function(t){return t&&"object"==_typeof(t)&&t.constructor===i?t:new i(function(e){e(t);});},i.reject=function(n){return new i(function(e,t){t(n);});},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++){o[n].then(e,t);}});},i._immediateFn="function"==typeof n?function(e){n(e);}:function(e){t(e,0);},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e);},i._setImmediateFn=function(e){i._immediateFn=e;},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e;},void 0!==f&&f.exports?f.exports=i:e.Promise||(e.Promise=i);}(this);}).call(this,e("timers").setImmediate);},{timers:3}],3:[function(s,e,c){(function(e,t){var r=s("process/browser.js").nextTick,n=Function.prototype.apply,o=Array.prototype.slice,i={},a=0;function u(e,t){this._id=e,this._clearFn=t;}c.setTimeout=function(){return new u(n.call(setTimeout,window,arguments),clearTimeout);},c.setInterval=function(){return new u(n.call(setInterval,window,arguments),clearInterval);},c.clearTimeout=c.clearInterval=function(e){e.close();},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id);},c.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t;},c.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1;},c._unrefActive=c.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout();},t));},c.setImmediate="function"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&o.call(arguments,1);return i[t]=!0,r(function(){i[t]&&(n?e.apply(null,n):e.call(null),c.clearImmediate(t));}),t;},c.clearImmediate="function"==typeof t?t:function(e){delete i[e];};}).call(this,s("timers").setImmediate,s("timers").clearImmediate);},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r};},{"promise-polyfill":2}]},{},[4])(4);});var eo=Zr.exports.boltExport,to=function to(e){var n=_.none(),t=[],r=function r(e){o()?a(e):t.push(e);},o=function o(){return n.isSome();},i=function i(e){z(e,a);},a=function a(t){n.each(function(e){j.setTimeout(function(){t(e);},0);});};return e(function(e){n=_.some(e),i(t),t=[];}),{get:r,map:function map(n){return to(function(t){r(function(e){t(n(e));});});},isReady:o};},no={nu:to,pure:function pure(t){return to(function(e){e(t);});}},ro=function ro(e){j.setTimeout(function(){throw e;},0);},oo=function oo(n){var e=function e(_e3){n().then(_e3,ro);};return{map:function map(e){return oo(function(){return n().then(e);});},bind:function bind(t){return oo(function(){return n().then(function(e){return t(e).toPromise();});});},anonBind:function anonBind(e){return oo(function(){return n().then(function(){return e.toPromise();});});},toLazy:function toLazy(){return no.nu(e);},toCached:function toCached(){var e=null;return oo(function(){return null===e&&(e=n()),e;});},toPromise:n,get:e};},io={nu:function nu(e){return oo(function(){return new eo(e);});},pure:function pure(e){return oo(function(){return eo.resolve(e);});}},ao=function ao(a,e){return e(function(r){var o=[],i=0;0===a.length?r([]):z(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o);}));});});},uo=function uo(e){return ao(e,io.nu);},so=function so(n){return{is:function is(e){return n===e;},isValue:C,isError:b,getOr:q(n),getOrThunk:q(n),getOrDie:q(n),or:function or(e){return so(n);},orThunk:function orThunk(e){return so(n);},fold:function fold(e,t){return t(n);},map:function map(e){return so(e(n));},mapError:function mapError(e){return so(n);},each:function each(e){e(n);},bind:function bind(e){return e(n);},exists:function exists(e){return e(n);},forall:function forall(e){return e(n);},toOption:function toOption(){return _.some(n);}};},co=function co(n){return{is:b,isValue:b,isError:C,getOr:$,getOrThunk:function getOrThunk(e){return e();},getOrDie:function getOrDie(){return e=String(n),function(){throw new Error(e);}();var e;},or:function or(e){return e;},orThunk:function orThunk(e){return e();},fold:function fold(e,t){return e(n);},map:function map(e){return co(n);},mapError:function mapError(e){return co(e(n));},each:o,bind:function bind(e){return co(n);},exists:b,forall:C,toOption:_.none};},lo={value:so,error:co,fromOption:function fromOption(e,t){return e.fold(function(){return co(t);},so);}};function fo(e,u){var t=e,n=function n(e,t,_n2,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==u){if(o=e[_n2])return o;for(i=e.parentNode;i&&i!==u;i=i.parentNode){if(o=i[_n2])return o;}}}};this.current=function(){return t;},this.next=function(e){return t=n(t,"firstChild","nextSibling",e);},this.prev=function(e){return t=n(t,"lastChild","previousSibling",e);},this.prev2=function(e){return t=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],u&&o===u)return;if(o){if(!r)for(a=o[t];a;a=a[t]){if(!a[t])return a;}return o;}if((i=e.parentNode)&&i!==u)return i;}}(t,"lastChild","previousSibling",e);};}var mo,go,po,ho=function ho(t){var n;return function(e){return(n=n||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r);}return n;}(t,q(!0))).hasOwnProperty(lr(e));};},vo=ho(["h1","h2","h3","h4","h5","h6"]),yo=ho(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),bo=function bo(e){return dr(e)&&!yo(e);},Co=function Co(e){return dr(e)&&"br"===lr(e);},xo=ho(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),wo=ho(["ul","ol","dl"]),No=ho(["li","dd","dt"]),Eo=ho(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),So=ho(["thead","tbody","tfoot"]),To=ho(["td","th"]),ko=ho(["pre","script","textarea","style"]),_o=function _o(t){return function(e){return!!e&&e.nodeType===t;};},Ao=_o(1),Ro=function Ro(e){var r=e.toLowerCase().split(" ");return function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<r.length;t++){if(n===r[t])return!0;}return!1;};},Do=function Do(t){return function(e){if(Ao(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0;}return!1;};},Oo=_o(3),Bo=_o(8),Po=_o(9),Io=_o(11),Lo=Ro("br"),Fo=Do("true"),Mo=Do("false"),zo={isText:Oo,isElement:Ao,isComment:Bo,isDocument:Po,isDocumentFragment:Io,isBr:Lo,isContentEditableTrue:Fo,isContentEditableFalse:Mo,isRestrictedNode:function isRestrictedNode(e){return!!e&&!Object.getPrototypeOf(e);},matchNodeNames:Ro,hasPropValue:function hasPropValue(t,n){return function(e){return Ao(e)&&e[t]===n;};},hasAttribute:function hasAttribute(t,e){return function(e){return Ao(e)&&e.hasAttribute(t);};},hasAttributeValue:function hasAttributeValue(t,n){return function(e){return Ao(e)&&e.getAttribute(t)===n;};},matchStyleValues:function matchStyleValues(r,e){var o=e.toLowerCase().split(" ");return function(e){var t;if(Ao(e))for(t=0;t<o.length;t++){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if((n?n.getPropertyValue(r):null)===o[t])return!0;}return!1;};},isBogus:function isBogus(e){return Ao(e)&&e.hasAttribute("data-mce-bogus");},isBogusAll:function isBogusAll(e){return Ao(e)&&"all"===e.getAttribute("data-mce-bogus");},isTable:function isTable(e){return Ao(e)&&"TABLE"===e.tagName;}},Uo=function Uo(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type");},Vo=function Vo(e,t){var n,r=t.childNodes;if(!zo.isElement(t)||!Uo(t)){for(n=r.length-1;0<=n;n--){Vo(e,r[n]);}if(!1===zo.isDocument(t)){if(zo.isText(t)&&0<t.nodeValue.length){var o=Xt.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<o)return;if(0===o&&(a=(i=t).previousSibling&&"SPAN"===i.previousSibling.nodeName,u=i.nextSibling&&"SPAN"===i.nextSibling.nodeName,a&&u))return;}else if(zo.isElement(t)&&(1===(r=t.childNodes).length&&Uo(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||Eo(ar.fromDom(t))))return;e.remove(t);}var i,a,u;return t;}},jo={trimNode:Vo},Ho=Xt.makeMap,qo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$o=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wo=/[<>&\"\']/g,Ko=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Xo={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};go={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},po={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Yo=function Yo(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2){r=String.fromCharCode(parseInt(e[n],t)),go[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);}return i;}};mo=Yo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Go=function Go(e,t){return e.replace(t?qo:$o,function(e){return go[e]||e;});},Jo=function Jo(e,t){return e.replace(t?qo:$o,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":go[e]||"&#"+e.charCodeAt(0)+";";});},Qo=function Qo(e,t,n){return n=n||mo,e.replace(t?qo:$o,function(e){return go[e]||n[e]||e;});},Zo={encodeRaw:Go,encodeAllRaw:function encodeAllRaw(e){return(""+e).replace(Wo,function(e){return go[e]||e;});},encodeNumeric:Jo,encodeNamed:Qo,getEncodeFunc:function getEncodeFunc(e,t){var n=Yo(t)||mo,r=Ho(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?qo:$o,function(e){return go[e]!==undefined?go[e]:n[e]!==undefined?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";";});}:r.named?t?function(e,t){return Qo(e,t,n);}:Qo:r.numeric?Jo:Go;},decode:function decode(e){return e.replace(Ko,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Xo[t]||String.fromCharCode(t):po[e]||mo[e]||(n=e,(r=ar.fromTag("div").dom()).innerHTML=n,r.textContent||r.innerText||n);var n,r;});}},ei={},ti={},ni=Xt.makeMap,ri=Xt.each,oi=Xt.extend,ii=Xt.explode,ai=Xt.inArray,ui=function ui(e,t){return(e=Xt.trim(e))?e.split(t||" "):[];},si=function si(e){var u,t,n,r,o,i,s={},a=function a(e,t,n){var r,o,i,a=function a(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++){o[e[n]]=t||{};}return o;};for(t=t||"","string"==typeof(n=n||[])&&(n=ui(n)),r=(e=ui(e)).length;r--;){i={attributes:a(o=ui([u,t].join(" "))),attributesOrder:o,children:a(n,ti)},s[e[r]]=i;}},c=function c(e,t){var n,r,o,i;for(n=(e=ui(e)).length,t=ui(t);n--;){for(r=s[e[n]],o=0,i=t.length;o<i;o++){r.attributes[t[o]]={},r.attributesOrder.push(t[o]);}}};return ei[e]?ei[e]:(u="id accesskey class dir lang style tabindex title role",t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(u+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",t+=" article aside details dialog figure main header footer hgroup section nav",n+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(u+=" xml:lang",n=[n,i="acronym applet basefont big font strike tt"].join(" "),ri(ui(i),function(e){a(e,"",n);}),t=[t,o="center dir isindex noframes"].join(" "),r=[t,n].join(" "),ri(ui(o),function(e){a(e,"",r);})),r=r||[t,n].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),a("address dt dd div caption","",r),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),a("blockquote","cite",r),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",r),a("dl","","dt dd"),a("a","href target rel media hreflang type",n),a("q","cite",n),a("ins del","cite datetime",r),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",r),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),a("param","name value"),a("map","name",[r,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",r),a("th","colspan rowspan headers scope abbr",r),a("form","accept-charset action autocomplete enctype method name novalidate target",r),a("fieldset","disabled form name",[r,"legend"].join(" ")),a("label","form for",n),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:n),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[r,"li"].join(" ")),a("noscript","",r),"html4"!==e&&(a("wbr"),a("ruby","",[n,"rt rp"].join(" ")),a("figcaption","",r),a("mark rt rp summary bdi","",n),a("canvas","width height",r),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[n,"option"].join(" ")),a("article section nav aside main header footer","",r),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[r,"figcaption"].join(" ")),a("time","datetime",n),a("dialog","open",r),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",n),a("progress","value max",n),a("meter","value min max low high optimum",n),a("details","open",[r,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),ri(ui("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e];}),delete s.caption.children.table,delete s.script,ei[e]=s);},ci=function ci(e,n){var r;return e&&(r={},"string"==typeof e&&(e={"*":e}),ri(e,function(e,t){r[t]=r[t.toUpperCase()]="map"===n?ni(e,/[, ]/):ii(e,/[, ]/);})),r;};function li(i){var e,t,n,r,o,a,u,s,c,l,f,d,m,N={},g={},E=[],p={},h={},v=function v(e,t,n){var r=i[e];return r?r=ni(r,/[, ]/,ni(r.toUpperCase(),/[, ]/)):(r=ei[e])||(r=ni(t," ",ni(t.toUpperCase()," ")),r=oi(r,n),ei[e]=r),r;};n=si((i=i||{}).schema),!1===i.verify_html&&(i.valid_elements="*[*]"),e=ci(i.valid_styles),t=ci(i.invalid_styles,"map"),s=ci(i.valid_classes,"map"),r=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),u=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=v("non_empty_elements","td th iframe video audio object script pre code",a),f=v("move_caret_before_on_enter_elements","table",l),d=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),c=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),m=v("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),ri((i.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){h[e]=new RegExp("</"+e+"[^>]*>","gi");});var S=function S(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$");},y=function y(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,y,b,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,x=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e)for(e=ui(e,","),N["@"]&&(h=N["@"].attributes,v=N["@"].attributesOrder),t=0,n=e.length;t<n;t++){if(i=C.exec(e[t])){if(g=i[1],c=i[2],p=i[3],s=i[5],a={attributes:d={},attributesOrder:m=[]},"#"===g&&(a.paddEmpty=!0),"-"===g&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),h){for(y in h){d[y]=h[y];}m.push.apply(m,v);}if(s)for(r=0,o=(s=ui(s,"|")).length;r<o;r++){if(i=x.exec(s[r])){if(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),g=i[3],b=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f){delete d[l],m.splice(ai(m,l),1);continue;}g&&("="===g&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:b}),u.defaultValue=b),":"===g&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:b}),u.forcedValue=b),"<"===g&&(u.validValues=ni(b,"?"))),w.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=S(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u);}}h||"@"!==c||(h=d,v=m),p&&(a.outputName=c,N[p]=a),w.test(c)?(a.pattern=S(c),E.push(a)):N[c]=a;}}},b=function b(e){N={},E=[],y(e),ri(n,function(e,t){g[t]=e.children;});},C=function C(e){var a=/^(~)?(.+)$/;e&&(ei.text_block_elements=ei.block_elements=null,ri(ui(e,","),function(e){var t=a.exec(e),n="~"===t[1],r=n?"span":"div",o=t[2];if(g[o]=g[r],p[o]=r,n||(c[o.toUpperCase()]={},c[o]={}),!N[o]){var i=N[r];delete(i=oi({},i)).removeEmptyAttrs,delete i.removeEmpty,N[o]=i;}ri(g,function(e,t){e[r]&&(g[t]=e=oi({},g[t]),e[o]=e[r]);});}));},x=function x(e){var o=/^([+\-]?)(\w+)\[([^\]]+)\]$/;ei[i.schema]=null,e&&ri(ui(e,","),function(e){var t,n,r=o.exec(e);r&&(n=r[1],t=n?g[r[2]]:g[r[2]]={"#comment":{}},t=g[r[2]],ri(ui(r[3],"|"),function(e){"-"===n?delete t[e]:t[e]={};}));});},w=function w(e){var t,n=N[e];if(n)return n;for(t=E.length;t--;){if((n=E[t]).pattern.test(e))return n;}};return i.valid_elements?b(i.valid_elements):(ri(n,function(e,t){N[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},g[t]=e.children;}),"html5"!==i.schema&&ri(ui("strong/b em/i"),function(e){e=ui(e,"/"),N[e[1]].outputName=e[0];}),ri(ui("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){N[e]&&(N[e].removeEmpty=!0);}),ri(ui("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){N[e].paddEmpty=!0;}),ri(ui("span"),function(e){N[e].removeEmptyAttrs=!0;})),C(i.custom_elements),x(i.valid_children),y(i.extended_valid_elements),x("+ol[ul|ol],+ul[ul|ol]"),ri({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){N[t]&&(N[t].parentsRequired=ui(e));}),i.invalid_elements&&ri(ii(i.invalid_elements),function(e){N[e]&&delete N[e];}),w("span")||y("span[!data-mce-type|*]"),{children:g,elements:N,getValidStyles:function getValidStyles(){return e;},getValidClasses:function getValidClasses(){return s;},getBlockElements:function getBlockElements(){return c;},getInvalidStyles:function getInvalidStyles(){return t;},getShortEndedElements:function getShortEndedElements(){return a;},getTextBlockElements:function getTextBlockElements(){return d;},getTextInlineElements:function getTextInlineElements(){return m;},getBoolAttrs:function getBoolAttrs(){return u;},getElementRule:w,getSelfClosingElements:function getSelfClosingElements(){return o;},getNonEmptyElements:function getNonEmptyElements(){return l;},getMoveCaretBeforeOnEnterElements:function getMoveCaretBeforeOnEnterElements(){return f;},getWhiteSpaceElements:function getWhiteSpaceElements(){return r;},getSpecialElements:function getSpecialElements(){return h;},isValidChild:function isValidChild(e,t){var n=g[e.toLowerCase()];return!(!n||!n[t.toLowerCase()]);},isValid:function isValid(e,t){var n,r,o=w(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;){if(n[r].pattern.test(e))return!0;}}return!1;},getCustomElements:function getCustomElements(){return p;},addValidElements:y,setValidElements:b,addCustomElements:C,addValidChildren:x};}var fi=function fi(e,t,n,r){var o=function o(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e;};return"#"+o(t)+o(n)+o(r);};function di(b,e){var C,t,c,l,x=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,w=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,N=/\s*([^:]+):\s*([^;]+);?/g,E=/\s+$/,S={},T="\uFEFF";for(b=b||{},e&&(c=e.getValidStyles(),l=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+T).split(" "),C=0;C<t.length;C++){S[t[C]]=T+C,S[T+C]=t[C];}return{toHex:function toHex(e){return e.replace(x,fi);},parse:function parse(e){var t,n,r,o,i,a,u,s,c={},l=b.url_converter,f=b.url_converter_scope||this,d=function d(e,t,n){var r,o,i,a;if((r=c[e+"-top"+t])&&(o=c[e+"-right"+t])&&(i=c[e+"-bottom"+t])&&(a=c[e+"-left"+t])){var u=[r,o,i,a];for(C=u.length-1;C--&&u[C]===u[C+1];){;}-1<C&&n||(c[e+t]=-1===C?u[0]:u.join(" "),delete c[e+"-top"+t],delete c[e+"-right"+t],delete c[e+"-bottom"+t],delete c[e+"-left"+t]);}},m=function m(e){var t,n=c[e];if(n){for(t=(n=n.split(" ")).length;t--;){if(n[t]!==n[0])return!1;}return c[e]=n[0],!0;}},g=function g(e){return o=!0,S[e];},p=function p(e,t){return o&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return S[e];})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e;},h=function h(e){return String.fromCharCode(parseInt(e.slice(1),16));},v=function v(e){return e.replace(/\\[0-9a-f]+/gi,h);},y=function y(e,t,n,r,o,i){if(o=o||i)return"'"+(o=p(o)).replace(/\'/g,"\\'")+"'";if(t=p(t||n||r),!b.allow_script_urls){var a=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!b.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return"";}return l&&(t=l.call(f,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')";};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,g).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,g);});t=N.exec(e);){if(N.lastIndex=t.index+t[0].length,n=t[1].replace(E,"").toLowerCase(),r=t[2].replace(E,""),n&&r){if(n=v(n),r=v(r),-1!==n.indexOf(T)||-1!==n.indexOf('"'))continue;if(!b.allow_script_urls&&("behavior"===n||/expression\s*\(|\/\*|\*\//.test(r)))continue;"font-weight"===n&&"700"===r?r="bold":"color"!==n&&"background-color"!==n||(r=r.toLowerCase()),r=(r=r.replace(x,fi)).replace(w,y),c[n]=o?p(r,!0):r;}}d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),i="border",u="border-style",s="border-color",m(a="border-width")&&m(u)&&m(s)&&(c[i]=c[a]+" "+c[u]+" "+c[s],delete c[a],delete c[u],delete c[s]),"medium none"===c.border&&delete c.border,"none"===c["border-image"]&&delete c["border-image"];}return c;},serialize:function serialize(i,e){var t,n,r,o,a,u="",s=function s(e){var t,n,r,o;if(t=c[e])for(n=0,r=t.length;n<r;n++){e=t[n],(o=i[e])&&(u+=(0<u.length?" ":"")+e+": "+o+";");}};if(e&&c)s("*"),s(e);else for(t in i){!(n=i[t])||l&&(r=t,o=e,a=void 0,(a=l["*"])&&a[r]||(a=l[o])&&a[r])||(u+=(0<u.length?" ":"")+t+": "+n+";");}return u;}};}var mi,gi=Xt.each,pi=Xt.grep,hi=fe.ie,vi=/^([a-z0-9],?)+$/i,yi=/^[ \t\r\n]*$/,bi=function bi(n,r,o){var e={},i=r.keep_values,t={set:function set(e,t,n){r.url_converter&&(t=r.url_converter.call(r.url_converter_scope||o(),t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t);},get:function get(e,t){return e.attr("data-mce-"+t)||e.attr(t);}};return e={style:{set:function set(e,t){null===t||"object"!=_typeof(t)?(i&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t);},get:function get(e){var t=e.attr("data-mce-style")||e.attr("style");return t=n.serialize(n.parse(t),e[0].nodeName);}}},i&&(e.href=e.src=t),e;},Ci=function Ci(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r);},xi=function xi(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);}return o;};function wi(a,u){var s,c=this;void 0===u&&(u={});var r={},i=j.window,o={},t=0,e=function(m,g){void 0===g&&(g={});var p,h=0,v={};p=g.maxLoadTime||5e3;var y=function y(e){m.getElementsByTagName("head")[0].appendChild(e);},n=function n(e,t,_n3){var o,r,i,a,u=function u(){for(var e=a.passed,t=e.length;t--;){e[t]();}a.status=2,a.passed=[],a.failed=[];},s=function s(){for(var e=a.failed,t=e.length;t--;){e[t]();}a.status=3,a.passed=[],a.failed=[];},c=function c(e,t){e()||(new Date().getTime()-i<p?he.setTimeout(t):s());},l=function l(){c(function(){for(var e,t,n=m.styleSheets,r=n.length;r--;){if((t=(e=n[r]).ownerNode?e.ownerNode:e.owningElement)&&t.id===o.id)return u(),!0;}},l);},f=function f(){c(function(){try{var e=r.sheet.cssRules;return u(),!!e;}catch(t){}},f);};if(e=Xt._addCacheSuffix(e),v[e]?a=v[e]:(a={passed:[],failed:[]},v[e]=a),t&&a.passed.push(t),_n3&&a.failed.push(_n3),1!==a.status)if(2!==a.status){if(3!==a.status){if(a.status=1,(o=m.createElement("link")).rel="stylesheet",o.type="text/css",o.id="u"+h++,o.async=!1,o.defer=!1,i=new Date().getTime(),g.contentCssCors&&(o.crossOrigin="anonymous"),"onload"in o&&!((d=j.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(d[1],10)<536))o.onload=l,o.onerror=s;else{if(0<j.navigator.userAgent.indexOf("Firefox"))return(r=m.createElement("style")).textContent='@import "'+e+'"',f(),void y(r);l();}var d;y(o),o.href=e;}else s();}else u();},t=function t(_t2){return io.nu(function(e){n(_t2,H(e,q(lo.value(_t2))),H(e,q(lo.error(_t2))));});},o=function o(e){return e.fold($,$);};return{load:n,loadAll:function loadAll(e,n,r){uo(W(e,t)).get(function(e){var t=K(e,function(e){return e.isValue();});0<t.fail.length?r(t.fail.map(o)):n(t.pass.map(o));});}};}(a,{contentCssCors:u.contentCssCors}),l=[],f=u.schema?u.schema:li({}),d=di({url_converter:u.url_converter,url_converter_scope:u.url_converter_scope},u.schema),m=u.ownEvents?new Se(u.proxy):Se.Event,n=f.getBlockElements(),g=gn.overrideDefaults(function(){return{context:a,element:V.getRoot()};}),p=function p(e){if(e&&a&&"string"==typeof e){var t=a.getElementById(e);return t&&t.id!==e?a.getElementsByName(e)[1]:t;}return e;},h=function h(e){return"string"==typeof e&&(e=p(e)),g(e);},v=function v(e,t,n){var r,o,i=h(e);return i.length&&(o=(r=s[t])&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o;},y=function y(e){var t=p(e);return t?t.attributes:[];},b=function b(e,t,n){var r,o;""===n&&(n=null);var i=h(e);r=i.attr(t),i.length&&((o=s[t])&&o.set?o.set(i,n,t):i.attr(t,n),r!==n&&u.onSetAttrib&&u.onSetAttrib({attrElm:i,attrName:t,attrValue:n}));},C=function C(){return u.root_element||a.body;},x=function x(e,t){return Jr.getPos(a.body,p(e),t);},w=function w(e,t,n){var r=h(e);return n?r.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase();}))&&(t=fe.ie&&fe.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:undefined);},N=function N(e){var t,n;return e=p(e),t=w(e,"width"),n=w(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight};},E=function E(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(vi.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;0<=n;n--){if(r[n]===o)return!0;}return!1;}if(e.nodeType&&1!==e.nodeType)return!1;}var i=Array.isArray(e)?e:[e];return 0<St(t,i[0].ownerDocument||i[0],null,i).length;},S=function S(e,t,n,r){var o,i=[],a=p(e);for(r=r===undefined,n=n||("BODY"!==C().nodeName?C().parentNode:null),Xt.is(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType;}:function(e){return E(e,o);});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a);}a=a.parentNode;}return r?i:null;},T=function T(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function r(e){return E(e,t);}),e=e[n];e;e=e[n]){if("function"==typeof r&&r(e))return e;}return null;},k=function k(e,n,r){var o,t="string"==typeof e?p(e):e;if(!t)return!1;if(Xt.isArray(t)&&(t.length||0===t.length))return o=[],gi(t,function(e,t){e&&("string"==typeof e&&(e=p(e)),o.push(n.call(r,e,t)));}),o;var i=r||c;return n.call(i,t);},_=function _(e,t){h(e).each(function(e,n){gi(t,function(e,t){b(n,t,e);});});},A=function A(e,r){var t=h(e);hi?t.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;){t.removeChild(t.firstChild);}try{t.innerHTML="<br>"+r,t.removeChild(t.firstChild);}catch(n){gn("<div></div>").html("<br>"+r).contents().slice(1).appendTo(t);}return r;}}):t.html(r);},R=function R(e,n,r,o,i){return k(e,function(e){var t="string"==typeof n?a.createElement(n):n;return _(t,r),o&&("string"!=typeof o&&o.nodeType?t.appendChild(o):"string"==typeof o&&A(t,o)),i?t:e.appendChild(t);});},D=function D(e,t,n){return R(a.createElement(e),e,t,n,!0);},O=Zo.decode,B=Zo.encodeAllRaw,P=function P(e,t){var n=h(e);return t?n.each(function(){for(var e;e=this.firstChild;){3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this);}}).remove():n.remove(),1<n.length?n.toArray():n[0];},I=function I(e,t,n){h(e).toggleClass(t,n).each(function(){""===this.className&&gn(this).attr("class",null);});},L=function L(t,e,n){return k(e,function(e){return Xt.is(e,"array")&&(t=t.cloneNode(!0)),n&&gi(pi(e.childNodes),function(e){t.appendChild(e);}),e.parentNode.replaceChild(t,e);});},F=function F(){return a.createRange();},M=function M(e,t,n,r){if(Xt.isArray(e)){for(var o=e.length;o--;){e[o]=M(e[o],t,n,r);}return e;}return!u.collect||e!==a&&e!==i||l.push([e,t,n,r]),m.bind(e,t,n,r||V);},z=function z(e,t,n){var r;if(Xt.isArray(e)){for(r=e.length;r--;){e[r]=z(e[r],t,n);}return e;}if(l&&(e===a||e===i))for(r=l.length;r--;){var o=l[r];e!==o[0]||t&&t!==o[1]||n&&n!==o[2]||m.unbind(o[0],o[1],o[2]);}return m.unbind(e,t,n);},U=function U(e){if(e&&zo.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null;}return null;},V={doc:a,settings:u,win:i,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:e,boundEvents:l,styles:d,schema:f,events:m,isBlock:function isBlock(e){if("string"==typeof e)return!!n[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!n[e.nodeName]);}return!1;},$:g,$$:h,root:null,clone:function clone(t,e){if(!hi||1!==t.nodeType||e)return t.cloneNode(e);if(!e){var n=a.createElement(t.nodeName);return gi(y(t),function(e){b(n,e.nodeName,v(t,e.nodeName));}),n;}return null;},getRoot:C,getViewPort:function getViewPort(e){var t=e||i,n=t.document.documentElement;return{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight};},getRect:function getRect(e){var t,n;return e=p(e),t=x(e),n=N(e),{x:t.x,y:t.y,w:n.w,h:n.h};},getSize:N,getParent:function getParent(e,t,n){var r=S(e,t,n,!1);return r&&0<r.length?r[0]:null;},getParents:S,get:p,getNext:function getNext(e,t){return T(e,t,"nextSibling");},getPrev:function getPrev(e,t){return T(e,t,"previousSibling");},select:function select(e,t){return St(e,p(t)||u.root_element||a,[]);},is:E,add:R,create:D,createHTML:function createHTML(e,t,n){var r,o="";for(r in o+="<"+e,t){t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!=typeof t[r]&&(o+=" "+r+'="'+B(t[r])+'"');}return void 0!==n?o+">"+n+"</"+e+">":o+" />";},createFragment:function createFragment(e){var t,n=a.createElement("div"),r=a.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;){r.appendChild(t);}return r;},remove:P,setStyle:function setStyle(e,t,n){var r=h(e).css(t,n);u.update_styles&&Ci(d,r);},getStyle:w,setStyles:function setStyles(e,t){var n=h(e).css(t);u.update_styles&&Ci(d,n);},removeAllAttribs:function removeAllAttribs(e){return k(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--){e.removeAttributeNode(n.item(t));}});},setAttrib:b,setAttribs:_,getAttrib:v,getPos:x,parseStyle:function parseStyle(e){return d.parse(e);},serializeStyle:function serializeStyle(e,t){return d.serialize(e,t);},addStyle:function addStyle(e){var t,n;if(V!==wi.DOM&&a===j.document){if(r[e])return;r[e]=!0;}(n=a.getElementById("mceDefaultStyles"))||((n=a.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=a.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(a.createTextNode(e));},loadCSS:function loadCSS(e){var n;V===wi.DOM||a!==j.document?(e||(e=""),n=a.getElementsByTagName("head")[0],gi(e.split(","),function(e){var t;e=Xt._addCacheSuffix(e),o[e]||(o[e]=!0,t=D("link",{rel:"stylesheet",href:e}),n.appendChild(t));})):wi.DOM.loadCSS(e);},addClass:function addClass(e,t){h(e).addClass(t);},removeClass:function removeClass(e,t){I(e,t,!1);},hasClass:function hasClass(e,t){return h(e).hasClass(t);},toggleClass:I,show:function show(e){h(e).show();},hide:function hide(e){h(e).hide();},isHidden:function isHidden(e){return"none"===h(e).css("display");},uniqueId:function uniqueId(e){return(e||"mce_")+t++;},setHTML:A,getOuterHTML:function getOuterHTML(e){var t="string"==typeof e?p(e):e;return zo.isElement(t)?t.outerHTML:gn("<div></div>").append(gn(t).clone()).html();},setOuterHTML:function setOuterHTML(e,t){h(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t);}catch(e){}P(gn(this).html(t),!0);});},decode:O,encode:B,insertAfter:function insertAfter(e,t){var r=p(t);return k(e,function(e){var t,n;return t=r.parentNode,(n=r.nextSibling)?t.insertBefore(e,n):t.appendChild(e),e;});},replace:L,rename:function rename(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=D(e),gi(y(t),function(e){b(n,e.nodeName,v(t,e.nodeName));}),L(n,t,!0)),n||t;},findCommonAncestor:function findCommonAncestor(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;){n=n.parentNode;}if(r===n)break;r=r.parentNode;}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r;},toHex:function toHex(e){return d.toHex(Xt.trim(e));},run:k,getAttribs:y,isEmpty:function isEmpty(e,t){var n,r,o,i,a,u,s=0;if(e=e.firstChild){a=new fo(e,e.parentNode),t=t||(f?f.getNonEmptyElements():null),i=f?f.getWhiteSpaceElements():{};do{if(o=e.nodeType,zo.isElement(e)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue;}if(u=e.nodeName.toLowerCase(),t&&t[u]){if("br"===u){s++,e=a.next();continue;}return!1;}for(n=(r=y(e)).length;n--;){if("name"===(u=r[n].nodeName)||"data-mce-bookmark"===u)return!1;}}if(8===o)return!1;if(3===o&&!yi.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&yi.test(e.nodeValue))return!1;e=a.next();}while(e);}return s<=1;},createRng:F,nodeIndex:xi,split:function split(e,t,n){var r,o,i,a=F();if(e&&t)return a.setStart(e.parentNode,xi(e)),a.setEnd(t.parentNode,xi(t)),r=a.extractContents(),(a=F()).setStart(t.parentNode,xi(t)+1),a.setEnd(e.parentNode,xi(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(jo.trimNode(V,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(jo.trimNode(V,o),e),P(e),n||t;},bind:M,unbind:z,fire:function fire(e,t,n){return m.fire(e,t,n);},getContentEditable:U,getContentEditableParent:function getContentEditableParent(e){for(var t=C(),n=null;e&&e!==t&&null===(n=U(e));e=e.parentNode){;}return n;},destroy:function destroy(){if(l)for(var e=l.length;e--;){var t=l[e];m.unbind(t[0],t[1],t[2]);}St.setDocument&&St.setDocument();},isChildOf:function isChildOf(e,t){for(;e;){if(t===e)return!0;e=e.parentNode;}return!1;},dumpRng:function dumpRng(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset;}};return s=bi(d,u,function(){return V;}),V;}(mi=wi||(wi={})).DOM=mi(j.document),mi.nodeIndex=xi;var Ni=wi,Ei=Ni.DOM,Si=Xt.each,Ti=Xt.grep,ki=function ki(e){return"function"==typeof e;},_i=function _i(){var l={},o=[],i={},a=[],f=0;this.isDone=function(e){return 2===l[e];},this.markDone=function(e){l[e]=2;},this.add=this.load=function(e,t,n,r){l[e]===undefined&&(o.push(e),l[e]=0),t&&(i[e]||(i[e]=[]),i[e].push({success:t,failure:r,scope:n||this}));},this.remove=function(e){delete l[e],delete i[e];},this.loadQueue=function(e,t,n){this.loadScripts(o,e,t,n);},this.loadScripts=function(n,e,t,r){var _u2,s=[],c=function c(t,e){Si(i[e],function(e){ki(e[t])&&e[t].call(e.scope);}),i[e]=undefined;};a.push({success:e,failure:r,scope:t||this}),(_u2=function u(){var e=Ti(n);if(n.length=0,Si(e,function(e){var t,n,r,o,i,a;2!==l[e]?3!==l[e]?1!==l[e]&&(l[e]=1,f++,t=e,n=function n(){l[e]=2,f--,c("success",e),_u2();},r=function r(){l[e]=3,f--,s.push(e),c("failure",e),_u2();},i=(a=Ei).uniqueId(),(o=j.document.createElement("script")).id=i,o.type="text/javascript",o.src=Xt._addCacheSuffix(t),o.onload=function(){a.remove(i),o&&(o.onreadystatechange=o.onload=o=null),n();},o.onerror=function(){ki(r)?r():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t);},(j.document.getElementsByTagName("head")[0]||j.document.body).appendChild(o)):c("failure",e):c("success",e);}),!f){var t=a.slice(0);a.length=0,Si(t,function(e){0===s.length?ki(e.success)&&e.success.call(e.scope):ki(e.failure)&&e.failure.call(e.scope,s);});}})();};};_i.ScriptLoader=new _i();var Ai,Ri=Xt.each;function Di(){var r=this,o=[],a={},u={},i=[],s=function s(e){var t;return u[e]&&(t=u[e].dependencies),t||[];},c=function c(e,t){return"object"==_typeof(t)?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix};},l=function l(e,n,t,r){var o=s(e);Ri(o,function(e){var t=c(n,e);f(t.resource,t,undefined,undefined);}),t&&(r?t.call(r):t.call(_i));},f=function f(e,t,n,r,o){if(!a[e]){var i="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==i.indexOf("/")&&-1===i.indexOf("://")&&(i=Di.baseURL+"/"+i),a[e]=i.substring(0,i.lastIndexOf("/")),u[e]?l(e,t,n,r):_i.ScriptLoader.add(i,function(){return l(e,t,n,r);},r,o);}};return{items:o,urls:a,lookup:u,_listeners:i,get:function get(e){return u[e]?u[e].instance:undefined;},dependencies:s,requireLangPack:function requireLangPack(e,t){var n=Di.language;if(n&&!1!==Di.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===t.indexOf(","+n+","))return;_i.ScriptLoader.add(a[e]+"/langs/"+n+".js");}},add:function add(t,e,n){o.push(e),u[t]={instance:e,dependencies:n};var r=K(i,function(e){return e.name===t;});return i=r.fail,Ri(r.pass,function(e){e.callback();}),e;},remove:function remove(e){delete a[e],delete u[e];},createUrl:c,addComponents:function addComponents(e,t){var n=r.urls[e];Ri(t,function(e){_i.ScriptLoader.add(n+"/"+e);});},load:f,waitFor:function waitFor(e,t){u.hasOwnProperty(e)?t():i.push({name:e,callback:t});}};}(Ai=Di||(Di={})).PluginManager=Ai(),Ai.ThemeManager=Ai();var Oi=function Oi(t,n){Ur(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom());});},Bi=function Bi(e,t){jr(e).fold(function(){Ur(e).each(function(e){Ii(e,t);});},function(e){Oi(e,t);});},Pi=function Pi(t,n){Kr(t).fold(function(){Ii(t,n);},function(e){t.dom().insertBefore(n.dom(),e.dom());});},Ii=function Ii(e,t){e.dom().appendChild(t.dom());},Li=function Li(t,e){z(e,function(e){Ii(t,e);});},Fi=function Fi(e){e.dom().textContent="",z($r(e),function(e){Mi(e);});},Mi=function Mi(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t);},zi=function zi(e){var t,n=$r(e);0<n.length&&(t=e,z(n,function(e){Oi(t,e);})),Mi(e);},Ui=function Ui(n,r){var o=null;return{cancel:function cancel(){null!==o&&(j.clearTimeout(o),o=null);},throttle:function throttle(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}null===o&&(o=j.setTimeout(function(){n.apply(null,e),o=null;},r));}};},Vi=function Vi(e){var t=e,n=function n(){return t;};return{get:n,set:function set(e){t=e;},clone:function clone(){return Vi(n());}};},ji=function ji(e,t){var n=wr(e,t);return n===undefined||""===n?[]:n.split(" ");},Hi=function Hi(e){return e.dom().classList!==undefined;},qi=function qi(e,t){return o=t,i=ji(n=e,r="class").concat([o]),Cr(n,r,i.join(" ")),!0;var n,r,o,i;},$i=function $i(e,t){return o=t,0<(i=U(ji(n=e,r="class"),function(e){return e!==o;})).length?Cr(n,r,i.join(" ")):Nr(n,r),!1;var n,r,o,i;},Wi=function Wi(e,t){Hi(e)?e.dom().classList.add(t):qi(e,t);},Ki=function Ki(e){0===(Hi(e)?e.dom().classList:ji(e,"class")).length&&Nr(e,"class");},Xi=function Xi(e,t){return Hi(e)&&e.dom().classList.contains(t);},Yi=function Yi(e,t){var n=[];return z($r(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Yi(e,t));}),n;},Gi=function Gi(e,t){return n=t,o=(r=e)===undefined?j.document:r.dom(),Ir(o)?[]:W(o.querySelectorAll(n),ar.fromDom);var n,r,o;};function Ji(e,t,n,r,o){return e(n,r)?_.some(n):D(o)&&o(n)?_.none():t(n,r,o);}var Qi,Zi=function Zi(e,t,n){for(var r=e.dom(),o=D(n)?n:q(!1);r.parentNode;){r=r.parentNode;var i=ar.fromDom(r);if(t(i))return _.some(i);if(o(i))break;}return _.none();},ea=function ea(e,t,n){return Ji(function(e,t){return t(e);},Zi,e,t,n);},ta=function ta(e,t,n){return Zi(e,function(e){return Pr(e,t);},n);},na=function na(e,t){return n=t,o=(r=e)===undefined?j.document:r.dom(),Ir(o)?_.none():_.from(o.querySelector(n)).map(ar.fromDom);var n,r,o;},ra=function ra(e,t,n){return Ji(Pr,ta,e,t,n);},oa=q("mce-annotation"),ia=q("data-mce-annotation"),aa=q("data-mce-annotation-uid"),ua=function ua(r,e){var t=r.selection.getRng(),n=ar.fromDom(t.startContainer),o=ar.fromDom(r.getBody()),i=e.fold(function(){return"."+oa();},function(e){return"["+ia()+'="'+e+'"]';}),a=Wr(n,t.startOffset).getOr(n),u=ra(a,i,function(e){return Lr(e,o);}),s=function s(e,t){return n=t,(r=e.dom())&&r.hasAttribute&&r.hasAttribute(n)?_.some(wr(e,t)):_.none();var n,r;};return u.bind(function(e){return s(e,""+aa()).bind(function(n){return s(e,""+ia()).map(function(e){var t=sa(r,n);return{uid:n,name:e,elements:t};});});});},sa=function sa(e,t){var n=ar.fromDom(e.getBody());return Gi(n,"["+aa()+'="'+t+'"]');},ca=function ca(i,e){var n,r,o,a=Vi({}),c=function c(e,t){u(e,function(e){return t(e),e;});},u=function u(e,t){var n=a.get(),r=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:Vi(_.none())});n[e]=r,a.set(n);},t=(n=function n(){var e,t,n,r=a.get(),o=(e=gr(r),(n=B.call(e,0)).sort(t),n);z(o,function(e){u(e,function(u){var s=u.previous.get();return ua(i,_.some(e)).fold(function(){var t;s.isSome()&&(c(t=e,function(e){z(e.listeners,function(e){return e(!1,t);});}),u.previous.set(_.none()));},function(e){var t,n,r,o=e.uid,i=e.name,a=e.elements;s.is(o)||(n=o,r=a,c(t=i,function(e){z(e.listeners,function(e){return e(!0,t,{uid:n,nodes:W(r,function(e){return e.dom();})});});}),u.previous.set(_.some(o)));}),{previous:u.previous,listeners:u.listeners};});});},r=30,o=null,{cancel:function cancel(){null!==o&&(j.clearTimeout(o),o=null);},throttle:function throttle(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}null!==o&&j.clearTimeout(o),o=j.setTimeout(function(){n.apply(null,e),o=null;},r);}});return i.on("remove",function(){t.cancel();}),i.on("nodeChange",function(){t.throttle();}),{addListener:function addListener(e,t){u(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])};});}};},la=function la(e,n){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){z(e,function(t){var e;(e=t,_.from(e.attributes.map[ia()]).bind(n.lookup)).each(function(e){!1===e.persistent&&t.unwrap();});});});});},fa=0,da=function da(e,t){return ar.fromDom(e.dom().cloneNode(t));},ma=function ma(e){return da(e,!1);},ga=function ga(e){return da(e,!0);},pa=function pa(e,t){var n,r,o=Mr(e).dom(),i=ar.fromDom(o.createDocumentFragment()),a=(n=t,(r=(o||j.document).createElement("div")).innerHTML=n,$r(ar.fromDom(r)));Li(i,a),Fi(e),Ii(e,i);},ha="\uFEFF",va=function va(e){return e===ha;},ya=ha,ba=function ba(e){return e.replace(new RegExp(ha,"g"),"");},Ca=zo.isElement,xa=zo.isText,wa=function wa(e){return xa(e)&&(e=e.parentNode),Ca(e)&&e.hasAttribute("data-mce-caret");},Na=function Na(e){return xa(e)&&va(e.data);},Ea=function Ea(e){return wa(e)||Na(e);},Sa=function Sa(e){return e.firstChild!==e.lastChild||!zo.isBr(e.firstChild);},Ta=function Ta(e){var t=e.container();return!(!e||!zo.isText(t))&&(t.data.charAt(e.offset())===ya||e.isAtStart()&&Na(t.previousSibling));},ka=function ka(e){var t=e.container();return!(!e||!zo.isText(t))&&(t.data.charAt(e.offset()-1)===ya||e.isAtEnd()&&Na(t.nextSibling));},_a=function _a(e,t,n){var r,o,i;return(r=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((i=j.document.createElement("br")).setAttribute("data-mce-bogus","1"),i)),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r;},Aa=function Aa(e){return xa(e)&&e.data[0]===ya;},Ra=function Ra(e){return xa(e)&&e.data[e.data.length-1]===ya;},Da=function Da(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],zo.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n;},Oa=zo.isContentEditableTrue,Ba=zo.isContentEditableFalse,Pa=zo.isBr,Ia=zo.isText,La=zo.matchNodeNames("script style textarea"),Fa=zo.matchNodeNames("img input textarea hr iframe video audio object"),Ma=zo.matchNodeNames("table"),za=Ea,Ua=function Ua(e){return!za(e)&&(Ia(e)?!La(e.parentNode):Fa(e)||Pa(e)||Ma(e)||Va(e));},Va=function Va(e){return!1===(t=e,zo.isElement(t)&&"true"===t.getAttribute("unselectable"))&&Ba(e);var t;},ja=function ja(e,t){return Ua(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Va(e))return!1;if(Oa(e))return!0;}return!0;}(e,t);},Ha=Math.round,qa=function qa(e){return e?{left:Ha(e.left),top:Ha(e.top),bottom:Ha(e.bottom),right:Ha(e.right),width:Ha(e.width),height:Ha(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0};},$a=function $a(e,t){return e=qa(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e;},Wa=function Wa(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2;},Ka=function Ka(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Wa(t.top-e.bottom,e,t);},Xa=function Xa(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Wa(t.bottom-e.top,e,t);},Ya=function Ya(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom;},Ga=function Ga(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null;},Ja=function Ja(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e;},Qa=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Za=function Za(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Qa.test(e);},eu=function eu(e,t,n){return e.isSome()&&t.isSome()?_.some(n(e.getOrDie(),t.getOrDie())):_.none();},tu=[].slice,nu=function nu(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}var n=tu.call(arguments);return function(e){for(var t=0;t<n.length;t++){if(!n[t](e))return!1;}return!0;};},ru=function ru(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}var n=tu.call(arguments);return function(e){for(var t=0;t<n.length;t++){if(n[t](e))return!0;}return!1;};},ou=zo.isElement,iu=Ua,au=zo.matchStyleValues("display","block table"),uu=zo.matchStyleValues("float","left right"),su=nu(ou,iu,y(uu)),cu=y(zo.matchStyleValues("white-space","pre pre-line pre-wrap")),lu=zo.isText,fu=zo.isBr,du=Ni.nodeIndex,mu=Ja,gu=function gu(e){return"createRange"in e?e.createRange():Ni.DOM.createRng();},pu=function pu(e){return e&&/[\r\n\t ]/.test(e);},hu=function hu(e){return!!e.setStart&&!!e.setEnd;},vu=function vu(e){var t,n=e.startContainer,r=e.startOffset;return!!(pu(e.toString())&&cu(n.parentNode)&&zo.isText(n)&&(t=n.data,pu(t[r-1])||pu(t[r+1])));},yu=function yu(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom;},bu=function bu(e){var t,n,r,o,i,a,u,s;return t=0<(n=e.getClientRects()).length?qa(n[0]):qa(e.getBoundingClientRect()),!hu(e)&&fu(e)&&yu(t)?(i=(r=e).ownerDocument,a=gu(i),u=i.createTextNode("\xa0"),(s=r.parentNode).insertBefore(u,r),a.setStart(u,0),a.setEnd(u,1),o=qa(a.getBoundingClientRect()),s.removeChild(u),o):yu(t)&&hu(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&zo.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),bu(i);}return null;}(e):t;},Cu=function Cu(e,t){var n=$a(e,t);return n.width=1,n.right=n.left+1,n;},xu=function xu(e){var t,n,r=[],o=function o(e){var t,n;0!==e.height&&(0<r.length&&(t=e,n=r[r.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||r.push(e));},i=function i(e,t){var n=gu(e.ownerDocument);if(t<e.data.length){if(Za(e.data[t]))return r;if(Za(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!vu(n)))return o(Cu(bu(n),!1)),r;}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),vu(n)||o(Cu(bu(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),vu(n)||o(Cu(bu(n),!0)));};if(lu(e.container()))return i(e.container(),e.offset()),r;if(ou(e.container()))if(e.isAtEnd())n=mu(e.container(),e.offset()),lu(n)&&i(n,n.data.length),su(n)&&!fu(n)&&o(Cu(bu(n),!1));else{if(n=mu(e.container(),e.offset()),lu(n)&&i(n,0),su(n)&&e.isAtEnd())return o(Cu(bu(n),!1)),r;t=mu(e.container(),e.offset()-1),su(t)&&!fu(t)&&(au(t)||au(n)||!su(n))&&o(Cu(bu(t),!1)),su(n)&&o(Cu(bu(n),!0));}return r;};function wu(t,n,e){var r=function r(){return e||(e=xu(wu(t,n))),e;};return{container:q(t),offset:q(n),toRange:function toRange(){var e;return(e=gu(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e;},getClientRects:r,isVisible:function isVisible(){return 0<r().length;},isAtStart:function isAtStart(){return lu(t),0===n;},isAtEnd:function isAtEnd(){return lu(t)?n>=t.data.length:n>=t.childNodes.length;},isEqual:function isEqual(e){return e&&t===e.container()&&n===e.offset();},getNode:function getNode(e){return mu(t,e?n-1:n);}};}(Qi=wu||(wu={})).fromRangeStart=function(e){return Qi(e.startContainer,e.startOffset);},Qi.fromRangeEnd=function(e){return Qi(e.endContainer,e.endOffset);},Qi.after=function(e){return Qi(e.parentNode,du(e)+1);},Qi.before=function(e){return Qi(e.parentNode,du(e));},Qi.isAbove=function(e,t){return eu(Z(t.getClientRects()),ee(e.getClientRects()),Ka).getOr(!1);},Qi.isBelow=function(e,t){return eu(ee(t.getClientRects()),Z(e.getClientRects()),Xa).getOr(!1);},Qi.isAtStart=function(e){return!!e&&e.isAtStart();},Qi.isAtEnd=function(e){return!!e&&e.isAtEnd();},Qi.isTextPosition=function(e){return!!e&&zo.isText(e.container());},Qi.isElementPosition=function(e){return!1===Qi.isTextPosition(e);};var Nu,Eu,Su=wu,Tu=zo.isText,ku=zo.isBogus,_u=Ni.nodeIndex,Au=function Au(e){var t=e.parentNode;return ku(t)?Au(t):t;},Ru=function Ru(e){return e?Ht.reduce(e.childNodes,function(e,t){return ku(t)&&"BR"!==t.nodeName?e=e.concat(Ru(t)):e.push(t),e;},[]):[];},Du=function Du(t){return function(e){return t===e;};},Ou=function Ou(e){var t,r,n,o;return(Tu(e)?"text()":e.nodeName.toLowerCase())+"["+(r=Ru(Au(t=e)),n=Ht.findIndex(r,Du(t),t),r=r.slice(0,n+1),o=Ht.reduce(r,function(e,t,n){return Tu(t)&&Tu(r[n-1])&&e++,e;},0),r=Ht.filter(r,zo.matchNodeNames(t.nodeName)),(n=Ht.findIndex(r,Du(t),t))-o)+"]";},Bu=function Bu(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),Tu(n)?o=function(e,t){for(;(e=e.previousSibling)&&Tu(e);){t+=e.data.length;}return t;}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Ou(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode){r.push(t);}return r;}(e,n),a=Ht.filter(a,y(zo.isBogus)),(u=u.concat(Ht.map(a,function(e){return Ou(e);}))).reverse().join("/")+","+o;},Pu=function Pu(e,t){var n,r,o;return t?(t=(n=t.split(","))[0].split("/"),o=1<n.length?n[1]:"before",(r=Ht.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,r=t[1],o=parseInt(t[2],10),i=Ru(n),i=Ht.filter(i,function(e,t){return!Tu(e)||!Tu(i[t-1]);}),(i=Ht.filter(i,zo.matchNodeNames(r)))[o]):null;var n,r,o,i;},e))?Tu(r)?function(e,t){for(var n,r=e,o=0;Tu(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break;}if(!Tu(r.nextSibling)){e=r,t=n;break;}o+=n,r=r.nextSibling;}return Tu(e)&&t>e.data.length&&(t=e.data.length),Su(e,t);}(r,parseInt(o,10)):(o="after"===o?_u(r)+1:_u(r),Su(r.parentNode,o)):null):null;},Iu=function Iu(e,t){zo.isText(t)&&0===t.data.length&&e.remove(t);},Lu=function Lu(e,t,n){var r,o,i,a,u,s,c;zo.isDocumentFragment(n)?(i=e,a=t,u=n,s=_.from(u.firstChild),c=_.from(u.lastChild),a.insertNode(u),s.each(function(e){return Iu(i,e.previousSibling);}),c.each(function(e){return Iu(i,e.nextSibling);})):(r=e,o=n,t.insertNode(o),Iu(r,o.previousSibling),Iu(r,o.nextSibling));},Fu=zo.isContentEditableFalse,Mu=function Mu(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],s=[],c=0,l=e.getRoot();for(zo.isText(a)?s.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&zo.isText(r);r=r.previousSibling){o+=e(r.data).length;}return o;}(t,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(e.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode){s.push(e.nodeIndex(a,n));}return s;},zu=function zu(e,t,n){var r=0;return Xt.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++;}),r;},Uu=function Uu(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],zo.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r));},Vu=function Vu(e){return Uu(e,!0),Uu(e,!1),e;},ju=function ju(e,t){var n;if(zo.isElement(e)&&(e=Ja(e,t),Fu(e)))return e;if(Ea(e)){if(zo.isText(e)&&wa(e)&&(e=e.parentNode),n=e.previousSibling,Fu(n))return n;if(n=e.nextSibling,Fu(n))return n;}},Hu=function Hu(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Fu(r)||"IMG"===o)return{name:o,index:zu(n.dom,o,r)};var a,u,s,c,l,f,d,m=ju((a=i).startContainer,a.startOffset)||ju(a.endContainer,a.endOffset);return m?{name:o=m.tagName,index:zu(n.dom,o,m)}:(u=e,c=t,l=i,f=(s=n).dom,(d={}).start=Mu(f,u,c,l,!0),s.isCollapsed()||(d.end=Mu(f,u,c,l,!1)),d);},qu=function qu(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r);},$u=function $u(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:zu(n,u,a)};var s=Vu(r.cloneRange());if(!i){s.collapse(!1);var c=qu(n,o+"_end",t);Lu(n,s,c);}(r=Vu(r)).collapse(!0);var l=qu(n,o+"_start",t);return Lu(n,r,l),e.moveToBookmark({id:o,keep:1}),{id:o};},Wu={getBookmark:function getBookmark(e,t,n){return 2===t?Hu(ba,n,e):3===t?(o=(r=e).getRng(),{start:Bu(r.dom.getRoot(),Su.fromRangeStart(o)),end:Bu(r.dom.getRoot(),Su.fromRangeEnd(o))}):t?{rng:e.getRng()}:$u(e,!1);var r,o;},getUndoBookmark:d(Hu,$,!0),getPersistentBookmark:$u},Ku="_mce_caret",Xu=function Xu(e){return zo.isElement(e)&&e.id===Ku;},Yu=function Yu(e,t){for(;t&&t!==e;){if(t.id===Ku)return t;t=t.parentNode;}return null;},Gu=zo.isElement,Ju=zo.isText,Qu=function Qu(e){var t=e.parentNode;t&&t.removeChild(e);},Zu=function Zu(e,t){0===t.length?Qu(e):e.nodeValue=t;},es=function es(e){var t=ba(e);return{count:e.length-t.length,text:t};},ts=function ts(e,t){return os(e),t;},ns=function ns(e,t){var n,r,o,i=t.container(),a=(n=te(i.childNodes),r=e,o=L(n,r),-1===o?_.none():_.some(o)).map(function(e){return e<t.offset()?Su(i,t.offset()-1):t;}).getOr(t);return os(e),a;},rs=function rs(e,t){return Ju(e)&&t.container()===e?(r=t,o=es((n=e).data.substr(0,r.offset())),i=es(n.data.substr(r.offset())),0<(a=o.text+i.text).length?(Zu(n,a),Su(n,r.offset()-o.count)):r):ts(e,t);var n,r,o,i,a;},os=function os(e){if(Gu(e)&&Ea(e)&&(Sa(e)?e.removeAttribute("data-mce-caret"):Qu(e)),Ju(e)){var t=ba(function(e){try{return e.nodeValue;}catch(t){return"";}}(e));Zu(e,t);}},is={removeAndReposition:function removeAndReposition(e,t){return Su.isTextPosition(t)?rs(e,t):(n=e,(r=t).container()===n.parentNode?ns(n,r):ts(n,r));var n,r;},remove:os},as=or.detect().browser,us=zo.isContentEditableFalse,ss=function ss(e,t,n){var r,o,i,a,u,s=$a(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),s.left+=o,s.right+=o,s.top+=i,s.bottom+=i,s.width=1,0<(a=t.offsetWidth-t.clientWidth)&&(n&&(a*=-1),s.left+=a,s.right+=a),s;},cs=function cs(a,u,e){var t,s,c=Vi(_.none()),l=function l(){!function(e){var t,n,r,o,i;for(t=gn("*[contentEditable=false]",e),o=0;o<t.length;o++){r=(n=t[o]).previousSibling,Ra(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,Aa(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1));}}(a),s&&(is.remove(s),s=null),c.get().each(function(e){gn(e.caret).remove(),c.set(_.none());}),clearInterval(t);},f=function f(){t=he.setInterval(function(){e()?gn("div.mce-visual-caret",a).toggleClass("mce-visual-caret-hidden"):gn("div.mce-visual-caret",a).addClass("mce-visual-caret-hidden");},500);};return{show:function show(t,e){var n,r,o;if(l(),o=e,zo.isElement(o)&&/^(TD|TH)$/i.test(o.tagName))return null;if(!u(e))return s=function(e,t){var n,r,o;if(r=e.ownerDocument.createTextNode(ya),o=e.parentNode,t){if(n=e.previousSibling,xa(n)){if(Ea(n))return n;if(Ra(n))return n.splitText(n.data.length-1);}o.insertBefore(r,e);}else{if(n=e.nextSibling,xa(n)){if(Ea(n))return n;if(Aa(n))return n.splitText(1),n;}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r);}return r;}(e,t),r=e.ownerDocument.createRange(),us(s.nextSibling)?(r.setStart(s,0),r.setEnd(s,0)):(r.setStart(s,1),r.setEnd(s,1)),r;s=_a("p",e,t),n=ss(a,e,t),gn(s).css("top",n.top);var i=gn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(a)[0];return c.set(_.some({caret:i,element:e,before:t})),c.get().each(function(e){t&&gn(e.caret).addClass("mce-visual-caret-before");}),f(),(r=e.ownerDocument.createRange()).setStart(s,0),r.setEnd(s,0),r;},hide:l,getCss:function getCss(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";},reposition:function reposition(){c.get().each(function(e){var t=ss(a,e.element,e.before);gn(e.caret).css(t);});},destroy:function destroy(){return he.clearInterval(t);}};},ls=function ls(){return as.isIE()||as.isEdge()||as.isFirefox();},fs=function fs(e){return us(e)||zo.isTable(e)&&ls();},ds=zo.isContentEditableFalse,ms=zo.matchStyleValues("display","block table table-cell table-caption list-item"),gs=Ea,ps=wa,hs=zo.isElement,vs=Ua,ys=function ys(e){return 0<e;},bs=function bs(e){return e<0;},Cs=function Cs(e,t){for(var n;n=e(t);){if(!ps(n))return n;}return null;},xs=function xs(e,t,n,r,o){var i=new fo(e,r);if(bs(t)){if((ds(e)||ps(e))&&n(e=Cs(i.prev,!0)))return e;for(;e=Cs(i.prev,o);){if(n(e))return e;}}if(ys(t)){if((ds(e)||ps(e))&&n(e=Cs(i.next,!0)))return e;for(;e=Cs(i.next,o);){if(n(e))return e;}}return null;},ws=function ws(e,t){for(;e&&e!==t;){if(ms(e))return e;e=e.parentNode;}return null;},Ns=function Ns(e,t,n){return ws(e.container(),n)===ws(t.container(),n);},Es=function Es(e,t){var n,r;return t?(n=t.container(),r=t.offset(),hs(n)?n.childNodes[r+e]:null):null;},Ss=function Ss(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n;},Ts=function Ts(e,t,n){var r,o,i,a;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],gs(r)&&(r=r[o]),ds(r)){if(a=n,ws(r,i=t)===ws(a,i))return r;break;}if(vs(r))break;n=n.parentNode;}return null;},ks=d(Ss,!0),_s=d(Ss,!1),As=function As(e,t,n){var r,o,i,a,u=d(Ts,!0,t),s=d(Ts,!1,t);if(o=n.startContainer,i=n.startOffset,wa(o)){if(hs(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,fs(r)))return ks(r);if("after"===a&&(r=o.previousSibling,fs(r)))return _s(r);}if(!n.collapsed)return n;if(zo.isText(o)){if(gs(o)){if(1===e){if(r=s(o))return ks(r);if(r=u(o))return _s(r);}if(-1===e){if(r=u(o))return _s(r);if(r=s(o))return ks(r);}return n;}if(Ra(o)&&i>=o.data.length-1)return 1===e&&(r=s(o))?ks(r):n;if(Aa(o)&&i<=1)return-1===e&&(r=u(o))?_s(r):n;if(i===o.data.length)return(r=s(o))?ks(r):n;if(0===i)return(r=u(o))?_s(r):n;}return n;},Rs=function Rs(e,t){return _.from(Es(e?0:-1,t)).filter(ds);},Ds=function Ds(e,t,n){var r=As(e,t,n);return-1===e?wu.fromRangeStart(r):wu.fromRangeEnd(r);},Os=function Os(e){return _.from(e.getNode()).map(ar.fromDom);},Bs=function Bs(e,t){for(;t=e(t);){if(t.isVisible())return t;}return t;},Ps=function Ps(e,t){var n=Ns(e,t);return!(n||!zo.isBr(e.getNode()))||n;};(Eu=Nu||(Nu={}))[Eu.Backwards=-1]="Backwards",Eu[Eu.Forwards=1]="Forwards";var Is,Ls,Fs,Ms=zo.isContentEditableFalse,zs=zo.isText,Us=zo.isElement,Vs=zo.isBr,js=Ua,Hs=function Hs(e){return Fa(e)||!!Va(t=e)&&!0!==V(te(t.getElementsByTagName("*")),function(e,t){return e||Oa(t);},!1);var t;},qs=ja,$s=function $s(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null;},Ws=function Ws(e,t){if(ys(e)){if(js(t.previousSibling)&&!zs(t.previousSibling))return Su.before(t);if(zs(t))return Su(t,0);}if(bs(e)){if(js(t.nextSibling)&&!zs(t.nextSibling))return Su.after(t);if(zs(t))return Su(t,t.data.length);}return bs(e)?Vs(t)?Su.before(t):Su.after(t):Su.before(t);},Ks=function Ks(e,t,n){var r,o,i,a,u;if(!Us(n)||!t)return null;if(t.isEqual(Su.after(n))&&n.lastChild){if(u=Su.after(n.lastChild),bs(e)&&js(n.lastChild)&&Us(n.lastChild))return Vs(n.lastChild)?Su.before(n.lastChild):u;}else u=t;var s,c,l,f=u.container(),d=u.offset();if(zs(f)){if(bs(e)&&0<d)return Su(f,--d);if(ys(e)&&d<f.length)return Su(f,++d);r=f;}else{if(bs(e)&&0<d&&(o=$s(f,d-1),js(o)))return!Hs(o)&&(i=xs(o,e,qs,o))?zs(i)?Su(i,i.data.length):Su.after(i):zs(o)?Su(o,o.data.length):Su.before(o);if(ys(e)&&d<f.childNodes.length&&(o=$s(f,d),js(o)))return Vs(o)?(s=n,(l=(c=o).nextSibling)&&js(l)?zs(l)?Su(l,0):Su.before(l):Ks(Nu.Forwards,Su.after(c),s)):!Hs(o)&&(i=xs(o,e,qs,o))?zs(i)?Su(i,0):Su.before(i):zs(o)?Su(o,0):Su.after(o);r=o||u.getNode();}return(ys(e)&&u.isAtEnd()||bs(e)&&u.isAtStart())&&(r=xs(r,e,q(!0),n,!0),qs(r,n))?Ws(e,r):(o=xs(r,e,qs,n),!(a=Ht.last(U(function(e,t){for(var n=[];e&&e!==t;){n.push(e),e=e.parentNode;}return n;}(f,n),Ms)))||o&&a.contains(o)?o?Ws(e,o):null:u=ys(e)?Su.after(a):Su.before(a));},Xs=function Xs(t){return{next:function next(e){return Ks(Nu.Forwards,e,t);},prev:function prev(e){return Ks(Nu.Backwards,e,t);}};},Ys=function Ys(e){return Su.isTextPosition(e)?0===e.offset():Ua(e.getNode());},Gs=function Gs(e){if(Su.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length;}return Ua(e.getNode(!0));},Js=function Js(e,t){return!Su.isTextPosition(e)&&!Su.isTextPosition(t)&&e.getNode()===t.getNode(!0);},Qs=function Qs(e,t,n){return e?!Js(t,n)&&(r=t,!(!Su.isTextPosition(r)&&zo.isBr(r.getNode())))&&Gs(t)&&Ys(n):!Js(n,t)&&Ys(t)&&Gs(n);var r;},Zs=function Zs(e,t,n){var r=Xs(t);return _.from(e?r.next(n):r.prev(n));},ec=function ec(t,n,r){return Zs(t,n,r).bind(function(e){return Ns(r,e,n)&&Qs(t,r,e)?Zs(t,n,e):_.some(e);});},tc=function tc(t,n,e,r){return ec(t,n,e).bind(function(e){return r(e)?tc(t,n,e,r):_.some(e);});},nc=function nc(e,t){var n,r,o,i,a,u=e?t.firstChild:t.lastChild;return zo.isText(u)?_.some(Su(u,e?0:u.data.length)):u?Ua(u)?_.some(e?Su.before(u):(a=u,zo.isBr(a)?Su.before(a):Su.after(a))):(r=t,o=u,i=(n=e)?Su.before(o):Su.after(o),Zs(n,r,i)):_.none();},rc=d(Zs,!0),oc=d(Zs,!1),ic={fromPosition:Zs,nextPosition:rc,prevPosition:oc,navigate:ec,navigateIgnore:tc,positionIn:nc,firstPositionIn:d(nc,!0),lastPositionIn:d(nc,!1)},ac=function ac(e,t){return zo.isElement(t)&&e.isBlock(t)&&!t.innerHTML&&!fe.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t;},uc=function uc(e,t){return ic.lastPositionIn(e).fold(function(){return!1;},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0;});},sc=function sc(e,t,n){return!(!1!==t.hasChildNodes()||!Yu(e,t)||(o=n,i=(r=t).ownerDocument.createTextNode(ya),r.appendChild(i),o.setStart(i,0),o.setEnd(i,0),0));var r,o,i;},cc=function cc(e,t,n,r){var o,i,a,u,s=n[t?"start":"end"],c=e.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;1<=o;o--){if(u=i.childNodes,sc(c,i,r))return!0;if(s[o]>u.length-1)return!!sc(c,i,r)||uc(i,r);i=u[s[o]];}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a);}return!0;},lc=function lc(e){return zo.isText(e)&&0<e.data.length;},fc=function fc(e,t,n){var r,o,i,a,u,s,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?l?c.hasChildNodes()?(r=c.firstChild,o=1):lc(c.nextSibling)?(r=c.nextSibling,o=0):lc(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c):l?c.hasChildNodes()?(r=c.firstChild,o=1):lc(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),u=r,s=o,!l){for(a=c.previousSibling,i=c.nextSibling,Xt.each(Xt.grep(c.childNodes),function(e){zo.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""));});c=e.get(n.id+"_"+t);){e.remove(c,!0);}a&&i&&a.nodeType===i.nodeType&&zo.isText(a)&&!fe.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,s=o);}return _.some(Su(u,s));}return _.none();},dc=function dc(e,t){var n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,y=e.dom;if(t){if(v=t,Xt.isArray(v.start))return p=t,h=(g=y).createRng(),cc(g,!0,p,h)&&cc(g,!1,p,h)?_.some(h):_.none();if("string"==typeof t.start)return _.some((f=t,d=(l=y).createRng(),m=Pu(l.getRoot(),f.start),d.setStart(m.container(),m.offset()),m=Pu(l.getRoot(),f.end),d.setEnd(m.container(),m.offset()),d));if(t.hasOwnProperty("id"))return s=fc(o=y,"start",i=t),c=fc(o,"end",i),eu(s,(u=s,(a=c).isSome()?a:u),function(e,t){var n=o.createRng();return n.setStart(ac(o,e.container()),e.offset()),n.setEnd(ac(o,t.container()),t.offset()),n;});if(t.hasOwnProperty("name"))return n=y,r=t,_.from(n.select(r.name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t;});if(t.hasOwnProperty("rng"))return _.some(t.rng);}return _.none();},mc=function mc(e,t,n){return Wu.getBookmark(e,t,n);},gc=function gc(t,e){dc(t,e).each(function(e){t.setRng(e);});},pc=function pc(e){return zo.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type");},hc=function hc(e){return e&&/^(IMG)$/.test(e.nodeName);},vc=function vc(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue);},yc=function yc(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t;},bc={isInlineBlock:hc,moveStart:function moveStart(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!hc(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(a<(i=u.childNodes).length?r=new fo(u=i[a],e.getParent(u,e.isBlock)):(r=new fo(u=i[i.length-1],e.getParent(u,e.isBlock))).next(!0),o=r.current();o;o=r.next()){if(3===o.nodeType&&!vc(o))return n.setStart(o,0),void t.setRng(n);}},getNonWhiteSpaceSibling:function getNonWhiteSpaceSibling(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t]){if(1===e.nodeType||!vc(e))return e;}},isTextBlock:function isTextBlock(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()];},isValid:function isValid(e,t,n){return e.schema.isValidChild(t,n);},isWhiteSpaceNode:vc,replaceVars:function replaceVars(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e;})),e;},isEq:function isEq(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase();},normalizeStyleValue:yc,getStyle:function getStyle(e,t,n){return yc(e,e.getStyle(t,n),n);},getTextDecoration:function getTextDecoration(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n;}),n;},getParents:function getParents(e,t,n){return e.getParents(t,n,e.getRoot());}},Cc=pc,xc=bc.getParents,wc=bc.isWhiteSpaceNode,Nc=bc.isTextBlock,Ec=function Ec(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();){(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);}return{node:e,offset:t};},Sc=function Sc(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode;}return t;},Tc=function Tc(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),-1!==(o=(i=a.lastIndexOf("\xa0",r))<o?o:i)&&!t&&(o<r||!e)&&o<=a.length&&o++):(o=a.indexOf(" ",r),i=a.indexOf("\xa0",r),o=-1!==o&&(-1===i||o<i)?o:i),o;},kc=function kc(e,t,n,r,o,i){var a,u,s,c;if(3===n.nodeType){if(-1!==(s=Tc(o,i,n,r)))return{container:n,offset:s};c=n;}for(a=new fo(n,e.getParent(n,e.isBlock)||t);u=a[o?"prev":"next"]();){if(3!==u.nodeType||Cc(u.parentNode)){if(e.isBlock(u)||bc.isEq(u,"BR"))break;}else if(-1!==(s=Tc(o,i,c=u)))return{container:u,offset:s};}if(c)return{container:c,offset:r=o?0:c.length};},_c=function _c(e,t,n,r,o){var i,a,u,s;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=xc(e,r),a=0;a<i.length;a++){for(u=0;u<t.length;u++){if(!("collapsed"in(s=t[u])&&s.collapsed!==n.collapsed)&&e.is(i[a],s.selector))return i[a];}}return r;},Ac=function Ac(t,e,n,r){var o,i=t.dom,a=i.getRoot();if(e[0].wrapper||(o=i.getParent(n,e[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==a&&Nc(t,e);},u);}if(o&&e[0].wrapper&&(o=xc(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!bc.isEq(o,"br"));){;}return o||n;},Rc=function Rc(e,t,n,r,o,i,a){var u,s,c,l,f,d;if(u=s=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===u.nodeType&&!wc(u)&&(a?0<r:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(s))return s;for(c=s[l];c;c=c[l]){if(!Cc(c)&&!wc(c)&&("BR"!==(d=c).nodeName||!d.getAttribute("data-mce-bogus")||d.nextSibling))return s;}if(s===f||s.parentNode===f){u=s;break;}s=s.parentNode;}return u;},Dc=function Dc(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,u=t.endContainer,s=t.endOffset,c=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&3===(i=Ja(i,a)).nodeType&&(a=0),1===u.nodeType&&u.hasChildNodes()&&3===(u=Ja(u,t.collapsed?s:s-1)).nodeType&&(s=u.nodeValue.length),i=Sc(c,i),u=Sc(c,u),(Cc(i.parentNode)||Cc(i))&&(i=Cc(i)?i:i.parentNode,3===(i=t.collapsed?i.previousSibling||i:i.nextSibling||i).nodeType&&(a=t.collapsed?i.length:0)),(Cc(u.parentNode)||Cc(u))&&(u=Cc(u)?u:u.parentNode,3===(u=t.collapsed?u.nextSibling||u:u.previousSibling||u).nodeType&&(s=t.collapsed?0:u.length)),t.collapsed&&((o=kc(c,e.getBody(),i,a,!0,r))&&(i=o.container,a=o.offset),(o=kc(c,e.getBody(),u,s,!1,r))&&(u=o.container,s=o.offset)),n[0].inline&&(u=r?u:function(e,t){var n=Ec(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;){n=Ec(n.node.previousSibling);}n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1);}return e;}(u,s)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Rc(c,n,i,a,u,s,!0)),n[0].inline&&3===u.nodeType&&s!==u.nodeValue.length||(u=Rc(c,n,i,a,u,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=_c(c,n,t,i,"previousSibling"),u=_c(c,n,t,u,"nextSibling")),(n[0].block||n[0].selector)&&(i=Ac(e,n,i,"previousSibling"),u=Ac(e,n,u,"nextSibling"),n[0].block&&(c.isBlock(i)||(i=Rc(c,n,i,a,u,s,!0)),c.isBlock(u)||(u=Rc(c,n,i,a,u,s,!1)))),1===i.nodeType&&(a=c.nodeIndex(i),i=i.parentNode),1===u.nodeType&&(s=c.nodeIndex(u)+1,u=u.parentNode),{startContainer:i,startOffset:a,endContainer:u,endOffset:s};},Oc=Xt.each,Bc=function Bc(e,t,o){var n,r,i,a,u,s,c,l=t.startContainer,f=t.startOffset,d=t.endContainer,m=t.endOffset;if(0<(c=e.select("td[data-mce-selected],th[data-mce-selected]")).length)Oc(c,function(e){o([e]);});else{var g,p,h,v=function v(e){var t;return 3===(t=e[0]).nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&0<e.length&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e;},y=function y(e,t,n){for(var r=[];e&&e!==n;e=e[t]){r.push(e);}return r;},b=function b(e,t){do{if(e.parentNode===t)return e;e=e.parentNode;}while(e);},C=function C(e,t,n){var r=n?"nextSibling":"previousSibling";for(u=(a=e).parentNode;a&&a!==t;a=u){u=a.parentNode,(s=y(a===e?a:a[r],r)).length&&(n||s.reverse(),o(v(s)));}};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(p=m,h=(g=d).childNodes,--p>h.length-1?p=h.length-1:p<0&&(p=0),d=h[p]||g),l===d)return o(v([l]));for(n=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return C(l,n,!0);if(a===n)break;}for(a=d;a;a=a.parentNode){if(a===l)return C(d,n);if(a===n)break;}r=b(l,n)||l,i=b(d,n)||d,C(l,r,!0),(s=y(r===l?r:r.nextSibling,"nextSibling",i===d?i.nextSibling:i)).length&&o(v(s)),C(d,i);}},Pc=(Is=mr,Ls="text",{get:function get(e){if(!Is(e))throw new Error("Can only get "+Ls+" value of a "+Ls+" node");return Fs(e).getOr("");},getOption:Fs=function Fs(e){return Is(e)?_.from(e.dom().nodeValue):_.none();},set:function set(e,t){if(!Is(e))throw new Error("Can only set raw "+Ls+" value of a "+Ls+" node");e.dom().nodeValue=t;}}),Ic=function Ic(e){return Pc.get(e);},Lc=function Lc(r,o,i,a){return Ur(o).fold(function(){return"skipping";},function(e){return"br"===a||mr(n=o)&&"\uFEFF"===Ic(n)?"valid":dr(t=o)&&Xi(t,oa())?"existing":Xu(o)?"caret":bc.isValid(r,i,a)&&bc.isValid(r,lr(e),i)?"valid":"invalid-child";var t,n;});},Fc=function Fc(e,t,n,r){var o,i,a=t.uid,u=void 0===a?(o="mce-annotation",i=new Date().getTime(),o+"_"+Math.floor(1e9*Math.random())+ ++fa+String(i)):a,s=function(e,t){var n={};for(var r in e){Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);}if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++){t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);}}return n;}(t,["uid"]),c=ar.fromTag("span",e);Wi(c,oa()),Cr(c,""+aa(),u),Cr(c,""+ia(),n);var l,f=r(u,s),d=f.attributes,m=void 0===d?{}:d,g=f.classes,p=void 0===g?[]:g;return xr(c,m),l=c,z(p,function(e){Wi(l,e);}),c;},Mc=function Mc(i,e,t,n,r){var a=[],u=Fc(i.getDoc(),r,t,n),s=Vi(_.none()),c=function c(){s.set(_.none());},l=function l(e){z(e,o);},o=function o(e){var t,n;switch(Lc(i,e,"span",lr(e))){case"invalid-child":c();var r=$r(e);l(r),c();break;case"valid":var o=s.get().getOrThunk(function(){var e=ma(u);return a.push(e),s.set(_.some(e)),e;});Oi(t=e,n=o),Ii(n,t);}};return Bc(i.dom,e,function(e){var t;c(),t=W(e,ar.fromDom),l(t);}),a;},zc=function zc(s,c,l,f){s.undoManager.transact(function(){var e,t,n,r,o=s.selection.getRng();if(o.collapsed&&(r=Dc(e=s,t=o,[{inline:!0}],3===(n=t).startContainer.nodeType&&n.startContainer.nodeValue.length>=n.startOffset&&"\xa0"===n.startContainer.nodeValue[n.startOffset]),t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)),s.selection.getRng().collapsed){var i=Fc(s.getDoc(),f,c,l.decorate);pa(i,"\xa0"),s.selection.getRng().insertNode(i.dom()),s.selection.select(i.dom());}else{var a=Wu.getPersistentBookmark(s.selection,!1),u=s.selection.getRng();Mc(s,u,c,l.decorate,f),s.selection.moveToBookmark(a);}});};function Uc(s){var n,r=(n={},{register:function register(e,t){n[e]={name:e,settings:t};},lookup:function lookup(e){return n.hasOwnProperty(e)?_.from(n[e]).map(function(e){return e.settings;}):_.none();}});la(s,r);var o=ca(s);return{register:function register(e,t){r.register(e,t);},annotate:function annotate(t,n){r.lookup(t).each(function(e){zc(s,t,e,n);});},annotationChanged:function annotationChanged(e,t){o.addListener(e,t);},remove:function remove(e){ua(s,_.some(e)).each(function(e){var t=e.elements;z(t,zi);});},getAll:function getAll(e){var t,n,r,o,i,a,u=(t=s,n=e,r=ar.fromDom(t.getBody()),o=Gi(r,"["+ia()+'="'+n+'"]'),i={},z(o,function(e){var t=wr(e,aa()),n=i.hasOwnProperty(t)?i[t]:[];i[t]=n.concat([e]);}),i);return a=function a(e){return W(e,function(e){return e.dom();});},vr(u,function(e,t){return{k:t,v:a(e,t)};});}};}var Vc=function Vc(e){return Xt.grep(e.childNodes,function(e){return"LI"===e.nodeName;});},jc=function jc(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&("\xa0"===(t=e.firstChild).data||zo.isBr(t));var t;},Hc=function Hc(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||jc(t))?e.slice(0,-1):e;var t;},qc=function qc(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null;},$c=function $c(e,t){var n=Su.after(e),r=Xs(t).prev(n);return r?r.toRange():null;},Wc=function Wc(t,e,n){var r,o,i,a,u=t.parentNode;return Xt.each(e,function(e){u.insertBefore(e,t);}),r=t,o=n,i=Su.before(r),(a=Xs(o).next(i))?a.toRange():null;},Kc=function Kc(e,t){var n,r,o,i,a,u,s=t.firstChild,c=t.lastChild;return s&&"meta"===s.name&&(s=s.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),r=c,u=(n=e).getNonEmptyElements(),r&&(r.isEmpty(u)||(o=r,n.getBlockElements()[o.name]&&(a=o).firstChild&&a.firstChild===a.lastChild&&("br"===(i=o.firstChild).name||"\xa0"===i.value)))&&(c=c.prev),!(!s||s!==c||"ul"!==s.name&&"ol"!==s.name);},Xc=function Xc(e,o,i,t){var n,r,a,u,s,c,l,f,d,m,g,p,h,v,y,b,C,x,w,N=(n=o,r=t,c=e.serialize(r),l=n.createFragment(c),u=(a=l).firstChild,s=a.lastChild,u&&"META"===u.nodeName&&u.parentNode.removeChild(u),s&&"mce_marker"===s.id&&s.parentNode.removeChild(s),a),E=qc(o,i.startContainer),S=Hc(Vc(N.firstChild)),T=o.getRoot(),k=function k(e){var t=Su.fromRangeStart(i),n=Xs(o.getRoot()),r=1===e?n.prev(t):n.next(t);return!r||qc(o,r.getNode())!==E;};return k(1)?Wc(E,S,T):k(2)?(f=E,d=S,m=T,o.insertAfter(d.reverse(),f),$c(d[0],m)):(p=S,h=T,v=g=E,b=(y=i).cloneRange(),C=y.cloneRange(),b.setStartBefore(v),C.setEndAfter(v),x=[b.cloneContents(),C.cloneContents()],(w=g.parentNode).insertBefore(x[0],g),Xt.each(p,function(e){w.insertBefore(e,g);}),w.insertBefore(x[1],g),w.removeChild(g),$c(p[p.length-1],h));},Yc=function Yc(e,t){return!!qc(e,t);},Gc=Xt.each,Jc=function Jc(o){this.compare=function(e,t){if(e.nodeName!==t.nodeName)return!1;var n=function n(_n4){var r={};return Gc(o.getAttribs(_n4),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&0!==t.indexOf("data-")&&(r[t]=o.getAttrib(_n4,t));}),r;},r=function r(e,t){var n,r;for(r in e){if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r];}}for(r in t){if(t.hasOwnProperty(r))return!1;}return!0;};return!(!r(n(e),n(t))||!r(o.parseStyle(o.getAttrib(e,"style")),o.parseStyle(o.getAttrib(t,"style")))||pc(e)||pc(t));};},Qc=function Qc(e){var t=Gi(e,"br"),n=U(function(e){for(var t=[],n=e.dom();n;){t.push(ar.fromDom(n)),n=n.lastChild;}return t;}(e).slice(-1),Co);t.length===n.length&&z(n,Mi);},Zc=function Zc(e){Fi(e),Ii(e,ar.fromHtml('<br data-mce-bogus="1">'));},el=function el(n){Xr(n).each(function(t){Vr(t).each(function(e){yo(n)&&Co(t)&&yo(e)&&Mi(t);});});},tl=Xt.makeMap;function nl(e){var u,s,c,l,f,d=[];return u=(e=e||{}).indent,s=tl(e.indent_before||""),c=tl(e.indent_after||""),l=Zo.getEncodeFunc(e.entity_encoding||"raw",e.entities),f="html"===e.element_format,{start:function start(e,t,n){var r,o,i,a;if(u&&s[e]&&0<d.length&&0<(a=d[d.length-1]).length&&"\n"!==a&&d.push("\n"),d.push("<",e),t)for(r=0,o=t.length;r<o;r++){i=t[r],d.push(" ",i.name,'="',l(i.value,!0),'"');}d[d.length]=!n||f?">":" />",n&&u&&c[e]&&0<d.length&&0<(a=d[d.length-1]).length&&"\n"!==a&&d.push("\n");},end:function end(e){var t;d.push("</",e,">"),u&&c[e]&&0<d.length&&0<(t=d[d.length-1]).length&&"\n"!==t&&d.push("\n");},text:function text(e,t){0<e.length&&(d[d.length]=t?e:l(e));},cdata:function cdata(e){d.push("<![CDATA[",e,"]]>");},comment:function comment(e){d.push("\x3c!--",e,"--\x3e");},pi:function pi(e,t){t?d.push("<?",e," ",l(t),"?>"):d.push("<?",e,"?>"),u&&d.push("\n");},doctype:function doctype(e){d.push("<!DOCTYPE",e,">",u?"\n":"");},reset:function reset(){d.length=0;},getContent:function getContent(){return d.join("").replace(/\n$/,"");}};}function rl(t,g){void 0===g&&(g=li());var p=nl(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function serialize(e){var f,d;d=t.validate,f={3:function _(e){p.text(e.value,e.raw);},8:function _(e){p.comment(e.value);},7:function _(e){p.pi(e.name,e.value);},10:function _(e){p.doctype(e.value);},4:function _(e){p.cdata(e.value);},11:function _(e){if(e=e.firstChild)for(;m(e),e=e.next;){;}}},p.reset();var m=function m(e){var t,n,r,o,i,a,u,s,c,l=f[e.type];if(l)l(e);else{if(t=e.name,n=e.shortEnded,r=e.attributes,d&&r&&1<r.length&&((a=[]).map={},c=g.getElementRule(e.name))){for(u=0,s=c.attributesOrder.length;u<s;u++){(o=c.attributesOrder[u])in r.map&&(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));}for(u=0,s=r.length;u<s;u++){(o=r[u].name)in a.map||(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));}r=a;}if(p.start(e.name,r,n),!n){if(e=e.firstChild)for(;m(e),e=e.next;){;}p.end(t);}}};return 1!==e.type||t.inner?f[11](e):m(e),p.getContent();}};}var ol,il=function il(a){var u=Su.fromRangeStart(a),s=Su.fromRangeEnd(a),c=a.commonAncestorContainer;return ic.fromPosition(!1,c,s).map(function(e){return!Ns(u,s,c)&&Ns(u,e,c)?(t=u.container(),n=u.offset(),r=e.container(),o=e.offset(),(i=j.document.createRange()).setStart(t,n),i.setEnd(r,o),i):a;var t,n,r,o,i;}).getOr(a);},al=function al(e){return e.collapsed?e:il(e);},ul=zo.matchNodeNames("td th"),sl=function sl(e,t){var n,r,o=e.selection.getRng(),i=o.startContainer,a=o.startOffset;o.collapsed&&(n=i,r=a,zo.isText(n)&&"\xa0"===n.nodeValue[r-1])&&zo.isText(i)&&(i.insertData(a-1," "),i.deleteData(a,1),o.setStart(i,a),o.setEnd(i,a),e.selection.setRng(o)),e.selection.setContent(t);},cl=function cl(e,t,n){var r,o,i,a,u,s,c,l,f,d,m,g=e.selection,p=e.dom;if(/^ | $/.test(t)&&(t=function(e,t){var n,r;n=e.startContainer,r=e.startOffset;var o=function o(e){return n[e]&&3===n[e].nodeType;};return 3===n.nodeType&&(0<r?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t;}(g.getRng(),t)),r=e.parser,m=n.merge,o=rl({validate:e.settings.validate},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',s={content:t,format:"html",selection:!0,paste:n.paste},(s=e.fire("BeforeSetContent",s)).isDefaultPrevented())e.fire("SetContent",{content:s.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=s.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);var h,v,y,b,C,x,w=(l=g.getRng()).startContainer||(l.parentElement?l.parentElement():null),N=e.getBody();w===N&&g.isCollapsed()&&p.isBlock(N.firstChild)&&(h=e,(v=N.firstChild)&&!h.schema.getShortEndedElements()[v.nodeName])&&p.isEmpty(N.firstChild)&&((l=p.createRng()).setStart(N.firstChild,0),l.setEnd(N.firstChild,0),g.setRng(l)),g.isCollapsed()||(e.selection.setRng(al(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),y=e.selection.getRng(),b=t,C=y.startContainer,x=y.startOffset,3===C.nodeType&&y.collapsed&&("\xa0"===C.data[x]?(C.deleteData(x,1),/[\u00a0| ]$/.test(b)||(b+=" ")):"\xa0"===C.data[x-1]&&(C.deleteData(x-1,1),/[\u00a0| ]$/.test(b)||(b=" "+b))),t=b);var E,S,T,k={context:(i=g.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(u=r.parse(t,k),!0===n.paste&&Kc(e.schema,u)&&Yc(p,i))return l=Xc(o,p,e.selection.getRng(),u),e.selection.setRng(l),void e.fire("SetContent",s);if(function(e){for(var t=e;t=t.walk();){1===t.type&&t.attr("data-mce-fragment","1");}}(u),"mce_marker"===(f=u.lastChild).attr("id"))for(f=(c=f).prev;f;f=f.walk(!0)){if(3===f.type||!p.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(c,f,"br"===f.name);break;}}if(e._selectionOverrides.showBlockCaretContainer(i),k.invalid){for(sl(e,d),i=g.getNode(),a=e.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;){f=(i=f).parentNode;}t=i===a?a.innerHTML:p.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(u);}))),i===a?p.setHTML(a,t):p.setOuterHTML(i,t);}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):sl(e,t);}}(e,t=o.serialize(u),i);!function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new Jc(r);Xt.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode){n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0);}});}}(e,m),function(n,e){var t,r,o,i,a,u=n.dom,s=n.selection;if(e){if(n.selection.scrollIntoView(e),t=function(e){for(var t=n.getBody();e&&e!==t;e=e.parentNode){if("false"===n.dom.getContentEditable(e))return e;}return null;}(e))return u.remove(e),s.select(t);var c=u.createRng();(i=e.previousSibling)&&3===i.nodeType?(c.setStart(i,i.nodeValue.length),fe.ie||(a=e.nextSibling)&&3===a.nodeType&&(i.appendData(a.data),a.parentNode.removeChild(a))):(c.setStartBefore(e),c.setEndBefore(e)),r=u.getParent(e,u.isBlock),u.remove(e),r&&u.isEmpty(r)&&(n.$(r).empty(),c.setStart(r,0),c.setEnd(r,0),ul(r)||r.getAttribute("data-mce-fragment")||!(o=function(e){var t=Su.fromRangeStart(e);if(t=Xs(n.getBody()).next(t))return t.toRange();}(c))?u.add(r,u.create("br",{"data-mce-bogus":"1"})):(c=o,u.remove(r))),s.setRng(c);}}(e,p.get("mce_marker")),E=e.getBody(),Xt.each(E.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment");}),S=e.dom,T=e.selection.getStart(),_.from(S.getParent(T,"td,th")).map(ar.fromDom).each(el),e.fire("SetContent",s),e.addVisual();}},ll=function ll(e,t){var n,r,o="string"!=typeof(n=t)?(r=Xt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};cl(e,o.content,o.details);},fl=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,dl=function dl(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n;}return r;},ml=function ml(e){return e.getParam("iframe_attrs",{});},gl=function gl(e){return e.getParam("doctype","<!DOCTYPE html>");},pl=function pl(e){return e.getParam("document_base_url","");},hl=function hl(e){return dl(e,"body_id","tinymce");},vl=function vl(e){return dl(e,"body_class","");},yl=function yl(e){return e.getParam("content_security_policy","");},bl=function bl(e){return e.getParam("br_in_pre",!0);},Cl=function Cl(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t;},xl=function xl(e){return e.getParam("forced_root_block_attrs",{});},wl=function wl(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption");},Nl=function Nl(e){return e.getParam("no_newline_selector","");},El=function El(e){return e.getParam("keep_styles",!0);},Sl=function Sl(e){return e.getParam("end_container_on_empty_block",!1);},Tl=function Tl(e){return Xt.explode(e.getParam("font_size_style_values",""));},kl=function kl(e){return Xt.explode(e.getParam("font_size_classes",""));},_l=function _l(e){return e.getParam("images_dataimg_filter",q(!0),"function");},Al=function Al(e){return e.getParam("automatic_uploads",!0,"boolean");},Rl=function Rl(e){return e.getParam("images_reuse_filename",!1,"boolean");},Dl=function Dl(e){return e.getParam("images_replace_blob_uris",!0,"boolean");},Ol=function Ol(e){return e.getParam("images_upload_url","","string");},Bl=function Bl(e){return e.getParam("images_upload_base_path","","string");},Pl=function Pl(e){return e.getParam("images_upload_credentials",!1,"boolean");},Il=function Il(e){return e.getParam("images_upload_handler",null,"function");},Ll=function Ll(e){return e.getParam("content_css_cors",!1,"boolean");},Fl=function Fl(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string");},Ml=function Ml(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Na(n)?zo.isText(n.nextSibling)?Su(n.nextSibling,0):Su.after(n):Ta(t)?Su(n,r+1):t:Na(n)?zo.isText(n.previousSibling)?Su(n.previousSibling,n.previousSibling.data.length):Su.before(n):ka(t)?Su(n,r-1):t;},zl={isInlineTarget:function isInlineTarget(e,t){return Pr(ar.fromDom(t),Fl(e));},findRootInline:function findRootInline(e,t,n){var r,o,i,a=(r=e,o=t,i=n,U(Ni.DOM.getParents(i.container(),"*",o),r));return _.from(a[a.length-1]);},isRtl:function isRtl(e){return"rtl"===Ni.DOM.getStyle(e,"direction",!0)||(t=e.textContent,fl.test(t));var t;},isAtZwsp:function isAtZwsp(e){return Ta(e)||ka(e);},normalizePosition:Ml,normalizeForwards:d(Ml,!0),normalizeBackwards:d(Ml,!1),hasSameParentBlock:function hasSameParentBlock(e,t,n){var r=ws(t,e),o=ws(n,e);return r&&r===o;}},Ul=function Ul(e,t){return Fr(e,t)?ea(t,function(e){return xo(e)||No(e);},(n=e,function(e){return Lr(n,ar.fromDom(e.dom().parentNode));})):_.none();var n;},Vl=function Vl(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(""),n=(t=e).getBody(),r=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0));},jl=function jl(i,a,u){return eu(ic.firstPositionIn(u),ic.lastPositionIn(u),function(e,t){var n=zl.normalizePosition(!0,e),r=zl.normalizePosition(!1,t),o=zl.normalizePosition(!1,a);return i?ic.nextPosition(u,o).map(function(e){return e.isEqual(r)&&a.isEqual(n);}).getOr(!1):ic.prevPosition(u,o).map(function(e){return e.isEqual(n)&&a.isEqual(r);}).getOr(!1);}).getOr(!0);},Hl=function Hl(e,t){var n,r,o,i=ar.fromDom(e),a=ar.fromDom(t);return n=a,r="pre,code",o=d(Lr,i),ta(n,r,o).isSome();},ql=function ql(e,t){return Ua(t)&&!1===(r=e,o=t,zo.isText(o)&&/^[ \t\r\n]*$/.test(o.data)&&!1===Hl(r,o))||(n=t,zo.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||$l(t);var n,r,o;},$l=zo.hasAttribute("data-mce-bookmark"),Wl=zo.hasAttribute("data-mce-bogus"),Kl=zo.hasAttributeValue("data-mce-bogus","all"),Xl=function Xl(e){return function(e){var t,n,r=0;if(ql(e,e))return!1;if(!(n=e.firstChild))return!0;t=new fo(n,e);do{if(Kl(n))n=t.next(!0);else if(Wl(n))n=t.next();else if(zo.isBr(n))r++,n=t.next();else{if(ql(e,n))return!1;n=t.next();}}while(n);return r<=1;}(e.dom());},Yl=kr("block","position"),Gl=kr("from","to"),Jl=function Jl(e,t){var n=ar.fromDom(e),r=ar.fromDom(t.container());return Ul(n,r).map(function(e){return Yl(e,t);});},Ql=function Ql(o,i,e){var t=Jl(o,Su.fromRangeStart(e)),n=t.bind(function(e){return ic.fromPosition(i,o,e.position()).bind(function(e){return Jl(o,e).map(function(e){return t=o,n=i,r=e,zo.isBr(r.position().getNode())&&!1===Xl(r.block())?ic.positionIn(!1,r.block().dom()).bind(function(e){return e.isEqual(r.position())?ic.fromPosition(n,t,e).bind(function(e){return Jl(t,e);}):_.some(r);}).getOr(r):r;var t,n,r;});});});return eu(t,n,Gl).filter(function(e){return!1===Lr((r=e).from().block(),r.to().block())&&Ur((n=e).from().block()).bind(function(t){return Ur(n.to().block()).filter(function(e){return Lr(t,e);});}).isSome()&&(t=e,!1===zo.isContentEditableFalse(t.from().block().dom())&&!1===zo.isContentEditableFalse(t.to().block().dom()));var t,n,r;});},Zl=function Zl(e,t,n){return n.collapsed?Ql(e,t,n):_.none();},ef=function ef(e,t,n){return Fr(t,e)?function(e,t){for(var n=D(t)?t:b,r=e.dom(),o=[];null!==r.parentNode&&r.parentNode!==undefined;){var i=r.parentNode,a=ar.fromDom(i);if(o.push(a),!0===n(a))break;r=i;}return o;}(e,function(e){return n(e)||Lr(e,t);}).slice(0,-1):[];},tf=function tf(e,t){return ef(e,t,q(!1));},nf=tf,rf=function rf(e,t){return[e].concat(tf(e,t));},of=function of(e){var t,n=(t=$r(e),Y(t,yo).fold(function(){return t;},function(e){return t.slice(0,e);}));return z(n,Mi),n;},af=function af(e,t){var n=rf(t,e);return X(n.reverse(),Xl).each(Mi);},uf=function uf(e,t,n,r){if(Xl(n))return Zc(n),ic.firstPositionIn(n.dom());0===U(Hr(r),function(e){return!Xl(e);}).length&&Xl(t)&&Oi(r,ar.fromTag("br"));var o=ic.prevPosition(n.dom(),Su.before(r.dom()));return z(of(t),function(e){Oi(r,e);}),af(e,t),o;},sf=function sf(e,t,n){if(Xl(n))return Mi(n),Xl(t)&&Zc(t),ic.firstPositionIn(t.dom());var r=ic.lastPositionIn(n.dom());return z(of(t),function(e){Ii(n,e);}),af(e,t),r;},cf=function cf(e,t){return Fr(t,e)?(n=rf(e,t),_.from(n[n.length-1])):_.none();var n;},lf=function lf(e,t){ic.positionIn(e,t.dom()).map(function(e){return e.getNode();}).map(ar.fromDom).filter(Co).each(Mi);},ff=function ff(e,t,n){return lf(!0,t),lf(!1,n),cf(t,n).fold(d(sf,e,t,n),d(uf,e,t,n));},df=function df(e,t,n,r){return t?ff(e,r,n):ff(e,n,r);},mf=function mf(t,n){var e,r=ar.fromDom(t.getBody());return(e=Zl(r.dom(),n,t.selection.getRng()).bind(function(e){return df(r,n,e.from().block(),e.to().block());})).each(function(e){t.selection.setRng(e.toRange());}),e.isSome();},gf=function gf(e,t){var n=ar.fromDom(t),r=d(Lr,e);return Zi(n,To,r).isSome();},pf=function pf(e,t){var n,r,o=ic.prevPosition(e.dom(),Su.fromRangeStart(t)).isNone(),i=ic.nextPosition(e.dom(),Su.fromRangeEnd(t)).isNone();return!(gf(n=e,(r=t).startContainer)||gf(n,r.endContainer))&&o&&i;},hf=function hf(e){var n,r,o,t,i=ar.fromDom(e.getBody()),a=e.selection.getRng();return pf(i,a)?((t=e).setContent(""),t.selection.setCursorLocation(),!0):(n=i,r=e.selection,o=r.getRng(),eu(Ul(n,ar.fromDom(o.startContainer)),Ul(n,ar.fromDom(o.endContainer)),function(e,t){return!1===Lr(e,t)&&(o.deleteContents(),df(n,!0,e,t).each(function(e){r.setRng(e.toRange());}),!0);}).getOr(!1));},vf=function vf(e,t){return!e.selection.isCollapsed()&&hf(e);},yf=function yf(a){if(!k(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var u=[],n={};return z(a,function(e,r){var t=gr(e);if(1!==t.length)throw new Error("one and only one name per case");var o=t[0],i=e[o];if(n[o]!==undefined)throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!k(i))throw new Error("case arguments must be an array");u.push(o),n[o]=function(){var e=arguments.length;if(e!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+e);for(var n=new Array(e),t=0;t<n.length;t++){n[t]=arguments[t];}return{fold:function fold(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[r].apply(null,n);},match:function match(e){var t=gr(e);if(u.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+u.join(",")+"\nActual: "+t.join(","));if(!J(u,function(e){return F(t,e);}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+u.join(", "));return e[o].apply(null,n);},log:function log(e){j.console.log(e,{constructors:u,constructor:o,params:n});}};};}),n;},bf=function bf(e){return Os(e).exists(Co);},Cf=function Cf(e,t,n){var r=U(rf(ar.fromDom(n.container()),t),yo),o=Z(r).getOr(t);return ic.fromPosition(e,o.dom(),n).filter(bf);},xf=function xf(e,t){return Os(t).exists(Co)||Cf(!0,e,t).isSome();},wf=function wf(e,t){return(n=t,_.from(n.getNode(!0)).map(ar.fromDom)).exists(Co)||Cf(!1,e,t).isSome();var n;},Nf=d(Cf,!1),Ef=d(Cf,!0),Sf=(ol="\xa0",function(e){return ol===e;}),Tf=function Tf(e){return /^[\r\n\t ]$/.test(e);},kf=function kf(e){return!Tf(e)&&!Sf(e);},_f=function _f(n,r,o){return _.from(o.container()).filter(zo.isText).exists(function(e){var t=n?0:-1;return r(e.data.charAt(o.offset()+t));});},Af=d(_f,!0,Tf),Rf=d(_f,!1,Tf),Df=function Df(e){var t=e.container();return zo.isText(t)&&0===t.data.length;},Of=function Of(e,t){var n=Es(e,t);return zo.isContentEditableFalse(n)&&!zo.isBogusAll(n);},Bf=d(Of,0),Pf=d(Of,-1),If=function If(e,t){return zo.isTable(Es(e,t));},Lf=d(If,0),Ff=d(If,-1),Mf=yf([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),zf=function zf(e,t,n,r){var o=r.getNode(!1===t);return Ul(ar.fromDom(e),ar.fromDom(n.getNode())).map(function(e){return Xl(e)?Mf.remove(e.dom()):Mf.moveToElement(o);}).orThunk(function(){return _.some(Mf.moveToElement(o));});},Uf=function Uf(u,s,c){return ic.fromPosition(s,u,c).bind(function(e){return a=e.getNode(),To(ar.fromDom(a))||No(ar.fromDom(a))?_.none():(t=u,o=e,i=function i(e){return bo(ar.fromDom(e))&&!Ns(r,o,t);},Rs(!(n=s),r=c).fold(function(){return Rs(n,o).fold(q(!1),i);},i)?_.none():s&&zo.isContentEditableFalse(e.getNode())?zf(u,s,c,e):!1===s&&zo.isContentEditableFalse(e.getNode(!0))?zf(u,s,c,e):s&&Pf(c)?_.some(Mf.moveToPosition(e)):!1===s&&Bf(c)?_.some(Mf.moveToPosition(e)):_.none());var t,n,r,o,i,a;});},Vf=function Vf(r,e,o){return i=e,a=o.getNode(!1===i),u=i?"after":"before",zo.isElement(a)&&a.getAttribute("data-mce-caret")===u?(t=e,n=o.getNode(!1===e),t&&zo.isContentEditableFalse(n.nextSibling)?_.some(Mf.moveToElement(n.nextSibling)):!1===t&&zo.isContentEditableFalse(n.previousSibling)?_.some(Mf.moveToElement(n.previousSibling)):_.none()).fold(function(){return Uf(r,e,o);},_.some):Uf(r,e,o).bind(function(e){return t=r,n=o,e.fold(function(e){return _.some(Mf.remove(e));},function(e){return _.some(Mf.moveToElement(e));},function(e){return Ns(n,e,t)?_.none():_.some(Mf.moveToPosition(e));});var t,n;});var t,n,i,a,u;},jf=function jf(e,t,n){if(0!==n){var r,o,i,a=e.data.slice(t,t+n),u=t+n>=e.data.length,s=0===t;e.replaceData(t,n,(o=s,i=u,V((r=a).split(""),function(e,t){return-1!==" \f\n\r\t\x0B".indexOf(t)||"\xa0"===t?e.previousCharIsSpace||""===e.str&&o||e.str.length===r.length-1&&i?{previousCharIsSpace:!1,str:e.str+"\xa0"}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t};},{previousCharIsSpace:!1,str:""}).str));}},Hf=function Hf(e,t){var n,r=e.data.slice(t),o=r.length-(n=r,n.replace(/^\s+/g,"")).length;return jf(e,t,o);},qf=function qf(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===Su.isTextPosition(n)&&o===r.parentNode&&i>Su.before(r).offset()?Su(t.container(),t.offset()-1):t;var n,r,o,i;},$f=function $f(e){return Ua(e.previousSibling)?_.some((t=e.previousSibling,zo.isText(t)?Su(t,t.data.length):Su.after(t))):e.previousSibling?ic.lastPositionIn(e.previousSibling):_.none();var t;},Wf=function Wf(e){return Ua(e.nextSibling)?_.some((t=e.nextSibling,zo.isText(t)?Su(t,0):Su.before(t))):e.nextSibling?ic.firstPositionIn(e.nextSibling):_.none();var t;},Kf=function Kf(r,o){return $f(o).orThunk(function(){return Wf(o);}).orThunk(function(){return e=r,t=o,n=Su.before(t.previousSibling?t.previousSibling:t.parentNode),ic.prevPosition(e,n).fold(function(){return ic.nextPosition(e,Su.after(t));},_.some);var e,t,n;});},Xf=function Xf(n,r){return Wf(r).orThunk(function(){return $f(r);}).orThunk(function(){return e=n,t=r,ic.nextPosition(e,Su.after(t)).fold(function(){return ic.prevPosition(e,Su.before(t));},_.some);var e,t;});},Yf=function Yf(e,t,n){return(r=e,o=t,i=n,r?Xf(o,i):Kf(o,i)).map(d(qf,n));var r,o,i;},Gf=function Gf(t,n,e){e.fold(function(){t.focus();},function(e){t.selection.setRng(e.toRange(),n);});},Jf=function Jf(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(lr(t));},Qf=function Qf(e){if(Xl(e)){var t=ar.fromHtml('<br data-mce-bogus="1">');return Fi(e),Ii(e,t),_.some(Su.before(t.dom()));}return _.none();},Zf=function Zf(e,t,l){var n,r,o,i,a=Vr(e).filter(mr),u=jr(e).filter(mr);return Mi(e),(n=a,r=u,o=t,i=function i(e,t,n){var r,o,i,a,u=e.dom(),s=t.dom(),c=u.data.length;return o=s,i=l,a=Jn((r=u).data).length,r.appendData(o.data),Mi(ar.fromDom(o)),i&&Hf(r,a),n.container()===s?Su(u,c):n;},n.isSome()&&r.isSome()&&o.isSome()?_.some(i(n.getOrDie(),r.getOrDie(),o.getOrDie())):_.none()).orThunk(function(){return l&&(a.each(function(e){return t=e.dom(),n=e.dom().length,r=t.data.slice(0,n),o=r.length-Jn(r).length,jf(t,n-o,o);var t,n,r,o;}),u.each(function(e){return Hf(e.dom(),0);})),t;});},ed=function ed(e,t){return n=e.schema.getTextInlineElements(),r=lr(t),pr.call(n,r);var n,r;},td=function td(t,n,e,r){void 0===r&&(r=!0);var o,i=Yf(n,t.getBody(),e.dom()),a=Zi(e,d(Jf,t),(o=t.getBody(),function(e){return e.dom()===o;})),u=Zf(e,i,ed(t,e));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(Qf).fold(function(){r&&Gf(t,n,u);},function(e){r&&Gf(t,n,_.some(e));});},nd=function nd(a,u){var e,t,n,r,o,i;return(e=a.getBody(),t=u,n=a.selection.getRng(),r=As(t?1:-1,e,n),o=Su.fromRangeStart(r),i=ar.fromDom(e),!1===t&&Pf(o)?_.some(Mf.remove(o.getNode(!0))):t&&Bf(o)?_.some(Mf.remove(o.getNode())):!1===t&&Bf(o)&&wf(i,o)?Nf(i,o).map(function(e){return Mf.remove(e.getNode());}):t&&Pf(o)&&xf(i,o)?Ef(i,o).map(function(e){return Mf.remove(e.getNode());}):Vf(e,t,o)).map(function(e){return e.fold((o=a,i=u,function(e){return o._selectionOverrides.hideFakeCaret(),td(o,i,ar.fromDom(e)),!0;}),(n=a,r=u,function(e){var t=r?Su.before(e):Su.after(e);return n.selection.setRng(t.toRange()),!0;}),(t=a,function(e){return t.selection.setRng(e.toRange()),!0;}));var t,n,r,o,i;}).getOr(!1);},rd=function rd(e,t){var n,r=e.selection.getNode();return!!zo.isContentEditableFalse(r)&&(n=ar.fromDom(e.getBody()),z(Gi(n,".mce-offscreen-selection"),Mi),td(e,t,ar.fromDom(e.selection.getNode())),Vl(e),!0);},od=function od(e,t){return e.selection.isCollapsed()?nd(e,t):rd(e,t);},id=function id(e){var t,n=function(e,t){for(;t&&t!==e;){if(zo.isContentEditableTrue(t)||zo.isContentEditableFalse(t))return t;t=t.parentNode;}return null;}(e.getBody(),e.selection.getNode());return zo.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Su.before(t).toRange())),!0;},ad=zo.isText,ud=function ud(e){return ad(e)&&e.data[0]===ya;},sd=function sd(e){return ad(e)&&e.data[e.data.length-1]===ya;},cd=function cd(e){return e.ownerDocument.createTextNode(ya);},ld=function ld(e,t){return e?function(e){if(ad(e.previousSibling))return sd(e.previousSibling)||e.previousSibling.appendData(ya),e.previousSibling;if(ad(e))return ud(e)||e.insertData(0,ya),e;var t=cd(e);return e.parentNode.insertBefore(t,e),t;}(t):function(e){if(ad(e.nextSibling))return ud(e.nextSibling)||e.nextSibling.insertData(0,ya),e.nextSibling;if(ad(e))return sd(e)||e.appendData(ya),e;var t=cd(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t;}(t);},fd=d(ld,!0),dd=d(ld,!1),md=function md(e,t){return zo.isText(e.container())?ld(t,e.container()):ld(t,e.getNode());},gd=function gd(e,t){var n=t.get();return n&&e.container()===n&&Na(n);},pd=function pd(n,e){return e.fold(function(e){is.remove(n.get());var t=fd(e);return n.set(t),_.some(Su(t,t.length-1));},function(e){return ic.firstPositionIn(e).map(function(e){if(gd(e,n))return Su(n.get(),1);is.remove(n.get());var t=md(e,!0);return n.set(t),Su(t,1);});},function(e){return ic.lastPositionIn(e).map(function(e){if(gd(e,n))return Su(n.get(),n.get().length-1);is.remove(n.get());var t=md(e,!1);return n.set(t),Su(t,t.length-1);});},function(e){is.remove(n.get());var t=dd(e);return n.set(t),_.some(Su(t,1));});},hd=function hd(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r;}return _.none();},vd=yf([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yd=function yd(e,t){var n=ws(t,e);return n||e;},bd=function bd(e,t,n){var r=zl.normalizeForwards(n),o=yd(t,r.container());return zl.findRootInline(e,o,r).fold(function(){return ic.nextPosition(o,r).bind(d(zl.findRootInline,e,o)).map(function(e){return vd.before(e);});},_.none);},Cd=function Cd(e,t){return null===Yu(e,t);},xd=function xd(e,t,n){return zl.findRootInline(e,t,n).filter(d(Cd,t));},wd=function wd(e,t,n){var r=zl.normalizeBackwards(n);return xd(e,t,r).bind(function(e){return ic.prevPosition(e,r).isNone()?_.some(vd.start(e)):_.none();});},Nd=function Nd(e,t,n){var r=zl.normalizeForwards(n);return xd(e,t,r).bind(function(e){return ic.nextPosition(e,r).isNone()?_.some(vd.end(e)):_.none();});},Ed=function Ed(e,t,n){var r=zl.normalizeBackwards(n),o=yd(t,r.container());return zl.findRootInline(e,o,r).fold(function(){return ic.prevPosition(o,r).bind(d(zl.findRootInline,e,o)).map(function(e){return vd.after(e);});},_.none);},Sd=function Sd(e){return!1===zl.isRtl(kd(e));},Td=function Td(e,t,n){return hd([bd,wd,Nd,Ed],[e,t,n]).filter(Sd);},kd=function kd(e){return e.fold($,$,$,$);},_d=function _d(e){return e.fold(q("before"),q("start"),q("end"),q("after"));},Ad=function Ad(e){return e.fold(vd.before,vd.before,vd.after,vd.after);},Rd=function Rd(n,e,r,t,o,i){return eu(zl.findRootInline(e,r,t),zl.findRootInline(e,r,o),function(e,t){return e!==t&&zl.hasSameParentBlock(r,e,t)?vd.after(n?e:t):i;}).getOr(i);},Dd=function Dd(e,r){return e.fold(q(!0),function(e){return n=r,!(_d(t=e)===_d(n)&&kd(t)===kd(n));var t,n;});},Od=function Od(e,t){return e?t.fold(H(_.some,vd.start),_.none,H(_.some,vd.after),_.none):t.fold(_.none,H(_.some,vd.before),_.none,H(_.some,vd.end));},Bd=function Bd(a,u,s,c){var e=zl.normalizePosition(a,c),l=Td(u,s,e);return Td(u,s,e).bind(d(Od,a)).orThunk(function(){return t=a,n=u,r=s,o=l,e=c,i=zl.normalizePosition(t,e),ic.fromPosition(t,r,i).map(d(zl.normalizePosition,t)).fold(function(){return o.map(Ad);},function(e){return Td(n,r,e).map(d(Rd,t,n,r,i,e)).filter(d(Dd,o));}).filter(Sd);var t,n,r,o,e,i;});},Pd=Td,Id=Bd,Ld=(d(Bd,!1),d(Bd,!0),Ad),Fd=function Fd(e){return e.fold(vd.start,vd.start,vd.end,vd.end);},Md=function Md(e){return D(e.selection.getSel().modify);},zd=function zd(e,t,n){var r=e?1:-1;return t.setRng(Su(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0;},Ud=function Ud(e,t){var n=t.selection.getRng(),r=e?Su.fromRangeEnd(n):Su.fromRangeStart(n);return!!Md(t)&&(e&&Ta(r)?zd(!0,t.selection,r):!(e||!ka(r))&&zd(!1,t.selection,r));},Vd=function Vd(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n);},jd=function jd(e){return!1!==e.settings.inline_boundaries;},Hd=function Hd(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected");},qd=function qd(t,e,n){return pd(e,n).map(function(e){return Vd(t,e),n;});},$d=function $d(e,t,n){return function(){return!!jd(t)&&Ud(e,t);};},Wd={move:function move(a,u,s){return function(){return!!jd(a)&&(t=a,n=u,e=s,r=t.getBody(),o=Su.fromRangeStart(t.selection.getRng()),i=d(zl.isInlineTarget,t),Id(e,i,r,o).bind(function(e){return qd(t,n,e);})).isSome();var t,n,e,r,o,i;};},moveNextWord:d($d,!0),movePrevWord:d($d,!1),setupSelectedState:function setupSelectedState(a){var u=Vi(null),s=d(zl.isInlineTarget,a);return a.on("NodeChange",function(e){var t,n,r,o,i;jd(a)&&(t=s,n=a.dom,r=e.parents,o=U(n.select('*[data-mce-selected="inline-boundary"]'),t),i=U(r,t),z(Q(o,i),d(Hd,!1)),z(Q(i,o),d(Hd,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Su.fromRangeStart(e.selection.getRng());Su.isTextPosition(n)&&!1===zl.isAtZwsp(n)&&(Vd(e,is.removeAndReposition(t.get(),n)),t.set(null));}}(a,u),function(n,r,o,e){if(r.selection.isCollapsed()){var t=U(e,n);z(t,function(e){var t=Su.fromRangeStart(r.selection.getRng());Pd(n,r.getBody(),t).bind(function(e){return qd(r,o,e);});});}}(s,a,u,e.parents));}),u;},setCaretPosition:Vd},Kd=function Kd(t,n){return function(e){return pd(n,e).map(function(e){return Wd.setCaretPosition(t,e),!0;}).getOr(!1);};},Xd=function Xd(r,o,i,a){var u=r.getBody(),s=d(zl.isInlineTarget,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=i,t=a,(n=j.document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand("Delete"),Pd(s,u,Su.fromRangeStart(r.selection.getRng())).map(Fd).map(Kd(r,o));}),r.nodeChanged();},Yd=function Yd(n,r,i,o){var e,t,a=(e=n.getBody(),t=o.container(),ws(t,e)||e),u=d(zl.isInlineTarget,n),s=Pd(u,a,o);return s.bind(function(e){return i?e.fold(q(_.some(Fd(e))),_.none,q(_.some(Ld(e))),_.none):e.fold(_.none,q(_.some(Ld(e))),_.none,q(_.some(Fd(e))));}).map(Kd(n,r)).getOrThunk(function(){var t=ic.navigate(i,a,o),e=t.bind(function(e){return Pd(u,a,e);});return s.isSome()&&e.isSome()?zl.findRootInline(u,a,o).map(function(e){return o=e,!!eu(ic.firstPositionIn(o),ic.lastPositionIn(o),function(e,t){var n=zl.normalizePosition(!0,e),r=zl.normalizePosition(!1,t);return ic.nextPosition(o,n).map(function(e){return e.isEqual(r);}).getOr(!0);}).getOr(!0)&&(td(n,i,ar.fromDom(e)),!0);var o;}).getOr(!1):e.bind(function(e){return t.map(function(e){return i?Xd(n,r,o,e):Xd(n,r,e,o),!0;});}).getOr(!1);});},Gd=function Gd(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=Su.fromRangeStart(e.selection.getRng());return Yd(e,t,n,r);}return!1;},Jd=kr("start","end"),Qd=kr("rng","table","cells"),Zd=yf([{removeTable:["element"]},{emptyCells:["cells"]}]),em=function em(e,t){return ra(ar.fromDom(e),"td,th",t);},tm=function tm(e,t){return ta(e,"table",t);},nm=function nm(e){return!1===Lr(e.start(),e.end());},rm=function rm(e,n){return tm(e.start(),n).bind(function(t){return tm(e.end(),n).bind(function(e){return Lr(t,e)?_.some(t):_.none();});});},om=function om(e){return Gi(e,"td,th");},im=function im(r,e){var t=em(e.startContainer,r),n=em(e.endContainer,r);return e.collapsed?_.none():eu(t,n,Jd).fold(function(){return t.fold(function(){return n.bind(function(t){return tm(t,r).bind(function(e){return Z(om(e)).map(function(e){return Jd(e,t);});});});},function(t){return tm(t,r).bind(function(e){return ee(om(e)).map(function(e){return Jd(t,e);});});});},function(e){return am(r,e)?_.none():(n=r,tm((t=e).start(),n).bind(function(e){return ee(om(e)).map(function(e){return Jd(t.start(),e);});}));var t,n;});},am=function am(e,t){return rm(t,e).isSome();},um=function um(e,t){var n,r,o,i,a=d(Lr,e);return(n=t,r=a,o=em(n.startContainer,r),i=em(n.endContainer,r),eu(o,i,Jd).filter(nm).filter(function(e){return am(r,e);}).orThunk(function(){return im(r,n);})).bind(function(e){return rm(t=e,a).map(function(e){return Qd(t,e,om(e));});var t;});},sm=function sm(e,t){return Y(e,function(e){return Lr(e,t);});},cm=function cm(n){return(r=n,eu(sm(r.cells(),r.rng().start()),sm(r.cells(),r.rng().end()),function(e,t){return r.cells().slice(e,t+1);})).map(function(e){var t=n.cells();return e.length===t.length?Zd.removeTable(n.table()):Zd.emptyCells(e);});var r;},lm=function lm(e,t){return um(e,t).bind(cm);},fm=function fm(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++){t.push(e.getRangeAt(n));}return t;},dm=fm,mm=function mm(e){return G(e,function(e){var t=Ga(e);return t?[ar.fromDom(t)]:[];});},gm=function gm(e){return 1<fm(e).length;},pm=function pm(e){return U(mm(e),To);},hm=function hm(e){return Gi(e,"td[data-mce-selected],th[data-mce-selected]");},vm=function vm(e,t){var n=hm(t),r=pm(e);return 0<n.length?n:r;},ym=vm,bm=function bm(e){return vm(dm(e.selection.getSel()),ar.fromDom(e.getBody()));},Cm=function Cm(e,t){return z(t,Zc),e.selection.setCursorLocation(t[0].dom(),0),!0;},xm=function xm(e,t){return td(e,!1,t),!0;},wm=function wm(n,e,r,t){return Em(e,t).fold(function(){return t=n,lm(e,r).map(function(e){return e.fold(d(xm,t),d(Cm,t));});var t;},function(e){return Sm(n,e);}).getOr(!1);},Nm=function Nm(e,t){return X(rf(t,e),To);},Em=function Em(e,t){return X(rf(t,e),function(e){return"caption"===lr(e);});},Sm=function Sm(e,t){return Zc(t),e.selection.setCursorLocation(t.dom(),0),_.some(!0);},Tm=function Tm(u,s,c,l,f){return ic.navigate(c,u.getBody(),f).bind(function(e){return r=l,o=c,i=f,a=e,ic.firstPositionIn(r.dom()).bind(function(t){return ic.lastPositionIn(r.dom()).map(function(e){return o?i.isEqual(t)&&a.isEqual(e):i.isEqual(e)&&a.isEqual(t);});}).getOr(!0)?Sm(u,l):(t=l,n=e,Em(s,ar.fromDom(n.getNode())).map(function(e){return!1===Lr(e,t);}));var t,n,r,o,i,a;}).or(_.some(!0));},km=function km(a,u,s,e){var c=Su.fromRangeStart(a.selection.getRng());return Nm(s,e).bind(function(e){return Xl(e)?Sm(a,e):(t=a,n=s,r=u,o=e,i=c,ic.navigate(r,t.getBody(),i).bind(function(e){return Nm(n,ar.fromDom(e.getNode())).map(function(e){return!1===Lr(e,o);});}));var t,n,r,o,i;});},_m=function _m(a,u,e){var s=ar.fromDom(a.getBody());return Em(s,e).fold(function(){return km(a,u,s,e);},function(e){return t=a,n=u,r=s,o=e,i=Su.fromRangeStart(t.selection.getRng()),Xl(o)?Sm(t,o):Tm(t,r,n,o,i);var t,n,r,o,i;}).getOr(!1);},Am=function Am(e,t){var n,r,o,i,a,u=ar.fromDom(e.selection.getStart(!0)),s=bm(e);return e.selection.isCollapsed()&&0===s.length?_m(e,t,u):(n=e,r=u,o=ar.fromDom(n.getBody()),i=n.selection.getRng(),0!==(a=bm(n)).length?Cm(n,a):wm(n,o,i,r));},Rm=bc.isEq,Dm=function Dm(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++){if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;}return!1;},Om=function Om(t,e,n,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,function(e){return!!Dm(t,e,n)||e.parentNode===o||!!Im(t,e,n,r,!0);}),Im(t,e,n,r));},Bm=function Bm(e,t,n){return!!Rm(t,n.inline)||!!Rm(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0);},Pm=function Pm(e,t,n,r,o,i){var a,u,s,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if("undefined"==typeof c.length){for(a in c){if(c.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):bc.getStyle(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!Rm(u,bc.normalizeStyleValue(e,bc.replaceVars(c[a],i),a)))return;}}}else for(s=0;s<c.length;s++){if("attributes"===r?e.getAttrib(t,c[s]):bc.getStyle(e,t,c[s]))return n;}return n;},Im=function Im(e,t,n,r,o){var i,a,u,s,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++){if(i=c[a],Bm(e.dom,t,i)&&Pm(l,t,i,"attributes",o,r)&&Pm(l,t,i,"styles",o,r)){if(s=i.classes)for(u=0;u<s.length;u++){if(!e.dom.hasClass(t,s[u]))return;}return i;}}},Lm={matchNode:Im,matchName:Bm,match:function match(e,t,n,r){var o;return r?Om(e,r,t,n):(r=e.selection.getNode(),!!Om(e,r,t,n)||!((o=e.selection.getStart())===r||!Om(e,o,t,n)));},matchAll:function matchAll(r,o,i){var e,a=[],u={};return e=r.selection.getStart(),r.dom.getParent(e,function(e){var t,n;for(t=0;t<o.length;t++){n=o[t],!u[n]&&Im(r,e,n,i)&&(u[n]=!0,a.push(n));}},r.dom.getRoot()),a;},canApply:function canApply(e,t){var n,r,o,i,a,u=e.formatter.get(t),s=e.dom;if(u)for(n=e.selection.getStart(),r=bc.getParents(s,n),i=u.length-1;0<=i;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;0<=o;o--){if(s.is(r[o],a))return!0;}}return!1;},matchesUnInheritedFormatSelector:Dm},Fm=function Fm(e,t){return e.splitText(t);},Mm=function Mm(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&zo.isText(t)?0<n&&n<t.nodeValue.length&&(t=(r=Fm(t,n)).previousSibling,n<o?(t=r=Fm(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(zo.isText(t)&&0<n&&n<t.nodeValue.length&&(t=Fm(t,n),n=0),zo.isText(r)&&0<o&&o<r.nodeValue.length&&(o=(r=Fm(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o};},zm=ya,Um="_mce_caret",Vm=function Vm(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==zm||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild;}return t;}(e).length;},jm=function jm(e){var t;if(e)for(e=(t=new fo(e,e)).current();e;e=t.next()){if(3===e.nodeType)return e;}return null;},Hm=function Hm(e){var t=ar.fromTag("span");return xr(t,{id:Um,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ii(t,ar.fromText(zm)),t;},qm=function qm(e,t,n){void 0===n&&(n=!0);var r,o=e.dom,i=e.selection;if(Vm(t))td(e,!1,ar.fromDom(t),n);else{var a=i.getRng(),u=o.getParent(t,o.isBlock),s=((r=jm(t))&&r.nodeValue.charAt(0)===zm&&r.deleteData(0,1),r);a.startContainer===s&&0<a.startOffset&&a.setStart(s,a.startOffset-1),a.endContainer===s&&0<a.endOffset&&a.setEnd(s,a.endOffset-1),o.remove(t,!0),u&&o.isEmpty(u)&&Zc(ar.fromDom(u)),i.setRng(a);}},$m=function $m(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)qm(e,t,n);else if(!(t=Yu(e.getBody(),o.getStart())))for(;t=r.get(Um);){qm(e,t,!1);}},Wm=function Wm(e,t,n){var r=e.dom,o=r.getParent(n,d(bc.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(Qc(ar.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n));},Km=function Km(e,t){return e.appendChild(t),t;},Xm=function Xm(e,t){var n,r,o=(n=function n(e,t){return Km(e,t.cloneNode(!1));},r=t,function(e,t){for(var n=e.length-1;0<=n;n--){t(e[n],n);}}(e,function(e){r=n(r,e);}),r);return Km(o,o.ownerDocument.createTextNode(zm));},Ym=function Ym(i){i.on("mouseup keydown",function(e){var t,n,r,o;t=i,n=e.keyCode,r=t.selection,o=t.getBody(),$m(t,null,!1),8!==n&&46!==n||!r.isCollapsed()||r.getStart().innerHTML!==zm||$m(t,Yu(o,r.getStart())),37!==n&&39!==n||$m(t,Yu(o,r.getStart()));});},Gm=function Gm(e,t){return e.schema.getTextInlineElements().hasOwnProperty(lr(t))&&!Xu(t.dom())&&!zo.isBogus(t.dom());},Jm=function Jm(e){return 1===$r(e).length;},Qm=function Qm(e,t,n,r){var o,i,a,u,s=d(Gm,t),c=W(U(r,s),function(e){return e.dom();});if(0===c.length)td(t,e,n);else{var l=(o=n.dom(),i=c,a=Hm(!1),u=Xm(i,a.dom()),Oi(ar.fromDom(o),a),Mi(ar.fromDom(o)),Su(u,0));t.selection.setRng(l.toRange());}},Zm=function Zm(r,o){var t,e=ar.fromDom(r.getBody()),n=ar.fromDom(r.selection.getStart()),i=U((t=rf(n,e),Y(t,yo).fold(q(t),function(e){return t.slice(0,e);})),Jm);return ee(i).map(function(e){var t,n=Su.fromRangeStart(r.selection.getRng());return!(!jl(o,n,e.dom())||Xu((t=e).dom())&&Vm(t.dom())||(Qm(o,r,e,i),0));}).getOr(!1);},eg=function eg(e,t){return!!e.selection.isCollapsed()&&Zm(e,t);},tg=zo.isContentEditableTrue,ng=zo.isContentEditableFalse,rg=function rg(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o);},og=function og(e,t){var n,r;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((r=(n=t).ownerDocument.createRange()).selectNode(n),r);},ig=function ig(e,t,n){var r=As(1,e.getBody(),t),o=Su.fromRangeStart(r),i=o.getNode();if(ng(i))return rg(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(ng(a))return rg(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return ng(e)||tg(e);});return ng(u)?rg(1,e,u,!1,n):null;},ag=function ag(e,t,n){if(!t||!t.collapsed)return t;var r=ig(e,t,n);return r||t;},ug=function ug(e,t,n,r,o,i){var a,u,s=rg(r,e,i.getNode(!o),o,!0);if(t.collapsed){var c=t.cloneRange();o?c.setEnd(s.startContainer,s.startOffset):c.setStart(s.endContainer,s.endOffset),c.deleteContents();}else t.deleteContents();return e.selection.setRng(s),a=e.dom,u=n,zo.isText(u)&&0===u.data.length&&a.remove(u),!0;},sg=function sg(e,t){return function(e,t){var n=e.selection.getRng();if(!zo.isText(n.commonAncestorContainer))return!1;var r=t?Nu.Forwards:Nu.Backwards,o=Xs(e.getBody()),i=d(Bs,o.next),a=d(Bs,o.prev),u=t?i:a,s=t?Bf:Pf,c=Ds(r,e.getBody(),n),l=zl.normalizePosition(t,u(c));if(!l)return!1;if(s(l))return ug(e,n,c.getNode(),r,t,l);var f=u(l);return!!(f&&s(f)&&Ps(l,f))&&ug(e,n,c.getNode(),r,t,f);}(e,t);},cg=function cg(e,t){e.getDoc().execCommand(t,!1,null);},lg=function lg(e){od(e,!1)||sg(e,!1)||Gd(e,!1)||mf(e,!1)||Am(e)||vf(e,!1)||eg(e,!1)||(cg(e,"Delete"),Vl(e));},fg=function fg(e){od(e,!0)||sg(e,!0)||Gd(e,!0)||mf(e,!0)||Am(e)||vf(e,!0)||eg(e,!0)||cg(e,"ForwardDelete");},dg=function dg(o,t,e){var n=function n(e){return t=o,n=e.dom(),r=Tr(n,t),_.from(r).filter(function(e){return 0<e.length;});var t,n,r;};return ea(ar.fromDom(e),function(e){return n(e).isSome();},function(e){return Lr(ar.fromDom(t),e);}).bind(n);},mg=function mg(o){return function(r,e){return _.from(e).map(ar.fromDom).filter(dr).bind(function(e){return dg(o,r,e.dom()).or((t=o,n=e.dom(),_.from(Ni.DOM.getStyle(n,t,!0))));var t,n;}).getOr("");};},gg={getFontSize:mg("font-size"),getFontFamily:H(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",");},mg("font-family")),toPt:function toPt(e,t){return /[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,r=t||0,o=Math.pow(10,r),Math.round(n*o)/o+"pt"):e;var n,r,o;}},pg=function pg(e){return ic.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return zo.isText(t)?t.parentNode:t;});},hg=function hg(o){return _.from(o.selection.getRng()).bind(function(e){var t,n,r=o.getBody();return n=r,(t=e).startContainer===n&&0===t.startOffset?_.none():_.from(o.selection.getStart(!0));});},vg=function vg(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var r=Tl(e),o=kl(e);return o?o[n-1]||t:r[n-1]||t;}return t;}return t;},yg=function yg(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset;},bg=function bg(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode;}return null;}(e,t,n);},Cg=function Cg(e,t,n){return bg(e,t,function(e){return e.nodeName===n;});},xg=function xg(e){return e&&"TABLE"===e.nodeName;},wg=function wg(e,t,n){for(var r=new fo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();){if(zo.isBr(t))return!0;}},Ng=function Ng(e,t,n,r,o){var i,a,u,s,c,l,f=e.getRoot(),d=e.schema.getNonEmptyElements();if(u=e.getParent(o.parentNode,e.isBlock)||f,r&&zo.isBr(o)&&t&&e.isEmpty(u))return _.some(wu(o.parentNode,e.nodeIndex(o)));for(i=new fo(o,u);s=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(s)||(l=f,Ea(c=s)&&!1===bg(c,l,Xu)))return _.none();if(zo.isText(s)&&0<s.nodeValue.length)return!1===Cg(s,f,"A")?_.some(wu(s,r?s.nodeValue.length:0)):_.none();if(e.isBlock(s)||d[s.nodeName.toLowerCase()])return _.none();a=s;}return n&&a?_.some(wu(a,0)):_.none();},Eg=function Eg(e,t,n,r){var o,i,a,u,s,c,l,f,d,m,g=e.getRoot(),p=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=zo.isElement(o)&&i===o.childNodes.length,s=e.schema.getNonEmptyElements(),c=n,Ea(o))return _.none();if(zo.isElement(o)&&i>o.childNodes.length-1&&(c=!1),zo.isDocument(o)&&(o=g,i=0),o===g){if(c&&(u=o.childNodes[0<i?i-1:0])){if(Ea(u))return _.none();if(s[u.nodeName]||xg(u))return _.none();}if(o.hasChildNodes()){if(i=Math.min(!c&&0<i?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=zo.isText(o)&&l?o.data.length:0,!t&&o===g.lastChild&&xg(o))return _.none();if(function(e,t){for(;t&&t!==e;){if(zo.isContentEditableFalse(t))return!0;t=t.parentNode;}return!1;}(g,o)||Ea(o))return _.none();if(o.hasChildNodes()&&!1===xg(o)){a=new fo(u=o,g);do{if(zo.isContentEditableFalse(u)||Ea(u)){p=!1;break;}if(zo.isText(u)&&0<u.nodeValue.length){i=c?0:u.nodeValue.length,o=u,p=!0;break;}if(s[u.nodeName.toLowerCase()]&&(!(f=u)||!/^(TD|TH|CAPTION)$/.test(f.nodeName))){i=e.nodeIndex(u),o=u.parentNode,c||i++,p=!0;break;}}while(u=c?a.next():a.prev());}}}return t&&(zo.isText(o)&&0===i&&Ng(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),p=!0;}),zo.isElement(o)&&((u=o.childNodes[i])||(u=o.childNodes[i-1]),!u||!zo.isBr(u)||(m="A",(d=u).previousSibling&&d.previousSibling.nodeName===m)||wg(e,u,!1)||wg(e,u,!0)||Ng(e,l,t,!0,u).each(function(e){o=e.container(),i=e.offset(),p=!0;}))),c&&!t&&zo.isText(o)&&i===o.nodeValue.length&&Ng(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),p=!0;}),p?_.some(wu(o,i)):_.none();},Sg=function Sg(e,t){var n=t.collapsed,r=t.cloneRange(),o=wu.fromRangeStart(t);return Eg(e,n,!0,r).each(function(e){n&&wu.isAbove(o,e)||r.setStart(e.container(),e.offset());}),n||Eg(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset());}),n&&r.collapse(!0),yg(t,r)?_.none():_.some(r);},Tg=function Tg(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r);},kg=function kg(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o);},_g=function _g(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Sg(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset);});var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0;}var l=i.getParent(s,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",m=t&&t.ctrlKey;"LI"!==d||m||(l=f),s&&3===s.nodeType&&u>=s.nodeValue.length&&(function(e,t,n){for(var r,o=new fo(t,n),i=e.getNonEmptyElements();r=o.next();){if(i[r.nodeName.toLowerCase()]||0<r.length)return!0;}}(e.schema,s,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Lu(i,a,n),Tg(i,o,n),kg(i,o,n,r),e.undoManager.add();},Ag=function Ag(e,t){var n=ar.fromTag("br");Oi(ar.fromDom(t),n),e.undoManager.add();},Rg=function Rg(e,t){Dg(e.getBody(),t)||Bi(ar.fromDom(t),ar.fromTag("br"));var n=ar.fromTag("br");Bi(ar.fromDom(t),n),Tg(e.dom,e.selection,n.dom()),kg(e.dom,e.selection,n.dom(),!1),e.undoManager.add();},Dg=function Dg(e,t){return n=Su.after(t),!!zo.isBr(n.getNode())||ic.nextPosition(e,Su.after(t)).map(function(e){return zo.isBr(e.getNode());}).getOr(!1);var n;},Og=function Og(e){return e&&"A"===e.nodeName&&"href"in e;},Bg=function Bg(e){return e.fold(q(!1),Og,Og,q(!1));},Pg=function Pg(e,t){t.fold(o,d(Ag,e),d(Rg,e),o);},Ig=function Ig(e,t){var n,r,o,i=(n=e,r=d(zl.isInlineTarget,n),o=Su.fromRangeStart(n.selection.getRng()),Pd(r,n.getBody(),o).filter(Bg));i.isSome()?i.each(d(Pg,e)):_g(e,t);},Lg={create:kr("start","soffset","finish","foffset")},Fg=yf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mg=(Fg.before,Fg.on,Fg.after,function(e){return e.fold($,$,$);}),zg=yf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ug={domRange:zg.domRange,relative:zg.relative,exact:zg.exact,exactFromRange:function exactFromRange(e){return zg.exact(e.start(),e.soffset(),e.finish(),e.foffset());},getWin:function getWin(e){var t=e.match({domRange:function domRange(e){return ar.fromDom(e.startContainer);},relative:function relative(e,t){return Mg(e);},exact:function exact(e,t,n,r){return e;}});return zr(t);},range:Lg.create},Vg=or.detect().browser,jg=function jg(e,t){var n=mr(t)?Ic(t).length:$r(t).length+1;return n<e?n:e<0?0:e;},Hg=function Hg(e){return Ug.range(e.start(),jg(e.soffset(),e.start()),e.finish(),jg(e.foffset(),e.finish()));},qg=function qg(e,t){return!zo.isRestrictedNode(t.dom())&&(Fr(e,t)||Lr(e,t));},$g=function $g(t){return function(e){return qg(t,e.start())&&qg(t,e.finish());};},Wg=function Wg(e){return!0===e.inline||Vg.isIE();},Kg=function Kg(e){return Ug.range(ar.fromDom(e.startContainer),e.startOffset,ar.fromDom(e.endContainer),e.endOffset);},Xg=function Xg(e){var t=e.getSelection();return(t&&0!==t.rangeCount?_.from(t.getRangeAt(0)):_.none()).map(Kg);},Yg=function Yg(e){var t=zr(e);return Xg(t.dom()).filter($g(e));},Gg=function Gg(e,t){return _.from(t).filter($g(e)).map(Hg);},Jg=function Jg(e){var t=j.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),_.some(t);}catch(n){return _.none();}},Qg=function Qg(e){return(e.bookmark?e.bookmark:_.none()).bind(d(Gg,ar.fromDom(e.getBody()))).bind(Jg);},Zg=function Zg(e){var t=Wg(e)?Yg(ar.fromDom(e.getBody())):_.none();e.bookmark=t.isSome()?t:e.bookmark;},ep=function ep(t){Qg(t).each(function(e){t.selection.setRng(e);});},tp=Qg,np=function np(e){return wo(e)||No(e);},rp=function rp(e){return U(W(e.selection.getSelectedBlocks(),ar.fromDom),function(e){return!np(e)&&!Ur(e).map(np).getOr(!1);});},op=function op(e,t){var n=e.settings,r=e.dom,o=e.selection,i=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],u=parseInt(n.indentation,10),s=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||n.forced_root_block||r.getParent(o.getNode(),r.isBlock)||i.apply("div"),z(rp(e),function(e){!function(e,t,n,r,o,i){if("false"!==e.getContentEditable(i)){var a=n?"margin":"padding";if(a="TABLE"===i.nodeName?"margin":a,a+="rtl"===e.getStyle(i,"direction",!0)?"Right":"Left","outdent"===t){var u=Math.max(0,parseInt(i.style[a]||0,10)-r);e.setStyle(i,a,u?u+o:"");}else u=parseInt(i.style[a]||0,10)+r+o,e.setStyle(i,a,u);}}(r,t,s,u,a,e.dom());});},ip=Xt.each,ap=Xt.extend,up=Xt.map,sp=Xt.inArray;function cp(s){var o,i,a,t,c={state:{},exec:{},value:{}},n=s.settings;s.on("PreInit",function(){o=s.dom,i=s.selection,n=s.settings,a=s.formatter;});var r=function r(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=c.state[e])return t(e);try{return s.getDoc().queryCommandState(e);}catch(n){}return!1;}},e=function e(_e4,n){n=n||"exec",ip(_e4,function(t,e){ip(e.toLowerCase().split(","),function(e){c[n][e]=t;});});},u=function u(e,t,n){e=e.toLowerCase(),c.value[e]=function(){return t.call(n||s);};};ap(this,{execCommand:function execCommand(t,n,r,e){var o,i,a=!1;if(!s.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?ep(s):s.focus(),(e=s.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;if(i=t.toLowerCase(),o=c.exec[i])return o(i,n,r),s.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(ip(s.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return s.fire("ExecCommand",{command:t,ui:n,value:r}),!(a=!0);}),a)return a;if(s.theme&&s.theme.execCommand&&s.theme.execCommand(t,n,r))return s.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{a=s.getDoc().execCommand(t,n,r);}catch(u){}return!!a&&(s.fire("ExecCommand",{command:t,ui:n,value:r}),!0);}},queryCommandState:r,queryCommandValue:function queryCommandValue(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=c.value[e])return t(e);try{return s.getDoc().queryCommandValue(e);}catch(n){}}},queryCommandSupported:function queryCommandSupported(e){if(e=e.toLowerCase(),c.exec[e])return!0;try{return s.getDoc().queryCommandSupported(e);}catch(t){}return!1;},addCommands:e,addCommand:function addCommand(e,o,i){e=e.toLowerCase(),c.exec[e]=function(e,t,n,r){return o.call(i||s,t,n,r);};},addQueryStateHandler:function addQueryStateHandler(e,t,n){e=e.toLowerCase(),c.state[e]=function(){return t.call(n||s);};},addQueryValueHandler:u,hasCustomCommand:function hasCustomCommand(e){return e=e.toLowerCase(),!!c.exec[e];}});var l=function l(e,t,n){return t===undefined&&(t=!1),n===undefined&&(n=null),s.getDoc().execCommand(e,t,n);},f=function f(e){return a.match(e);},d=function d(e,t){a.toggle(e,t?{value:t}:undefined),s.nodeChanged();},m=function m(e){t=i.getBookmark(e);},g=function g(){i.moveToBookmark(t);};e({"mceResetDesignMode,mceBeginUndoLevel":function mceResetDesignModeMceBeginUndoLevel(){},"mceEndUndoLevel,mceAddUndoLevel":function mceEndUndoLevelMceAddUndoLevel(){s.undoManager.add();},"Cut,Copy,Paste":function CutCopyPaste(e){var t,n=s.getDoc();try{l(e);}catch(o){t=!0;}if("paste"!==e||n.queryCommandEnabled(e)||(t=!0),t||!n.queryCommandSupported(e)){var r=s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");fe.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),s.notificationManager.open({text:r,type:"error"});}},unlink:function unlink(){if(i.isCollapsed()){var e=s.dom.getParent(s.selection.getStart(),"a");e&&s.dom.remove(e,!0);}else a.remove("link");},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function JustifyLeftJustifyCenterJustifyRightJustifyFullJustifyNone(e){var t=e.substring(7);"full"===t&&(t="justify"),ip("left,center,right,justify".split(","),function(e){t!==e&&a.remove("align"+e);}),"none"!==t&&d("align"+t);},"InsertUnorderedList,InsertOrderedList":function InsertUnorderedListInsertOrderedList(e){var t,n;l(e),(t=o.getParent(i.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(m(),o.split(n,t),g()));},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e){d(e);},"ForeColor,HiliteColor":function ForeColorHiliteColor(e,t,n){d(e,n);},FontName:function FontName(e,t,n){var r,o;o=n,(r=s).formatter.toggle("fontname",{value:vg(r,o)}),r.nodeChanged();},FontSize:function FontSize(e,t,n){var r,o;o=n,(r=s).formatter.toggle("fontsize",{value:vg(r,o)}),r.nodeChanged();},RemoveFormat:function RemoveFormat(e){a.remove(e);},mceBlockQuote:function mceBlockQuote(){d("blockquote");},FormatBlock:function FormatBlock(e,t,n){return d(n||"p");},mceCleanup:function mceCleanup(){var e=i.getBookmark();s.setContent(s.getContent()),i.moveToBookmark(e);},mceRemoveNode:function mceRemoveNode(e,t,n){var r=n||i.getNode();r!==s.getBody()&&(m(),s.dom.remove(r,!0),g());},mceSelectNodeDepth:function mceSelectNodeDepth(e,t,n){var r=0;o.getParent(i.getNode(),function(e){if(1===e.nodeType&&r++===n)return i.select(e),!1;},s.getBody());},mceSelectNode:function mceSelectNode(e,t,n){i.select(n);},mceInsertContent:function mceInsertContent(e,t,n){ll(s,n);},mceInsertRawHTML:function mceInsertRawHTML(e,t,n){i.setContent("tiny_mce_marker");var r=s.getContent();s.setContent(r.replace(/tiny_mce_marker/g,function(){return n;}));},mceToggleFormat:function mceToggleFormat(e,t,n){d(n);},mceSetContent:function mceSetContent(e,t,n){s.setContent(n);},"Indent,Outdent":function IndentOutdent(e){op(s,e);},mceRepaint:function mceRepaint(){},InsertHorizontalRule:function InsertHorizontalRule(){s.execCommand("mceInsertContent",!1,"<hr />");},mceToggleVisualAid:function mceToggleVisualAid(){s.hasVisual=!s.hasVisual,s.addVisual();},mceReplaceContent:function mceReplaceContent(e,t,n){s.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,i.getContent({format:"text"})));},mceInsertLink:function mceInsertLink(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=o.getParent(i.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||a.remove("link"),n.href&&a.apply("link",n,r);},selectAll:function selectAll(){var e=o.getParent(i.getStart(),zo.isContentEditableTrue);if(e){var t=o.createRng();t.selectNodeContents(e),i.setRng(t);}},"delete":function _delete(){lg(s);},forwardDelete:function forwardDelete(){fg(s);},mceNewDocument:function mceNewDocument(){s.setContent("");},InsertLineBreak:function InsertLineBreak(e,t,n){return Ig(s,n),!0;}});var p=function p(n){return function(){var e=i.isCollapsed()?[o.getParent(i.getNode(),o.isBlock)]:i.getSelectedBlocks(),t=up(e,function(e){return!!a.matchNode(e,n);});return-1!==sp(t,!0);};};e({JustifyLeft:p("alignleft"),JustifyCenter:p("aligncenter"),JustifyRight:p("alignright"),JustifyFull:p("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e){return f(e);},mceBlockQuote:function mceBlockQuote(){return f("blockquote");},Outdent:function Outdent(){var e;if(n.inline_styles){if((e=o.getParent(i.getStart(),o.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=o.getParent(i.getEnd(),o.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;}return r("InsertUnorderedList")||r("InsertOrderedList")||!n.inline_styles&&!!o.getParent(i.getNode(),"BLOCKQUOTE");},"InsertUnorderedList,InsertOrderedList":function InsertUnorderedListInsertOrderedList(e){var t=o.getParent(i.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName);}},"state"),e({Undo:function Undo(){s.undoManager.undo();},Redo:function Redo(){s.undoManager.redo();}}),u("FontName",function(){return hg(t=s).fold(function(){return pg(t).map(function(e){return gg.getFontFamily(t.getBody(),e);}).getOr("");},function(e){return gg.getFontFamily(t.getBody(),e);});var t;},this),u("FontSize",function(){return hg(t=s).fold(function(){return pg(t).map(function(e){return gg.getFontSize(t.getBody(),e);}).getOr("");},function(e){return gg.getFontSize(t.getBody(),e);});var t;},this);}var lp=Xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),fp=function fp(a){var u,s,c=this,l={},f=function f(){return!1;},d=function d(){return!0;};u=(a=a||{}).scope||c,s=a.toggleEvent||f;var r=function r(e,t,n,_r3){var o,i,a;if(!1===t&&(t=f),t)for(t={func:t},_r3&&Xt.extend(t,_r3),a=(i=e.toLowerCase().split(" ")).length;a--;){e=i[a],(o=l[e])||(o=l[e]=[],s(e,!0)),n?o.unshift(t):o.push(t);}return c;},m=function m(e,t){var n,r,o,i,a;if(e)for(n=(i=e.toLowerCase().split(" ")).length;n--;){if(e=i[n],r=l[e],!e){for(o in l){s(o,!1),delete l[o];}return c;}if(r){if(t)for(a=r.length;a--;){r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),l[e]=r);}else r.length=0;r.length||(s(e,!1),delete l[e]);}}else{for(e in l){s(e,!1);}l={};}return c;};c.fire=function(e,t){var n,r,o,i;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=u),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=d;},t.stopPropagation=function(){t.isPropagationStopped=d;},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=d;},t.isDefaultPrevented=f,t.isPropagationStopped=f,t.isImmediatePropagationStopped=f),a.beforeFire&&a.beforeFire(t),n=l[e])for(r=0,o=n.length;r<o;r++){if((i=n[r]).once&&m(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(u,t))return t.preventDefault(),t;}return t;},c.on=r,c.off=m,c.once=function(e,t,n){return r(e,t,n,{once:!0});},c.has=function(e){return e=e.toLowerCase(),!(!l[e]||0===l[e].length);};};fp.isNative=function(e){return!!lp[e.toLowerCase()];};var dp,mp=function mp(n){return n._eventDispatcher||(n._eventDispatcher=new fp({scope:n,toggleEvent:function toggleEvent(e,t){fp.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t);}})),n._eventDispatcher;},gp={fire:function fire(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;if(t=mp(this).fire(e,t,n),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();){r.fire(e,t,!1),r=r.parent();}return t;},on:function on(e,t,n){return mp(this).on(e,t,n);},off:function off(e,t){return mp(this).off(e,t);},once:function once(e,t){return mp(this).once(e,t);},hasEventListeners:function hasEventListeners(e){return mp(this).has(e);}},pp=function pp(e,t){return e.fire("PreProcess",t);},hp=function hp(e,t){return e.fire("PostProcess",t);},vp=function vp(e){return e.fire("remove");},yp=function yp(e){return e.fire("detach");},bp=function bp(e,t){return e.fire("SwitchMode",{mode:t});},Cp=function Cp(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r});},xp=function xp(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r});},wp=function wp(e,t,n){try{e.getDoc().execCommand(t,!1,n);}catch(r){}},Np=function Np(e,t,n){var r,o;Xi(e,t)&&!1===n?(o=t,Hi(r=e)?r.dom().classList.remove(o):$i(r,o),Ki(r)):n&&Wi(e,t);},Ep=function Ep(e,t){Np(ar.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",wp(e,"StyleWithCSS",!1),wp(e,"enableInlineTableEditing",!1),wp(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged());},Sp=function Sp(e){return e.readonly?"readonly":"design";},Tp=Ni.DOM,kp=function kp(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=Tp.select(e.settings.event_root)[0]),e.eventRoot):e.getBody();},_p=function _p(e,t,n){var r;(r=e).hidden||r.readonly?!0===e.readonly&&n.preventDefault():e.fire(t,n);},Ap=function Ap(i,a){var e,t;if(i.delegates||(i.delegates={}),!i.delegates[a]&&!i.removed)if(e=kp(i,a),i.settings.event_root){if(dp||(dp={},i.editorManager.on("removeEditor",function(){var e;if(!i.editorManager.activeEditor&&dp){for(e in dp){i.dom.unbind(kp(i,e));}dp=null;}})),dp[a])return;t=function t(e){for(var t=e.target,n=i.editorManager.get(),r=n.length;r--;){var o=n[r].getBody();(o===t||Tp.isChildOf(t,o))&&_p(n[r],a,e);}},dp[a]=t,Tp.bind(e,a,t);}else t=function t(e){_p(i,a,e);},Tp.bind(e,a,t),i.delegates[a]=t;},Rp={bindPendingEventDelegates:function bindPendingEventDelegates(){var t=this;Xt.each(t._pendingNativeEvents,function(e){Ap(t,e);});},toggleNativeEvent:function toggleNativeEvent(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?Ap(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(kp(n,e),e,n.delegates[e]),delete n.delegates[e]));},unbindAllNativeEvents:function unbindAllNativeEvents(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates){t.dom.unbind(kp(t,e),e,t.delegates[e]);}delete t.delegates;}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()));}},Dp=Rp=Xt.extend({},gp,Rp),Op=kr("sections","settings"),Bp=or.detect().deviceType.isTouch(),Pp=["lists","autolink","autosave"],Ip={theme:"mobile"},Lp=function Lp(e){var t=k(e)?e.join(" "):e,n=W(S(t)?t.split(" "):[],Gn);return U(n,function(e){return 0<e.length;});},Fp=function Fp(n,e){var r,o,i,t=(r=function r(e,t){return F(n,t);},o={},i={},hr(e,function(e,t){(r(e,t)?o:i)[t]=e;}),{t:o,f:i});return Op(t.t,t.f);},Mp=function Mp(e,t){return e.sections().hasOwnProperty(t);},zp=function zp(e,t,n,r){var o,i=Lp(n.forced_plugins),a=Lp(r.plugins),u=e&&Mp(t,"mobile")?U(a,d(F,Pp)):a,s=(o=u,[].concat(Lp(i)).concat(Lp(o)));return Xt.extend(r,{plugins:s.join(" ")});},Up=function Up(e,t,n,r){var o,i,a,u,s,c,l,f,d,m,g=Fp(["mobile"],r),p=Xt.extend(t,n,g.settings(),(f=e,m=(d=g).settings().inline,f&&Mp(d,"mobile")&&!m?(u="mobile",s=Ip,c=g.sections(),l=c.hasOwnProperty(u)?c[u]:{},Xt.extend({},s,l)):{}),{validate:!0,content_editable:g.settings().inline,external_plugins:(o=n,i=g.settings(),a=i.external_plugins?i.external_plugins:{},o&&o.external_plugins?Xt.extend({},o.external_plugins,a):a)});return zp(e,g,n,p);},Vp=function Vp(e,t,n){return _.from(t.settings[n]).filter(e);},jp=function jp(e,t,n,r){var o,i,a,u=t in e.settings?e.settings[t]:n;return"hash"===r?(a={},"string"==typeof(i=u)?z(0<i.indexOf("=")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){var t=e.split("=");1<t.length?a[Xt.trim(t[0])]=Xt.trim(t[1]):a[Xt.trim(t[0])]=Xt.trim(t);}):a=i,a):"string"===r?Vp(S,e,t).getOr(n):"number"===r?Vp(O,e,t).getOr(n):"boolean"===r?Vp(R,e,t).getOr(n):"object"===r?Vp(T,e,t).getOr(n):"array"===r?Vp(k,e,t).getOr(n):"string[]"===r?Vp((o=S,function(e){return k(e)&&J(e,o);}),e,t).getOr(n):"function"===r?Vp(D,e,t).getOr(n):u;},Hp=Xt.each,qp=Xt.explode,$p={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Wp=Xt.makeMap("alt,ctrl,shift,meta,access");function Kp(i){var a={},r=[],u=function u(e){var t,n,r={};for(n in Hp(qp(e,"+"),function(e){e in Wp?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=$p[e]||e.toUpperCase().charCodeAt(0));}),t=[r.keyCode],Wp){r[n]?t.push(n):r[n]=!1;}return r.id=t.join(","),r.access&&(r.alt=!0,fe.mac?r.ctrl=!0:r.shift=!0),r.meta&&(fe.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r;},s=function s(e,t,n,r){var o;return(o=Xt.map(qp(e,">"),u))[o.length-1]=Xt.extend(o[o.length-1],{func:n,scope:r||i}),Xt.extend(o[0],{desc:i.translate(t),subpatterns:o.slice(1)});},o=function o(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0);},c=function c(e){return e.func?e.func.call(e.scope):null;};i.on("keyup keypress keydown",function(t){var e,n;((n=t).altKey||n.ctrlKey||n.metaKey||"keydown"===(e=t).type&&112<=e.keyCode&&e.keyCode<=123)&&!t.isDefaultPrevented()&&(Hp(a,function(e){if(o(t,e))return r=e.subpatterns.slice(0),"keydown"===t.type&&c(e),!0;}),o(t,r[0])&&(1===r.length&&"keydown"===t.type&&c(r[0]),r.shift()));}),this.add=function(e,n,r,o){var t;return"string"==typeof(t=r)?r=function r(){i.execCommand(t,!1,null);}:Xt.isArray(t)&&(r=function r(){i.execCommand(t[0],t[1],t[2]);}),Hp(qp(Xt.trim(e.toLowerCase())),function(e){var t=s(e,n,r,o);a[t.id]=t;}),!0;},this.remove=function(e){var t=s(e);return!!a[t.id]&&(delete a[t.id],!0);};}var Xp=function Xp(e){var t=Mr(e).dom();return e.dom()===t.activeElement;},Yp=function Yp(t){return(e=Mr(t),n=e!==undefined?e.dom():j.document,_.from(n.activeElement).map(ar.fromDom)).filter(function(e){return t.dom().contains(e.dom());});var e,n;},Gp=function Gp(t,e){return(n=e,n.collapsed?_.from(Ja(n.startContainer,n.startOffset)).map(ar.fromDom):_.none()).bind(function(e){return So(e)?_.some(e):!1===Fr(t,e)?_.some(t):_.none();});var n;},Jp=function Jp(t,e){Gp(ar.fromDom(t.getBody()),e).bind(function(e){return ic.firstPositionIn(e.dom());}).fold(function(){t.selection.normalize();},function(e){return t.selection.setRng(e.toRange());});},Qp=function Qp(e){if(e.setActive)try{e.setActive();}catch(t){e.focus();}else e.focus();},Zp=function Zp(e){var t,n=e.getBody();return n&&(t=ar.fromDom(n),Xp(t)||Yp(t).isSome());},eh=function eh(e){return e.inline?Zp(e):(t=e).iframeElement&&Xp(ar.fromDom(t.iframeElement));var t;},th=function th(e){return e.editorManager.setActive(e);},nh=function nh(e,t){e.removed||(t?th(e):function(t){var e=t.selection,n=t.settings.content_editable,r=t.getBody(),o=e.getRng();t.quirks.refreshContentEditable();var i,a,u=(i=t,a=e.getNode(),i.dom.getParent(a,function(e){return"true"===i.dom.getContentEditable(e);}));if(t.$.contains(r,u))return Qp(u),Jp(t,o),th(t);t.bookmark!==undefined&&!1===eh(t)&&tp(t).each(function(e){t.selection.setRng(e),o=e;}),n||(fe.opera||Qp(r),t.getWin().focus()),(fe.gecko||n)&&(Qp(r),Jp(t,o)),th(t);}(e));},rh=eh,oh=function oh(e,t){return t.dom()[e];},ih=function ih(e,t){return parseInt(Sr(t,e),10);},ah=d(oh,"clientWidth"),uh=d(oh,"clientHeight"),sh=d(ih,"margin-top"),ch=d(ih,"margin-left"),lh=function lh(e,t,n){var r,o,i,a,u,s,c,l,f,d,m,g=ar.fromDom(e.getBody()),p=e.inline?g:(r=g,ar.fromDom(r.dom().ownerDocument.documentElement)),h=(o=e.inline,a=t,u=n,s=(i=p).dom().getBoundingClientRect(),{x:a-(o?s.left+i.dom().clientLeft+ch(i):0),y:u-(o?s.top+i.dom().clientTop+sh(i):0)});return l=h.x,f=h.y,d=ah(c=p),m=uh(c),0<=l&&0<=f&&l<=d&&f<=m;},fh=function fh(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return(t=n,_.from(t).map(ar.fromDom)).map(function(e){return Fr(Mr(e),e);}).getOr(!1);};function dh(n){var t,o=[],i=function i(){var e,t=n.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():{open:e=function e(){throw new Error("Theme did not provide a NotificationManager implementation.");},close:e,reposition:e,getArgs:e};},a=function a(){0<o.length&&i().reposition(o);},u=function u(t){Y(o,function(e){return e===t;}).each(function(e){o.splice(e,1);});},r=function r(_r4){if(!n.removed&&fh(n))return X(o,function(e){return t=i().getArgs(e),n=_r4,!(t.type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t,n;}).getOrThunk(function(){n.editorManager.setActive(n);var e,t=i().open(_r4,function(){u(t),a();});return e=t,o.push(e),a(),t;});};return(t=n).on("SkinLoaded",function(){var e=t.settings.service_message;e&&r({text:e,type:"warning",timeout:0,icon:""});}),t.on("ResizeEditor ResizeWindow",function(){he.requestAnimationFrame(a);}),t.on("remove",function(){z(o.slice(),function(e){i().close(e);});}),{open:r,close:function close(){_.from(o[0]).each(function(e){i().close(e),u(e),a();});},getNotifications:function getNotifications(){return o;}};}function mh(r){var o=[],i=function i(){var e,t=r.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():{open:e=function e(){throw new Error("Theme did not provide a WindowManager implementation.");},alert:e,confirm:e,close:e,getParams:e,setParams:e};},a=function a(e,t){return function(){return t?t.apply(e,arguments):undefined;};},u=function u(e){var t;o.push(e),t=e,r.fire("OpenWindow",{win:t});},s=function s(n){Y(o,function(e){return e===n;}).each(function(e){var t;o.splice(e,1),t=n,r.fire("CloseWindow",{win:t}),0===o.length&&r.focus();});},e=function e(){return _.from(o[o.length-1]);};return r.on("remove",function(){z(o.slice(0),function(e){i().close(e);});}),{windows:o,open:function open(e,t){r.editorManager.setActive(r),Zg(r);var n=i().open(e,t,s);return u(n),n;},alert:function alert(e,t,n){var r=i().alert(e,a(n||this,t),s);u(r);},confirm:function confirm(e,t,n){var r=i().confirm(e,a(n||this,t),s);u(r);},close:function close(){e().each(function(e){i().close(e),s(e);});},getParams:function getParams(){return e().map(i().getParams).getOr(null);},setParams:function setParams(t){e().each(function(e){i().setParams(e,t);});},getWindows:function getWindows(){return o;}};}var gh={},ph="en",hh={setCode:function setCode(e){e&&(ph=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir);},getCode:function getCode(){return ph;},rtl:!1,add:function add(e,t){var n=gh[e];for(var r in n||(gh[e]=n={}),t){n[r]=t[r];}this.setCode(e);},translate:function translate(e){var t=gh[ph]||{},n=function n(e){return Xt.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e;},r=function r(e){return""===e||null===e||Xt.is(e,"undefined");},o=function o(e){return e=n(e),Xt.hasOwn(t,e)?n(t[e]):e;};if(r(e))return"";if(Xt.is(e,"object")&&Xt.hasOwn(e,"raw"))return n(e.raw);if(Xt.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Xt.hasOwn(i,t)?n(i[t]):e;});}return o(e).replace(/{context:\w+}$/,"");},data:gh},vh=Di.PluginManager,yh=function yh(e,t){var n=function(e,t){for(var n in vh.urls){if(vh.urls[n]+"/plugin"+t+".js"===e)return n;}return null;}(t,e.suffix);return n?hh.translate(["Failed to load plugin: {0} from url {1}",n,t]):hh.translate(["Failed to load plugin url: {0}",t]);},bh=function bh(e,t){e.notificationManager.open({type:"error",text:t});},Ch=function Ch(e,t){e._skinLoaded?bh(e,t):e.on("SkinLoaded",function(){bh(e,t);});},xh=function xh(e){for(var t=[],n=1;n<arguments.length;n++){t[n-1]=arguments[n];}var r=j.window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments));},wh={pluginLoadError:function pluginLoadError(e,t){Ch(e,yh(e,t));},pluginInitError:function pluginInitError(e,t,n){var r=hh.translate(["Failed to initialize plugin: {0}",t]);xh(r,n),Ch(e,r);},uploadError:function uploadError(e,t){Ch(e,hh.translate(["Failed to upload image: {0}",t]));},displayError:Ch,initError:xh},Nh=Di.PluginManager,Eh=Di.ThemeManager;function Sh(){return new(oe.getOrDie("XMLHttpRequest"))();}function Th(u,s){var r={},n=function n(e,r,o,t){var i,n;(i=Sh()).open("POST",s.url),i.withCredentials=s.credentials,i.upload.onprogress=function(e){t(e.loaded/e.total*100);},i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status);},i.onload=function(){var e,t,n;i.status<200||300<=i.status?o("HTTP Error: "+i.status):(e=JSON.parse(i.responseText))&&"string"==typeof e.location?r((t=s.basePath,n=e.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):o("Invalid JSON: "+i.responseText);},(n=new j.FormData()).append("file",e.blob(),e.filename()),i.send(n);},c=function c(e,t){return{url:t,blobInfo:e,status:!0};},l=function l(e,t){return{url:"",blobInfo:e,status:!1,error:t};},f=function f(e,t){Xt.each(r[e],function(e){e(t);}),delete r[e];},o=function o(e,n){return e=Xt.grep(e,function(e){return!u.isUploaded(e.blobUri());}),de.all(Xt.map(e,function(e){return u.isPending(e.blobUri())?(t=e.blobUri(),new de(function(e){r[t]=r[t]||[],r[t].push(e);})):(o=e,i=s.handler,a=n,u.markPending(o.blobUri()),new de(function(t){var n;try{var r=function r(){n&&n.close();};i(o,function(e){r(),u.markUploaded(o.blobUri(),e),f(o.blobUri(),c(o,e)),t(c(o,e));},function(e){r(),u.removeFailed(o.blobUri()),f(o.blobUri(),l(o,e)),t(l(o,e));},function(e){e<0||100<e||(n||(n=a()),n.progressBar.value(e));});}catch(e){t(l(o,e.message));}}));var o,i,a,t;}));};return!1===D(s.handler)&&(s.handler=n),{upload:function upload(e,t){return s.url||s.handler!==n?o(e,t):new de(function(e){e([]);});}};}var kh=function kh(e){return oe.getOrDie("atob")(e);},_h=function _h(e){var t,n,r=decodeURIComponent(e).split(",");return(n=/data:([^;]+)/.exec(r[0]))&&(t=n[1]),{type:t,data:r[1]};},Ah=function Ah(a){return new de(function(e){var t,n,r,o,i=_h(a);try{t=kh(i.data);}catch(nE){return void e(new j.Blob([]));}for(o=t.length,n=new(oe.getOrDie("Uint8Array"))(o),r=0;r<n.length;r++){n[r]=t.charCodeAt(r);}e(new j.Blob([n],{type:i.type}));});},Rh=function Rh(e){return 0===e.indexOf("blob:")?(i=e,new de(function(e,t){var n=function n(){t("Cannot convert "+i+" to Blob. Resource might not exist or is inaccessible.");};try{var r=Sh();r.open("GET",i,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):n();},r.onerror=n,r.send();}catch(o){n();}})):0===e.indexOf("data:")?Ah(e):null;var i;},Dh=function Dh(n){return new de(function(e){var t=new(oe.getOrDie("FileReader"))();t.onloadend=function(){e(t.result);},t.readAsDataURL(n);});},Oh=_h,Bh=0,Ph=function Ph(e){return(e||"blobid")+Bh++;},Ih=function Ih(n,r,o,t){var i,a;0!==r.src.indexOf("blob:")?(i=Oh(r.src).data,(a=n.findFirst(function(e){return e.base64()===i;}))?o({image:r,blobInfo:a}):Rh(r.src).then(function(e){a=n.create(Ph(),e,i),n.add(a),o({image:r,blobInfo:a});},function(e){t(e);})):(a=n.getByUri(r.src))?o({image:r,blobInfo:a}):Rh(r.src).then(function(t){Dh(t).then(function(e){i=Oh(e).data,a=n.create(Ph(),t,i),n.add(a),o({image:r,blobInfo:a});});},function(e){t(e);});},Lh=function Lh(e){return e?te(e.getElementsByTagName("img")):[];},Fh=0,Mh={uuid:function uuid(e){return e+Fh++ +(t=function t(){return Math.round(4294967295*Math.random()).toString(36);},"s"+new Date().getTime().toString(36)+t()+t()+t());var t;}};function zh(u){var n,o,t,e,i,r,a,s,c,l=(n=[],o=function o(e){var t,n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||Mh.uuid("blobid"),n=e.name||t,{id:q(t),name:q(n),filename:q(n+"."+(r=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:q(e.blob),base64:q(e.base64),blobUri:q(e.blobUri||ae.createObjectURL(e.blob)),uri:q(e.uri)};},{create:function create(e,t,n,r){if(S(e))return o({id:e,name:r,blob:t,base64:n});if(T(e))return o(e);throw new Error("Unknown input type");},add:function add(e){t(e.id())||n.push(e);},get:t=function t(_t3){return e(function(e){return e.id()===_t3;});},getByUri:function getByUri(t){return e(function(e){return e.blobUri()===t;});},findFirst:e=function e(_e5){return U(n,_e5)[0];},removeByUri:function removeByUri(t){n=U(n,function(e){return e.blobUri()!==t||(ae.revokeObjectURL(e.blobUri()),!1);});},destroy:function destroy(){z(n,function(e){ae.revokeObjectURL(e.blobUri());}),n=[];}}),f=(a={},s=function s(e,t){return{status:e,resultUri:t};},{hasBlobUri:c=function c(e){return e in a;},getResultUri:function getResultUri(e){var t=a[e];return t?t.resultUri:null;},isPending:function isPending(e){return!!c(e)&&1===a[e].status;},isUploaded:function isUploaded(e){return!!c(e)&&2===a[e].status;},markPending:function markPending(e){a[e]=s(1,null);},markUploaded:function markUploaded(e,t){a[e]=s(2,t);},removeFailed:function removeFailed(e){delete a[e];},destroy:function destroy(){a={};}}),d=[],m=function m(t){return function(e){return u.selection?t(e):[];};},g=function g(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;){;}return e;},p=function p(e,t,n){return e=g(e,'src="'+t+'"','src="'+n+'"'),e=g(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"');},h=function h(t,n){z(u.undoManager.data,function(e){"fragmented"===e.type?e.fragments=W(e.fragments,function(e){return p(e,t,n);}):e.content=p(e.content,t,n);});},v=function v(){return u.notificationManager.open({text:u.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0});},y=function y(e,t){l.removeByUri(e.src),h(e.src,t),u.$(e).attr({src:Rl(u)?t+"?"+new Date().getTime():t,"data-mce-src":u.convertURL(t,"src")});},b=function b(n){return i||(i=Th(f,{url:Ol(u),basePath:Bl(u),credentials:Pl(u),handler:Il(u)})),w().then(m(function(r){var e;return e=W(r,function(e){return e.blobInfo;}),i.upload(e,v).then(m(function(e){var t=W(e,function(e,t){var n=r[t].image;return e.status&&Dl(u)?y(n,e.url):e.error&&wh.uploadError(u,e.error),{element:n,status:e.status};});return n&&n(t),t;}));}));},C=function C(e){if(Al(u))return b(e);},x=function x(t){return!1!==J(d,function(e){return e(t);})&&(0!==t.getAttribute("src").indexOf("data:")||_l(u)(t));},w=function w(){var o,i,a;return r||(o=f,i=l,a={},r={findAll:function findAll(e,n){var t;n||(n=q(!0)),t=U(Lh(e),function(e){var t=e.src;return!!fe.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t===fe.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t)&&n(e):0===t.indexOf("data:")&&n(e));});var r=W(t,function(n){if(a[n.src])return new de(function(t){a[n.src].then(function(e){if("string"==typeof e)return e;t({image:n,blobInfo:e.blobInfo});});});var e=new de(function(e,t){Ih(i,n,e,t);}).then(function(e){return delete a[e.image.src],e;})["catch"](function(e){return delete a[n.src],e;});return a[n.src]=e;});return de.all(r);}}),r.findAll(u.getBody(),x).then(m(function(e){return e=U(e,function(e){return"string"!=typeof e||(wh.displayError(u,e),!1);}),z(e,function(e){h(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src");}),e;}));},N=function N(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=f.getResultUri(n);if(t)return'src="'+t+'"';var r=l.getByUri(n);return r||(r=V(u.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n);},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e;});};return u.on("setContent",function(){Al(u)?C():w();}),u.on("RawSaveContent",function(e){e.content=N(e.content);}),u.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=N(e.content));}),u.on("PostRender",function(){u.parser.addNodeFilter("img",function(e){z(e,function(e){var t=e.attr("src");if(!l.getByUri(t)){var n=f.getResultUri(t);n&&e.attr("src",n);}});});}),{blobCache:l,addFilter:function addFilter(e){d.push(e);},uploadImages:b,uploadImagesAuto:C,scanForImages:w,destroy:function destroy(){l.destroy(),f.destroy(),r=i=null;}};}var Uh=function Uh(e,t){return e.hasOwnProperty(t.nodeName);},Vh=function Vh(e,t){if(zo.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Uh(e,t.nextSibling)))return!0;}return!1;},jh=function jh(e){var t,n,r,o,i,a,u,s,c,l,f,d=e.settings,m=e.dom,g=e.selection,p=e.schema,h=p.getBlockElements(),v=g.getStart(),y=e.getBody();if(f=d.forced_root_block,v&&zo.isElement(v)&&f&&(l=y.nodeName.toLowerCase(),p.isValidChild(l,f.toLowerCase())&&(b=h,C=y,x=v,!M(nf(ar.fromDom(x),ar.fromDom(C)),function(e){return Uh(b,e.dom());})))){var b,C,x,w,N;for(n=(t=g.getRng()).startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,c=rh(e),v=y.firstChild;v;){if(w=h,N=v,zo.isText(N)||zo.isElement(N)&&!Uh(w,N)&&!pc(N)){if(Vh(h,v)){v=(u=v).nextSibling,m.remove(u);continue;}a||(a=m.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),s=!0),v=(u=v).nextSibling,a.appendChild(u);}else a=null,v=v.nextSibling;}s&&c&&(t.setStart(n,r),t.setEnd(o,i),g.setRng(t),e.nodeChanged());}},Hh=function Hh(e){e.settings.forced_root_block&&e.on("NodeChange",d(jh,e));},qh=function qh(t){return Kr(t).fold(q([t]),function(e){return[t].concat(qh(e));});},$h=function $h(t){return Xr(t).fold(q([t]),function(e){return"br"===lr(e)?Vr(e).map(function(e){return[t].concat($h(e));}).getOr([]):[t].concat($h(e));});},Wh=function Wh(o,e){return eu((i=e,a=i.startContainer,u=i.startOffset,zo.isText(a)?0===u?_.some(ar.fromDom(a)):_.none():_.from(a.childNodes[u]).map(ar.fromDom)),(t=e,n=t.endContainer,r=t.endOffset,zo.isText(n)?r===n.data.length?_.some(ar.fromDom(n)):_.none():_.from(n.childNodes[r-1]).map(ar.fromDom)),function(e,t){var n=X(qh(o),d(Lr,e)),r=X($h(o),d(Lr,t));return n.isSome()&&r.isSome();}).getOr(!1);var t,n,r,i,a,u;},Kh=function Kh(e,t,n,r){var o=n,i=new fo(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Xt.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(fe.ie&&fe.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0));}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length));},Xh=function Xh(e){var t=e.selection.getSel();return t&&0<t.rangeCount;};function Yh(i){var r,o=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t,n;n={startContainer:(t=i.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset},"nodechange"!==e.type&&yg(n,r)||i.fire("SelectionChange"),r=n;}),i.on("contextmenu",function(){i.fire("SelectionChange");}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);!e||!fe.range&&i.selection.isCollapsed()||Xh(i)&&!function(e){var t,n;if((n=i.$(e).parentsUntil(i.getBody()).add(e)).length===o.length){for(t=n.length;0<=t&&n[t]===o[t];t--){;}if(-1===t)return o=n,!0;}return o=n,!1;}(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0});}),i.on("MouseUp",function(e){!e.isDefaultPrevented()&&Xh(i)&&("IMG"===i.selection.getNode().nodeName?he.setEditorTimeout(i,function(){i.nodeChanged();}):i.nodeChanged());}),this.nodeChanged=function(e){var t,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),(t=o.getStart(!0)||r).ownerDocument===i.getDoc()&&i.dom.isChildOf(t,r)||(t=r),n=[],i.dom.getParent(t,function(e){if(e===r)return!0;n.push(e);}),(e=e||{}).element=t,e.parents=n,i.fire("NodeChange",e));};}var Gh,Jh,Qh=function Qh(e){var t,n,r,o;return o=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft};},Zh=function Zh(e,t){return n=(u=e).inline?Qh(u.getBody()):{left:0,top:0},a=(i=e).getBody(),r=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(o=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Qh(e.getContentAreaContainer()),r=(i=(o=e).getBody(),a=o.getDoc().documentElement,u={left:i.scrollLeft,top:i.scrollTop},s={left:i.scrollLeft||a.scrollLeft,top:i.scrollTop||a.scrollTop},o.inline?u:s);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top};}var o,i,a,u,s;return{left:t.pageX,top:t.pageY};}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o,i,a,u;},ev=zo.isContentEditableFalse,tv=zo.isContentEditableTrue,nv=function nv(e){e&&e.parentNode&&e.parentNode.removeChild(e);},rv=function rv(u,s){return function(e){if(0===e.button){var t=X(s.dom.getParents(e.target),ru(ev,tv)).getOr(null);if(i=s.getBody(),ev(a=t)&&a!==i){var n=s.dom.getPos(t),r=s.getBody(),o=s.getDoc().documentElement;u.element=t,u.screenX=e.screenX,u.screenY=e.screenY,u.maxX=(s.inline?r.scrollWidth:o.offsetWidth)-2,u.maxY=(s.inline?r.scrollHeight:o.offsetHeight)-2,u.relX=e.pageX-n.x,u.relY=e.pageY-n.y,u.width=t.offsetWidth,u.height=t.offsetHeight,u.ghost=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i;}(s,t,u.width,u.height);}}var i,a;};},ov=function ov(l,f){return function(e){if(l.dragging&&(s=(i=f).selection,c=s.getSel().getRangeAt(0).startContainer,a=3===c.nodeType?c.parentNode:c,u=l.element,a!==u&&!i.dom.isChildOf(a,u)&&!ev(a))){var t=(r=l.element,(o=r.cloneNode(!0)).removeAttribute("data-mce-selected"),o),n=f.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY});n.isDefaultPrevented()||(t=n.targetClone,f.undoManager.transact(function(){nv(l.element),f.insertContent(f.dom.getOuterHTML(t)),f._selectionOverrides.hideFakeCaret();}));}var r,o,i,a,u,s,c;iv(l);};},iv=function iv(e){e.dragging=!1,e.element=null,nv(e.ghost);},av=function av(e){var t,n,r,o,i,a,p,h,v,u,s,c={};t=Ni.DOM,a=j.document,n=rv(c,e),p=c,h=e,v=he.throttle(function(e,t){h._selectionOverrides.hideFakeCaret(),h.selection.placeCaretAt(e,t);},0),r=function r(e){var t,n,r,o,i,a,u,s,c,l,f,d,m=Math.max(Math.abs(e.screenX-p.screenX),Math.abs(e.screenY-p.screenY));if(p.element&&!p.dragging&&10<m){if(h.fire("dragstart",{target:p.element}).isDefaultPrevented())return;p.dragging=!0,h.focus();}if(p.dragging){var g=(f=p,{pageX:(d=Zh(h,e)).pageX-f.relX,pageY:d.pageY+5});c=p.ghost,l=h.getBody(),c.parentNode!==l&&l.appendChild(c),t=p.ghost,n=g,r=p.width,o=p.height,i=p.maxX,a=p.maxY,s=u=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+r>i&&(u=n.pageX+r-i),n.pageY+o>a&&(s=n.pageY+o-a),t.style.width=r-u+"px",t.style.height=o-s+"px",v(e.clientX,e.clientY);}},o=ov(c,e),u=c,i=function i(){u.dragging&&s.fire("dragend"),iv(u);},(s=e).on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(a,"mousemove",r),t.bind(a,"mouseup",i),e.on("remove",function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",i);});},uv=function uv(e){var n;av(e),(n=e).on("drop",function(e){var t="undefined"!=typeof e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;(ev(t)||ev(n.dom.getContentEditableParent(t)))&&e.preventDefault();});},sv=function sv(e){return V(e,function(e,t){return e.concat(function(t){var e=function e(_e6){return W(_e6,function(e){return(e=qa(e)).node=t,e;});};if(zo.isElement(t))return e(t.getClientRects());if(zo.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects());}}(t));},[]);};(Jh=Gh||(Gh={}))[Jh.Up=-1]="Up",Jh[Jh.Down=1]="Down";var cv=function cv(o,i,a,e,u,t){var n,s,c=0,l=[],r=function r(e){var t,n,r;for(r=sv([e]),-1===o&&(r=r.reverse()),t=0;t<r.length;t++){if(n=r[t],!a(n,s)){if(0<l.length&&i(n,Ht.last(l))&&c++,n.line=c,u(n))return!0;l.push(n);}}};return(s=Ht.last(t.getClientRects()))&&(r(n=t.getNode()),function(e,t,n,r){for(;r=xs(r,e,ja,t);){if(n(r))return;}}(o,e,r,n)),l;},lv=d(cv,Gh.Up,Ka,Xa),fv=d(cv,Gh.Down,Xa,Ka),dv=function dv(n){return function(e){return t=n,e.line>t;var t;};},mv=function mv(n){return function(e){return t=n,e.line===t;var t;};},gv=zo.isContentEditableFalse,pv=xs,hv=function hv(e,t){return Math.abs(e.left-t);},vv=function vv(e,t){return Math.abs(e.right-t);},yv=function yv(e,t){return e>=t.left&&e<=t.right;},bv=function bv(e,o){return Ht.reduce(e,function(e,t){var n,r;return n=Math.min(hv(e,o),vv(e,o)),r=Math.min(hv(t,o),vv(t,o)),yv(o,t)?t:yv(o,e)?e:r===n&&gv(t.node)?t:r<n?t:e;});},Cv=function Cv(e,t,n,r){for(;r=pv(r,e,ja,t);){if(n(r))return;}},xv=function xv(e,t,n){var r,o,i,a,u,s,c,l=sv(U(te(e.getElementsByTagName("*")),fs)),f=U(l,function(e){return n>=e.top&&n<=e.bottom;});return(r=bv(f,t))&&(r=bv((a=e,c=function c(t,e){var n;return n=U(sv([e]),function(e){return!t(e,u);}),s=s.concat(n),0===n.length;},(s=[]).push(u=r),Cv(Gh.Up,a,d(c,Ka),u.node),Cv(Gh.Down,a,d(c,Xa),u.node),s),t))&&fs(r.node)?(i=t,{node:(o=r).node,before:hv(o,i)<vv(o,i)}):null;},wv=function wv(t,n,e){if(e.collapsed)return!1;if(fe.ie&&fe.ie<=11&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var r=e.startContainer.childNodes[e.startOffset];if(zo.isElement(r))return M(r.getClientRects(),function(e){return Ya(e,t,n);});}return M(e.getClientRects(),function(e){return Ya(e,t,n);});},Nv=function Nv(t){var e=Ui(function(){if(!t.removed&&t.selection.getRng().collapsed){var e=ag(t,t.selection.getRng(),!1);t.selection.setRng(e);}},0);t.on("focus",function(){e.throttle();}),t.on("blur",function(){e.cancel();});},Ev={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function modifierPressed(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e);},metaKeyPressed:function metaKeyPressed(e){return fe.mac?e.metaKey:e.ctrlKey&&!e.altKey;}},Sv=zo.isContentEditableTrue,Tv=zo.isContentEditableFalse,kv=function kv(e,t){for(var n=e.getBody();t&&t!==n;){if(Sv(t)||Tv(t))return t;t=t.parentNode;}return null;},_v=function _v(g){var p,e,t,a=g.getBody(),o=cs(g.getBody(),function(e){return g.dom.isBlock(e);},function(){return rh(g);}),h="sel-"+g.dom.uniqueId(),u=function u(e){e&&g.selection.setRng(e);},s=function s(){return g.selection.getRng();},v=function v(e,t,n,r){return void 0===r&&(r=!0),g.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(r&&g.selection.scrollIntoView(t,-1===e),o.show(n,t));},y=function y(e,t){return t=As(e,a,t),-1===e?Su.fromRangeStart(t):Su.fromRangeEnd(t);},n=function n(e){return Ea(e)||Aa(e)||Ra(e);},b=function b(e){return n(e.startContainer)||n(e.endContainer);},c=function c(e,t){var n,r,o,i,a,u,s,c,l,f,d=g.$,m=g.dom;if(!e)return null;if(e.collapsed){if(!b(e))if(!1===t){if(c=y(-1,e),fs(c.getNode(!0)))return v(-1,c.getNode(!0),!1,!1);if(fs(c.getNode()))return v(-1,c.getNode(),!c.isAtEnd(),!1);}else{if(c=y(1,e),fs(c.getNode()))return v(1,c.getNode(),!c.isAtEnd(),!1);if(fs(c.getNode(!0)))return v(1,c.getNode(!0),!1,!1);}return null;}return i=e.startContainer,a=e.startOffset,u=e.endOffset,3===i.nodeType&&0===a&&Tv(i.parentNode)&&(i=i.parentNode,a=m.nodeIndex(i),i=i.parentNode),1!==i.nodeType?null:(u===a+1&&i===e.endContainer&&(n=i.childNodes[a]),Tv(n)?(l=f=n.cloneNode(!0),(s=g.fire("ObjectSelected",{target:n,targetClone:l})).isDefaultPrevented()?null:(r=na(ar.fromDom(g.getBody()),"#"+h).fold(function(){return d([]);},function(e){return d([e.dom()]);}),l=s.targetClone,0===r.length&&(r=d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",h)).appendTo(g.getBody()),e=g.dom.createRng(),l===f&&fe.ie?(r.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(l),e.setStartAfter(r[0].firstChild.firstChild),e.setEndAfter(l)):(r.empty().append("\xa0").append(l).append("\xa0"),e.setStart(r[0].firstChild,1),e.setEnd(r[0].lastChild,0)),r.css({top:m.getPos(n,g.getBody()).y}),r[0].focus(),(o=g.selection.getSel()).removeAllRanges(),o.addRange(e),z(Gi(ar.fromDom(g.getBody()),"*[data-mce-selected]"),function(e){Nr(e,"data-mce-selected");}),n.setAttribute("data-mce-selected","1"),p=n,C(),e)):null);},l=function l(){p&&(p.removeAttribute("data-mce-selected"),na(ar.fromDom(g.getBody()),"#"+h).each(Mi),p=null),na(ar.fromDom(g.getBody()),"#"+h).each(Mi),p=null;},C=function C(){o.hide();};return fe.ceFalse&&(function(){g.on("mouseup",function(e){var t=s();t.collapsed&&lh(g,e.clientX,e.clientY)&&u(ig(g,t,!1));}),g.on("click",function(e){var t;(t=kv(g,e.target))&&(Tv(t)&&(e.preventDefault(),g.focus()),Sv(t)&&g.dom.isChildOf(t,g.selection.getNode())&&l());}),g.on("blur NewBlock",function(){l();}),g.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition();});var n,r,i=function i(e,t){var n,r,o=g.dom.getParent(e,g.dom.isBlock),i=g.dom.getParent(t,g.dom.isBlock);return!(!o||!g.dom.isChildOf(o,i)||!1!==Tv(kv(g,o)))||o&&(n=o,r=i,!(g.dom.getParent(n,g.dom.isBlock)===g.dom.getParent(r,g.dom.isBlock)))&&function(e){var t=Xs(e);if(!e.firstChild)return!1;var n=Su.before(e.firstChild),r=t.next(n);return r&&!Bf(r)&&!Pf(r);}(o);};r=!1,(n=g).on("touchstart",function(){r=!1;}),n.on("touchmove",function(){r=!0;}),n.on("touchend",function(e){var t=kv(n,e.target);Tv(t)&&(r||(e.preventDefault(),c(og(n,t))));}),g.on("mousedown",function(e){var t,n=e.target;if((n===a||"HTML"===n.nodeName||g.dom.isChildOf(n,a))&&!1!==lh(g,e.clientX,e.clientY))if(t=kv(g,n))Tv(t)?(e.preventDefault(),c(og(g,t))):(l(),Sv(t)&&e.shiftKey||wv(e.clientX,e.clientY,g.selection.getRng())||(C(),g.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===fs(n)){l(),C();var r=xv(a,e.clientX,e.clientY);if(r&&!i(e.target,r.node)){e.preventDefault();var o=v(1,r.node,r.before,!1);g.getBody().focus(),u(o);}}}),g.on("keypress",function(e){Ev.modifierPressed(e)||(e.keyCode,Tv(g.selection.getNode())&&e.preventDefault());}),g.on("getSelectionRange",function(e){var t=e.range;if(p){if(!p.parentNode)return void(p=null);(t=t.cloneRange()).selectNode(p),e.range=t;}}),g.on("setSelectionRange",function(e){var t;(t=c(e.range,e.forward))&&(e.range=t);}),g.on("AfterSetSelectionRange",function(e){var t,n=e.range;b(n)||"mcepastebin"===n.startContainer.parentNode.id||C(),t=n.startContainer.parentNode,g.dom.hasClass(t,"mce-offscreen-selection")||l();}),g.on("copy",function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!fe.ie){var r=(t=g.dom.get(h))?t.getElementsByTagName("*")[0]:t;r&&(e.preventDefault(),n.clearData(),n.setData("text/html",r.outerHTML),n.setData("text/plain",r.outerText));}}),uv(g),Nv(g);}(),e=g.contentStyles,t=".mce-content-body",e.push(o.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")),{showCaret:v,showBlockCaretContainer:function showBlockCaretContainer(e){e.hasAttribute("data-mce-caret")&&(Da(e),u(s()),g.selection.scrollIntoView(e[0]));},hideFakeCaret:C,destroy:function destroy(){o.destroy(),p=null;}};},Av=function Av(e,t,n){var r,o,i,a,u=1;for(a=e.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])u--;else if(!o[1]){if(o[2]in a)continue;u++;}if(0===u)break;}return r;},Rv=function Rv(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null;}return null;};function Dv(z,U){void 0===U&&(U=li());var e=function e(){};!1!==(z=z||{}).fix_self_closing&&(z.fix_self_closing=!0);var V=z.comment?z.comment:e,j=z.cdata?z.cdata:e,H=z.text?z.text:e,q=z.start?z.start:e,$=z.end?z.end:e,W=z.pi?z.pi:e,K=z.doctype?z.doctype:e;return{parse:function parse(e){var t,n,r,d,o,i,a,m,u,s,g,c,p,l,f,h,v,y,b,C,x,w,N,E,S,T,k,_,A,R=0,D=[],O=0,B=Zo.decode,P=Xt.makeMap("src,href,data,background,formaction,poster,xlink:href"),I=/((java|vb)script|mhtml):/i,L=function L(e){var t,n;for(t=D.length;t--&&D[t].name!==e;){;}if(0<=t){for(n=D.length-1;t<=n;n--){(e=D[n]).valid&&$(e.name);}D.length=t;}},F=function F(e,t,n,r,o){var i,a,u,s,c;if(n=(t=t.toLowerCase())in g?t:B(n||r||o||""),p&&!m&&0==(0===(u=t).indexOf("data-")||0===u.indexOf("aria-"))){if(!(i=y[t])&&b){for(a=b.length;a--&&!(i=b[a]).pattern.test(t);){;}-1===a&&(i=null);}if(!i)return;if(i.validValues&&!(n in i.validValues))return;}if(P[t]&&!z.allow_script_urls){var l=n.replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l);}catch(f){l=unescape(l);}if(I.test(l))return;if(c=l,!(s=z).allow_html_data_urls&&(/^data:image\//i.test(c)?!1===s.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(c):/^data:/i.test(c)))return;}m&&(t in P||0===t.indexOf("on"))||(d.map[t]=n,d.push({name:t,value:n}));};for(S=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),T=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,s=U.getShortEndedElements(),E=z.self_closing_elements||U.getSelfClosingElements(),g=U.getBoolAttrs(),p=z.validate,u=z.remove_internals,A=z.fix_self_closing,k=U.getSpecialElements(),N=e+">";t=S.exec(N);){if(R<t.index&&H(B(e.substr(R,t.index-R))),n=t[6])":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),L(n);else if(n=t[7]){if(t.index+t[0].length>e.length){H(B(e.substr(t.index))),R=t.index+t[0].length;continue;}":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),c=n in s,A&&E[n]&&0<D.length&&D[D.length-1].name===n&&L(n);var M=Rv(T,t[8]);if(null!==M){if("all"===M){R=Av(U,e,S.lastIndex),S.lastIndex=R;continue;}f=!1;}if(!p||(l=U.getElementRule(n))){if(f=!0,p&&(y=l.attributes,b=l.attributePatterns),(v=t[8])?((m=-1!==v.indexOf("data-mce-type"))&&u&&(f=!1),(d=[]).map={},v.replace(T,F)):(d=[]).map={},p&&!m){if(C=l.attributesRequired,x=l.attributesDefault,w=l.attributesForced,l.removeEmptyAttrs&&!d.length&&(f=!1),w)for(o=w.length;o--;){a=(h=w[o]).name,"{$uid}"===(_=h.value)&&(_="mce_"+O++),d.map[a]=_,d.push({name:a,value:_});}if(x)for(o=x.length;o--;){(a=(h=x[o]).name)in d.map||("{$uid}"===(_=h.value)&&(_="mce_"+O++),d.map[a]=_,d.push({name:a,value:_}));}if(C){for(o=C.length;o--&&!(C[o]in d.map);){;}-1===o&&(f=!1);}if(h=d.map["data-mce-bogus"]){if("all"===h){R=Av(U,e,S.lastIndex),S.lastIndex=R;continue;}f=!1;}}f&&q(n,d,c);}else f=!1;if(r=k[n]){r.lastIndex=R=t.index+t[0].length,(t=r.exec(e))?(f&&(i=e.substr(R,t.index-R)),R=t.index+t[0].length):(i=e.substr(R),R=e.length),f&&(0<i.length&&H(i,!0),$(n)),S.lastIndex=R;continue;}c||(v&&v.indexOf("/")===v.length-1?f&&$(n):D.push({name:n,valid:f}));}else(n=t[1])?(">"===n.charAt(0)&&(n=" "+n),z.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),V(n)):(n=t[2])?j(n.replace(/<!--|--!?>/g,"")):(n=t[3])?K(n):(n=t[4])&&W(n,t[5]);R=t.index+t[0].length;}for(R<e.length&&H(B(e.substr(R))),o=D.length-1;0<=o;o--){(n=D[o]).valid&&$(n.name);}}};}(Dv||(Dv={})).findEndTag=Av;var Ov=Dv,Bv=function Bv(e,t){var n,r,o,i,a,u,s,c,l=t,f=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;for(u=e.getTempAttrs(),s=l,c=new RegExp(["\\s?("+u.join("|")+')="[^"]+"'].join("|"),"gi"),l=s.replace(c,""),a=d.getShortEndedElements();i=f.exec(l);){r=f.lastIndex,o=i[0].length,n=a[i[1]]?r:Ov.findEndTag(d,l,r),l=l.substring(0,r-o)+l.substring(n),f.lastIndex=r-o;}return ba(l);},Pv={trimExternal:Bv,trimInternal:Bv},Iv=0,Lv=2,Fv=1,Mv=function Mv(g,p){var e=g.length+p.length+2,h=new Array(e),v=new Array(e),c=function c(e,t,n,r,o){var i=l(e,t,n,r);if(null===i||i.start===t&&i.diag===t-r||i.end===e&&i.diag===e-n)for(var a=e,u=n;a<t||u<r;){a<t&&u<r&&g[a]===p[u]?(o.push([0,g[a]]),++a,++u):r-n<t-e?(o.push([2,g[a]]),++a):(o.push([1,p[u]]),++u);}else{c(e,i.start,n,i.start-i.diag,o);for(var s=i.start;s<i.end;++s){o.push([0,g[s]]);}c(i.end,t,i.end-i.diag,r,o);}},y=function y(e,t,n,r){for(var o=e;o-t<r&&o<n&&g[o]===p[o-t];){++o;}return{start:e,end:o,diag:t};},l=function l(e,t,n,r){var o=t-e,i=r-n;if(0===o||0===i)return null;var a,u,s,c,l,f=o-i,d=i+o,m=(d%2==0?d:d+1)/2;for(h[1+m]=e,v[1+m]=t+1,a=0;a<=m;++a){for(u=-a;u<=a;u+=2){for(s=u+m,u===-a||u!==a&&h[s-1]<h[s+1]?h[s]=h[s+1]:h[s]=h[s-1]+1,l=(c=h[s])-e+n-u;c<t&&l<r&&g[c]===p[l];){h[s]=++c,++l;}if(f%2!=0&&f-a<=u&&u<=f+a&&v[s-f]<=h[s])return y(v[s-f],u+e-n,t,r);}for(u=f-a;u<=f+a;u+=2){for(s=u+m-f,u===f-a||u!==f+a&&v[s+1]<=v[s-1]?v[s]=v[s+1]-1:v[s]=v[s-1],l=(c=v[s]-1)-e+n-u;e<=c&&n<=l&&g[c]===p[l];){v[s]=c--,l--;}if(f%2==0&&-a<=u&&u<=a&&v[s]<=h[s+f])return y(v[s],u+e-n,t,r);}}},t=[];return c(0,g.length,0,p.length,t),t;},zv=function zv(e){return zo.isElement(e)?e.outerHTML:zo.isText(e)?Zo.encodeRaw(e.data,!1):zo.isComment(e)?"\x3c!--"+e.data+"--\x3e":"";},Uv=function Uv(e,t,n){var r=function(e){var t,n,r;for(r=j.document.createElement("div"),t=j.document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;){t.appendChild(n);}return t;}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o);}else e.appendChild(r);},Vv=function Vv(e){return U(W(te(e.childNodes),zv),function(e){return 0<e.length;});},jv=function jv(e,t){var n,r,o,i=W(te(t.childNodes),zv);return n=Mv(i,e),r=t,o=0,z(n,function(e){e[0]===Iv?o++:e[0]===Fv?(Uv(r,e[1],o),o++):e[0]===Lv&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n);}}(r,o);}),t;},Hv=Vi(_.none()),qv=function qv(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null};},$v=function $v(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null};},Wv=function Wv(e){return"fragmented"===e.type?e.fragments.join(""):e.content;},Kv=function Kv(e){var t=ar.fromTag("body",Hv.get().getOrThunk(function(){var e=j.document.implementation.createHTMLDocument("undo");return Hv.set(_.some(e)),e;}));return pa(t,Wv(e)),z(Gi(t,"*[data-mce-bogus]"),zi),t.dom().innerHTML;},Xv=function Xv(n){var e,t,r;return e=Vv(n.getBody()),-1!==(t=(r=G(e,function(e){var t=Pv.trimInternal(n.serializer,e);return 0<t.length?[t]:[];})).join("")).indexOf("</iframe>")?qv(r):$v(t);},Yv=function Yv(e,t,n){"fragmented"===t.type?jv(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark);},Gv=function Gv(e,t){return!(!e||!t)&&(r=t,Wv(e)===Wv(r)||(n=t,Kv(e)===Kv(n)));var n,r;};function Jv(u){var s,r,o=this,c=0,l=[],t=0,f=function f(){return 0===t;},i=function i(e){f()&&(o.typing=e);},d=function d(e){u.setDirty(e);},a=function a(e){i(!1),o.add({},e);},n=function n(){o.typing&&(i(!1),o.add());};return u.on("init",function(){o.add();}),u.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(n(),o.beforeChange());}),u.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&a(e);}),u.on("ObjectResizeStart Cut",function(){o.beforeChange();}),u.on("SaveContent ObjectResized blur",a),u.on("DragEnd",a),u.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(a(),u.nodeChanged()),46!==t&&8!==t||u.nodeChanged(),r&&o.typing&&!1===Gv(Xv(u),l[0])&&(!1===u.isDirty()&&(d(!0),u.fire("change",{level:l[0],lastLevel:null})),u.fire("TypingUndo"),r=!1,u.nodeChanged()));}),u.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)o.typing&&a(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||o.typing||n||(o.beforeChange(),i(!0),o.add({},e),r=!0);}}),u.on("MouseDown",function(e){o.typing&&a(e);}),u.on("input",function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data)&&a(e);}),u.addShortcut("meta+z","","Undo"),u.addShortcut("meta+y,meta+shift+z","","Redo"),u.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||u.nodeChanged();}),o={data:l,typing:!1,beforeChange:function beforeChange(){f()&&(s=Wu.getUndoBookmark(u.selection));},add:function add(e,t){var n,r,o,i=u.settings;if(o=Xv(u),e=e||{},e=Xt.extend(e,o),!1===f()||u.removed)return null;if(r=l[c],u.fire("BeforeAddUndo",{level:e,lastLevel:r,originalEvent:t}).isDefaultPrevented())return null;if(r&&Gv(r,e))return null;if(l[c]&&(l[c].beforeBookmark=s),i.custom_undo_redo_levels&&l.length>i.custom_undo_redo_levels){for(n=0;n<l.length-1;n++){l[n]=l[n+1];}l.length--,c=l.length;}e.bookmark=Wu.getUndoBookmark(u.selection),c<l.length-1&&(l.length=c+1),l.push(e),c=l.length-1;var a={level:e,lastLevel:r,originalEvent:t};return u.fire("AddUndo",a),0<c&&(d(!0),u.fire("change",a)),e;},undo:function undo(){var e;return o.typing&&(o.add(),o.typing=!1,i(!1)),0<c&&(e=l[--c],Yv(u,e,!0),d(!0),u.fire("undo",{level:e})),e;},redo:function redo(){var e;return c<l.length-1&&(e=l[++c],Yv(u,e,!1),d(!0),u.fire("redo",{level:e})),e;},clear:function clear(){l=[],c=0,o.typing=!1,o.data=l,u.fire("ClearUndos");},hasUndo:function hasUndo(){return 0<c||o.typing&&l[0]&&!Gv(Xv(u),l[0]);},hasRedo:function hasRedo(){return c<l.length-1&&!o.typing;},transact:function transact(e){return n(),o.beforeChange(),o.ignore(e),o.add();},ignore:function ignore(e){try{t++,e();}finally{t--;}},extra:function extra(e,t){var n,r;o.transact(e)&&(r=l[c].bookmark,n=l[c-1],Yv(u,n,!0),o.transact(t)&&(l[c-1].beforeBookmark=r));}};}var Qv,Zv,ey={},ty=Ht.filter,ny=Ht.each;Zv=function Zv(e){var t,n,r=e.selection.getRng();t=zo.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),ny(ty(ty(n,t),function(e){return t(e.previousSibling)&&-1!==Ht.indexOf(n,e.previousSibling);}),function(e){var t,n;t=e.previousSibling,gn(n=e).remove(),gn(t).append("<br><br>").append(n.childNodes);}));},ey[Qv="pre"]||(ey[Qv]=[]),ey[Qv].push(Zv);var ry=function ry(e,t){ny(ey[e],function(e){e(t);});},oy=/^(src|href|style)$/,iy=Xt.each,ay=bc.isEq,uy=function uy(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n);},sy=function sy(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],zo.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[i<o?i:o]),zo.isText(r)&&n&&o>=r.nodeValue.length&&(r=new fo(r,e.getBody()).next()||r),zo.isText(r)&&!n&&0===o&&(r=new fo(r,e.getBody()).prev()||r),r;},cy=function cy(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o;},ly=function ly(e,t,n,r,o){var i=ar.fromDom(t),a=ar.fromDom(e.create(r,o)),u=n?qr(i):Hr(i);return Li(a,u),n?(Oi(i,a),Pi(a,i)):(Bi(i,a),Ii(a,i)),a.dom();},fy=function fy(e,t,n,r){return!(t=bc.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t);},dy=function dy(e,n,r,o,i){var t,a,u,s,c,l,f,d,m,g,p,h,v,y,b=e.dom;if(c=b,!(ay(l=o,(f=n).inline)||ay(l,f.block)||(f.selector?zo.isElement(l)&&c.is(l,f.selector):void 0)||(s=o,n.links&&"A"===s.tagName)))return!1;if("all"!==n.remove)for(iy(n.styles,function(e,t){e=bc.normalizeStyleValue(b,bc.replaceVars(e,r),t),"number"==typeof t&&(t=e,i=0),(n.remove_similar||!i||ay(bc.getStyle(b,i,t),e))&&b.setStyle(o,t,""),u=1;}),u&&""===b.getAttrib(o,"style")&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style")),iy(n.attributes,function(e,t){var n;if(e=bc.replaceVars(e,r),"number"==typeof t&&(t=e,i=0),!i||ay(b.getAttrib(i,t),e)){if("class"===t&&(e=b.getAttrib(o,t))&&(n="",iy(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e);}),n))return void b.setAttrib(o,t,n);"class"===t&&o.removeAttribute("className"),oy.test(t)&&o.removeAttribute("data-mce-"+t),o.removeAttribute(t);}}),iy(n.classes,function(e){e=bc.replaceVars(e,r),i&&!b.hasClass(i,e)||b.removeClass(o,e);}),a=b.getAttribs(o),t=0;t<a.length;t++){var C=a[t].nodeName;if(0!==C.indexOf("_")&&0!==C.indexOf("data-"))return!1;}return"none"!==n.remove?(d=e,g=n,h=(m=o).parentNode,v=d.dom,y=d.settings.forced_root_block,g.block&&(y?h===v.getRoot()&&(g.list_block&&ay(m,g.list_block)||iy(Xt.grep(m.childNodes),function(e){bc.isValid(d,y,e.nodeName.toLowerCase())?p?p.appendChild(e):(p=cy(v,e,y),v.setAttribs(p,d.settings.forced_root_block_attrs)):p=0;})):v.isBlock(m)&&!v.isBlock(h)&&(fy(v,m,!1)||fy(v,m.firstChild,!0,1)||m.insertBefore(v.create("br"),m.firstChild),fy(v,m,!0)||fy(v,m.lastChild,!1,1)||m.appendChild(v.create("br")))),g.selector&&g.inline&&!ay(g.inline,m)||v.remove(m,1),!0):void 0;},my=dy,gy=function gy(s,c,l,e,f){var t,n,d=s.formatter.get(c),m=d[0],a=!0,u=s.dom,r=s.selection,i=function i(e){var n,t,r,o,i,a,u=(n=s,t=e,r=c,o=l,i=f,iy(bc.getParents(n.dom,t.parentNode).reverse(),function(e){var t;a||"_start"===e.id||"_end"===e.id||(t=Lm.matchNode(n,e,r,o,i))&&!1!==t.split&&(a=e);}),a);return function(e,t,n,r,o,i,a,u){var s,c,l,f,d,m,g=e.dom;if(n){for(m=n.parentNode,s=r.parentNode;s&&s!==m;s=s.parentNode){for(c=g.clone(s,!1),d=0;d<t.length;d++){if(dy(e,t[d],u,c,c)){c=0;break;}}c&&(l&&c.appendChild(l),f||(f=c),l=c);}!i||a.mixed&&g.isBlock(n)||(r=g.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o));}return r;}(s,d,u,e,e,!0,m,l);},g=function g(e){var t,n,r,o,i;if(zo.isElement(e)&&u.getContentEditable(e)&&(o=a,a="true"===u.getContentEditable(e),i=!0),t=Xt.grep(e.childNodes),a&&!i)for(n=0,r=d.length;n<r&&!dy(s,d[n],l,e,e);n++){;}if(m.deep&&t.length){for(n=0,r=t.length;n<r;n++){g(t[n]);}i&&(a=o);}},p=function p(e){var t,n=u.get(e?"_start":"_end"),r=n[e?"firstChild":"lastChild"];return pc(t=r)&&zo.isElement(t)&&("_start"===t.id||"_end"===t.id)&&(r=r[e?"firstChild":"lastChild"]),zo.isText(r)&&0===r.data.length&&(r=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),u.remove(n,!0),r;},o=function o(e){var t,n,r=e.commonAncestorContainer;if(e=Dc(s,e,d,!0),m.split){if(e=Mm(e),(t=sy(s,e,!0))!==(n=sy(s,e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"===t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&/^(TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n=n.firstChild||n),uy(u,t,n)){var o=_.from(t.firstChild).getOr(t);return i(ly(u,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0);}if(uy(u,n,t))return o=_.from(n.lastChild).getOr(n),i(ly(u,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1);t=cy(u,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=cy(u,n,"span",{id:"_end","data-mce-type":"bookmark"}),i(t),i(n),t=p(!0),n=p();}else t=n=i(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=u.nodeIndex(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=u.nodeIndex(n)+1;}Bc(u,e,function(e){iy(e,function(e){g(e),zo.isElement(e)&&"underline"===s.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===bc.getTextDecoration(u,e.parentNode)&&dy(s,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e);});});};if(e)e.nodeType?((n=u.createRng()).setStartBefore(e),n.setEndAfter(e),o(n)):o(e);else if("false"!==u.getContentEditable(r.getNode()))r.isCollapsed()&&m.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,t,n,r){var o,i,a,u,s,c,l,f=e.dom,d=e.selection,m=[],g=d.getRng();for(o=g.startContainer,i=g.startOffset,3===(s=o).nodeType&&(i!==o.nodeValue.length&&(u=!0),s=s.parentNode);s;){if(Lm.matchNode(e,s,t,n,r)){c=s;break;}s.nextSibling&&(u=!0),m.push(s),s=s.parentNode;}if(c)if(u){a=d.getBookmark(),g.collapse(!0);var p=Dc(e,g,e.formatter.get(t),!0);p=Mm(p),e.formatter.remove(t,n,p),d.moveToBookmark(a);}else{l=Yu(e.getBody(),c);var h=Hm(!1).dom(),v=Xm(m,h);Wm(e,h,l||c),qm(e,l,!1),d.setCursorLocation(v,1),f.isEmpty(c)&&f.remove(c);}}(s,c,l,f):(t=Wu.getPersistentBookmark(s.selection,!0),o(r.getRng()),r.moveToBookmark(t),m.inline&&Lm.match(s,c,l,r.getStart())&&bc.moveStart(u,r,r.getRng()),s.nodeChanged());else{e=r.getNode();for(var h=0,v=d.length;h<v&&(!d[h].ceFalseOverride||!dy(s,d[h],l,e,e));h++){;}}},py=Xt.each,hy=function hy(e){return e&&1===e.nodeType&&!pc(e)&&!Xu(e)&&!zo.isBogus(e);},vy=function vy(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!pc(n))return n;}return e;},yy=function yy(e,t,n){var r,o,i=new Jc(e);if(t&&n&&(t=vy(t,"previousSibling"),n=vy(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;){r=(o=r).nextSibling,t.appendChild(o);}return e.remove(n),Xt.each(Xt.grep(n.childNodes),function(e){t.appendChild(e);}),t;}return n;},by=function by(e,t,n){py(e.childNodes,function(e){hy(e)&&(t(e)&&n(e),e.hasChildNodes()&&by(e,t,n));});},Cy=function Cy(n,e){return d(function(e,t){return!(!t||!bc.getStyle(n,t,e));},e);},xy=function xy(r,e,t){return d(function(e,t,n){r.setStyle(n,e,t),""===n.getAttribute("style")&&n.removeAttribute("style"),wy(r,n);},e,t);},wy=function wy(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0);},Ny=function Ny(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=bc.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null));},Ey=function Ey(n,e,r,o){py(e,function(t){py(n.dom.select(t.inline,o),function(e){hy(e)&&my(n,t,r,e,t.exact?e:null);}),function(r,e,t){if(e.clear_child_styles){var n=e.links?"*:not(a)":"*";py(r.select(n,t),function(n){hy(n)&&py(e.styles,function(e,t){r.setStyle(n,t,"");});});}}(n.dom,t,o);});},Sy=function Sy(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(Xt.walk(r,d(Ny,e),"childNodes"),Ny(e,r));},Ty=function Ty(e,t,n,r){t.styles&&t.styles.backgroundColor&&by(r,Cy(e,"fontSize"),xy(e,"backgroundColor",bc.replaceVars(t.styles.backgroundColor,n)));},ky=function ky(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(by(r,Cy(e,"fontSize"),xy(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0));},_y=function _y(e,t,n,r){r&&!1!==t.merge_siblings&&(r=yy(e,bc.getNonWhiteSpaceSibling(r),r),r=yy(e,r,bc.getNonWhiteSpaceSibling(r,!0)));},Ay=function Ay(t,n,r,o,i){Lm.matchNode(t,i.parentNode,r,o)&&my(t,n,o,i)||n.merge_with_parents&&t.dom.getParent(i.parentNode,function(e){if(Lm.matchNode(t,e,r,o))return my(t,n,o,i),!0;});},Ry=Xt.each,Dy=function Dy(g,p,h,r){var e,t,v=g.formatter.get(p),y=v[0],o=!r&&g.selection.isCollapsed(),i=g.dom,n=g.selection,b=function b(n,e){if(e=e||y,n){if(e.onformat&&e.onformat(n,e,h,r),Ry(e.styles,function(e,t){i.setStyle(n,t,bc.replaceVars(e,h));}),e.styles){var t=i.getAttrib(n,"style");t&&n.setAttribute("data-mce-style",t);}Ry(e.attributes,function(e,t){i.setAttrib(n,t,bc.replaceVars(e,h));}),Ry(e.classes,function(e){e=bc.replaceVars(e,h),i.hasClass(n,e)||i.addClass(n,e);});}},C=function C(e,t){var n=!1;return!!y.selector&&(Ry(e,function(e){if(!("collapsed"in e&&e.collapsed!==o))return i.is(t,e.selector)&&!Xu(t)?(b(t,e),!(n=!0)):void 0;}),n);},a=function a(s,e,t,c){var l,f,d=[],m=!0;l=y.inline||y.block,f=s.create(l),b(f),Bc(s,e,function(e){var a,u=function u(e){var t,n,r,o;if(o=m,t=e.nodeName.toLowerCase(),n=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&s.getContentEditable(e)&&(o=m,m="true"===s.getContentEditable(e),r=!0),bc.isEq(t,"br"))return a=0,void(y.block&&s.remove(e));if(y.wrapper&&Lm.matchNode(g,e,p,h))a=0;else{if(m&&!r&&y.block&&!y.wrapper&&bc.isTextBlock(g,t)&&bc.isValid(g,n,l))return e=s.rename(e,l),b(e),d.push(e),void(a=0);if(y.selector){var i=C(v,e);if(!y.inline||i)return void(a=0);}!m||r||!bc.isValid(g,l,t)||!bc.isValid(g,n,l)||!c&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||Xu(e)||y.inline&&s.isBlock(e)?(a=0,Ry(Xt.grep(e.childNodes),u),r&&(m=o),a=0):(a||(a=s.clone(f,!1),e.parentNode.insertBefore(a,e),d.push(a)),a.appendChild(e));}};Ry(e,u);}),!0===y.links&&Ry(d,function(e){var t=function t(e){"A"===e.nodeName&&b(e,y),Ry(Xt.grep(e.childNodes),t);};t(e);}),Ry(d,function(e){var t,n,r,o,i,a=function a(e){var n=!1;return Ry(e.childNodes,function(e){if((t=e)&&1===t.nodeType&&!pc(t)&&!Xu(t)&&!zo.isBogus(t))return n=e,!1;var t;}),n;};n=0,Ry(e.childNodes,function(e){bc.isWhiteSpaceNode(e)||pc(e)||n++;}),t=n,!(1<d.length)&&s.isBlock(e)||0!==t?(y.inline||y.wrapper)&&(y.exact||1!==t||((o=a(r=e))&&!pc(o)&&Lm.matchName(s,o,y)&&(i=s.clone(o,!1),b(i),s.replace(i,r,!0),s.remove(o,1)),e=i||r),Ey(g,v,h,e),Ay(g,y,p,h,e),Ty(s,y,h,e),ky(s,y,h,e),_y(s,y,h,e)):s.remove(e,1);});};if("false"!==i.getContentEditable(n.getNode())){if(y){if(r)r.nodeType?C(v,r)||((t=i.createRng()).setStartBefore(r),t.setEndAfter(r),a(i,Dc(g,t,v),0,!0)):a(i,r,0,!0);else if(o&&y.inline&&!i.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,t,n){var r,o,i,a,u,s,c=e.selection;a=(r=c.getRng(!0)).startOffset,s=r.startContainer.nodeValue,(o=Yu(e.getBody(),c.getStart()))&&(i=jm(o));var l,f,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&0<a&&a<s.length&&d.test(s.charAt(a))&&d.test(s.charAt(a-1))?(u=c.getBookmark(),r.collapse(!0),r=Dc(e,r,e.formatter.get(t)),r=Mm(r),e.formatter.apply(t,n,r),c.moveToBookmark(u)):(o&&i.nodeValue===zm||(l=e.getDoc(),f=Hm(!0).dom(),i=(o=l.importNode(f,!0)).firstChild,r.insertNode(o),a=1),e.formatter.apply(t,n,o),c.setCursorLocation(i,a));}(g,p,h);else{var u=g.selection.getNode();g.settings.forced_root_block||!v[0].defaultBlock||i.getParent(u,i.isBlock)||Dy(g,v[0].defaultBlock),g.selection.setRng(al(g.selection.getRng())),e=Wu.getPersistentBookmark(g.selection,!0),a(i,Dc(g,n.getRng(),v)),y.styles&&Sy(i,y,h,u),n.moveToBookmark(e),bc.moveStart(i,n,n.getRng()),g.nodeChanged();}ry(p,g);}}else{r=n.getNode();for(var s=0,c=v.length;s<c;s++){if(v[s].ceFalseOverride&&i.is(r,v[s].selector))return void b(r,v[s]);}}},Oy={applyFormat:Dy},By=Xt.each,Py=function Py(e,t,n,r,o){var i,a,u,s,c,l,f,d;null===t.get()&&(a=e,u={},(i=t).set({}),a.on("NodeChange",function(n){var r=bc.getParents(a.dom,n.element),o={};r=Xt.grep(r,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus");}),By(i.get(),function(e,n){By(r,function(t){return a.formatter.matchNode(t,n,{},e.similar)?(u[n]||(By(e,function(e){e(!0,{node:t,format:n,parents:r});}),u[n]=e),o[n]=e,!1):!Lm.matchesUnInheritedFormatSelector(a,t,n)&&void 0;});}),By(u,function(e,t){o[t]||(delete u[t],By(e,function(e){e(!1,{node:n.element,format:t,parents:r});}));});})),c=n,l=r,f=o,d=(s=t).get(),By(c.split(","),function(e){d[e]||(d[e]=[],d[e].similar=f),d[e].push(l);}),s.set(d);},Iy={get:function get(r){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function onmatch(){return!0;},onformat:function onformat(n,e,t){Xt.each(t,function(e,t){r.setAttrib(n,t,e);});}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Xt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"};}),t;}},Ly=Xt.each,Fy=Ni.DOM,My=function My(e,t){var n,o,r,m=t&&t.schema||li({}),g=function g(e){var t,n,r;return o="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=Fy.create(o.name),n=t,(r=o).classes.length&&Fy.addClass(n,r.classes.join(" ")),Fy.setAttribs(n,r.attrs),t;},p=function p(n,e,t){var r,o,i,a,u,s,c,l,f=0<e.length&&e[0],d=f&&f.name;if(u=d,s="string"!=typeof(a=n)?a.nodeName.toLowerCase():a,c=m.getElementRule(s),i=!(!(l=c&&c.parentsRequired)||!l.length)&&(u&&-1!==Xt.inArray(l,u)?u:l[0]))d===i?(o=e[0],e=e.slice(1)):o=i;else if(f)o=e[0],e=e.slice(1);else if(!t)return n;return o&&(r=g(o)).appendChild(n),t&&(r||(r=Fy.create("div")).appendChild(n),Xt.each(t,function(e){var t=g(e);r.insertBefore(t,n);})),p(r,e,o&&o.siblings);};return e&&e.length?(o=e[0],n=g(o),(r=Fy.create("div")).appendChild(p(n,e.slice(1),o.siblings)),r):"";},zy=function zy(e){var t,a={classes:[],attrs:{}};return"*"!==(e=a.selector=Xt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,r,o){switch(t){case"#":a.attrs.id=n;break;case".":a.classes.push(n);break;case":":-1!==Xt.inArray("checked disabled enabled read-only required".split(" "),n)&&(a.attrs[n]=n);}if("["===r){var i=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);i&&(a.attrs[i[1]]=i[2]);}return"";})),a.name=t||"div",a;},Uy=function Uy(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Xt.map(e.split(/(?:~\+|~|\+)/),zy),n=t.pop();return t.length&&(n.siblings=t),n;}).reverse()):[];},Vy=function Vy(n,e){var t,r,o,i,a,u,s="";if(!1===(u=n.settings.preview_styles))return"";"string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function c(e){return e.replace(/%(\w+)/g,"");};if("string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0];}return"preview"in e&&!1===(u=e.preview)?"":(t=e.block||e.inline||"span",(i=Uy(e.selector)).length?(i[0].name||(i[0].name=t),t=e.selector,r=My(i,n)):r=My([t],n),o=Fy.select(t,r)[0]||r.firstChild,Ly(e.styles,function(e,t){(e=c(e))&&Fy.setStyle(o,t,e);}),Ly(e.attributes,function(e,t){(e=c(e))&&Fy.setAttrib(o,t,e);}),Ly(e.classes,function(e){e=c(e),Fy.hasClass(o,e)||Fy.addClass(o,e);}),n.fire("PreviewFormats"),Fy.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),a=Fy.getStyle(n.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,Ly(u.split(" "),function(e){var t=Fy.getStyle(o,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=Fy.getStyle(n.getBody(),e,!0),"#ffffff"===Fy.toHex(t).toLowerCase())||"color"===e&&"#000000"===Fy.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===a)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*a+"px";}"border"===e&&t&&(s+="padding:0 2px;"),s+=e+":"+t+";";}}),n.fire("AfterPreviewFormats"),Fy.remove(r),s);},jy=function jy(e,t,n,r,o){var i=t.get(n);!Lm.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?Oy.applyFormat(e,n,r,o):gy(e,n,r,o);},Hy=function Hy(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++){e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);}e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"]);};function qy(e){var t,n,_r5,o=(t=e,n={},(_r5=function r(e,t){e&&("string"!=typeof e?Xt.each(e,function(e,t){_r5(t,e);}):(t=t.length?t:[t],Xt.each(t,function(e){"undefined"==typeof e.deep&&(e.deep=!e.selector),"undefined"==typeof e.split&&(e.split=!e.selector||e.inline),"undefined"==typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/));}),n[e]=t));})(Iy.get(t.dom)),_r5(t.settings.formats),{get:function get(e){return e?n[e]:n;},register:_r5,unregister:function unregister(e){return e&&n[e]&&delete n[e],n;}}),i=Vi(null);return Hy(e),Ym(e),{get:o.get,register:o.register,unregister:o.unregister,apply:d(Oy.applyFormat,e),remove:d(gy,e),toggle:d(jy,e,o),match:d(Lm.match,e),matchAll:d(Lm.matchAll,e),matchNode:d(Lm.matchNode,e),canApply:d(Lm.canApply,e),formatChanged:d(Py,e,i),getCssText:d(Vy,e)};}var $y,Wy=Object.prototype.hasOwnProperty,Ky=($y=function $y(e,t){return t;},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++){e[t]=arguments[t];}if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o){Wy.call(o,i)&&(n[i]=$y(n[i],o[i]));}}return n;}),Xy={register:function register(t,s,c){t.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;){(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null);}}),t.addAttributeFilter("src,href,style",function(e,t){for(var n,r,o=e.length,i="data-mce-"+t,a=s.url_converter,u=s.url_converter_scope;o--;){(r=(n=e[o]).attributes.map[i])!==undefined?(n.attr(t,0<r.length?r:null),n.attr(i,null)):(r=n.attributes.map[t],"style"===t?r=c.serializeStyle(c.parseStyle(r),n.name):a&&(r=a.call(u,r,t,n.name)),n.attr(t,0<r.length?r:null));}}),t.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;){(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null));}}),t.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;){"bookmark"!==(r=e[o]).attributes.map["data-mce-type"]||n.cleanup||(_.from(r.firstChild).exists(function(e){return!va(e.value);})?r.unwrap():r.remove());}}),t.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;){(t=e[n].firstChild)&&(t.value=Zo.decode(t.value));}}),t.addNodeFilter("script,style",function(e,t){for(var n,r,o,i=e.length,a=function a(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");};i--;){r=(n=e[i]).firstChild?n.firstChild.value:"","script"===t?((o=n.attr("type"))&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===s.element_format&&0<r.length&&(n.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===s.element_format&&0<r.length&&(n.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e");}}),t.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;){0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14));}}),t.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;){7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"));}}),t.addAttributeFilter("data-mce-type",function(e){z(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap());});}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;){e[n].attr(t,null);}});},trimTrailingBr:function trimTrailingBr(e){var t,n,r=function r(e){return e&&"br"===e.name;};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove());}},Yy={process:function process(e,t,n){return f=n,(l=e)&&l.hasEventListeners("PreProcess")&&!f.no_events?(o=t,i=n,c=(r=e).dom,o=o.cloneNode(!0),(a=j.document.implementation).createHTMLDocument&&(u=a.createHTMLDocument(""),Xt.each("BODY"===o.nodeName?o.childNodes:[o],function(e){u.body.appendChild(u.importNode(e,!0));}),o="BODY"!==o.nodeName?u.body.firstChild:u.body,s=c.doc,c.doc=u),pp(r,Ky(i,{node:o})),s&&(c.doc=s),o):t;var r,o,i,a,u,s,c,l,f;}},Gy=function Gy(e,a,u){e.addNodeFilter("font",function(e){z(e,function(e){var t,n=a.parse(e.attr("style")),r=e.attr("color"),o=e.attr("face"),i=e.attr("size");r&&(n.color=r),o&&(n["font-family"]=o),i&&(n["font-size"]=u[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",a.serialize(n)),t=e,z(["color","face","size"],function(e){t.attr(e,null);});});});},Jy=function Jy(e,t){var n,r=di();t.convert_fonts_to_spans&&Gy(e,r,Xt.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",function(e){z(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t));});});},Qy={register:function register(e,t){t.inline_styles&&Jy(e,t);}},Zy=/^[ \t\r\n]*$/,eb={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},tb=function tb(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent){if(r=o[a])return r;}}},nb=function(){function a(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={});}return a.create=function(e,t){var n,r;if(n=new a(e,eb[e]||1),t)for(r in t){n.attr(r,t[r]);}return n;},a.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this;},a.prototype.attr=function(e,t){var n,r;if("string"!=typeof e){for(r in e){this.attr(r,e[r]);}return this;}if(n=this.attributes){if(t!==undefined){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;){if(n[r].name===e)return n=n.splice(r,1),this;}return this;}if(e in n.map){for(r=n.length;r--;){if(n[r].name===e){n[r].value=t;break;}}}else n.push({name:e,value:t});return n.map[e]=t,this;}return n.map[e];}},a.prototype.clone=function(){var e,t,n,r,o,i=new a(this.name,this.type);if(n=this.attributes){for((o=[]).map={},e=0,t=n.length;e<t;e++){"id"!==(r=n[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);}i.attributes=o;}return i.value=this.value,i.shortEnded=this.shortEnded,i;},a.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this;},a.prototype.unwrap=function(){var e,t;for(e=this.firstChild;e;){t=e.next,this.insert(e,this,!0),e=t;}this.remove();},a.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this;},a.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e;},a.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e;},a.prototype.getAll=function(e){var t,n=[];for(t=this.firstChild;t;t=tb(t,this)){t.name===e&&n.push(t);}return n;},a.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=tb(n,this)){e.push(n);}for(t=e.length;t--;){(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null;}}return this.firstChild=this.lastChild=null,this;},a.prototype.isEmpty=function(e,t,n){var r,o,i=this.firstChild;if(t=t||{},i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;for(r=i.attributes.length;r--;){if("name"===(o=i.attributes[r].name)||0===o.indexOf("data-mce-bookmark"))return!1;}}if(8===i.type)return!1;if(3===i.type&&!Zy.test(i.value))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Zy.test(i.value))return!1;if(n&&n(i))return!1;}while(i=tb(i,this));return!0;},a.prototype.walk=function(e){return tb(this,null,e);},a;}(),rb=function rb(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new nb("br",1)).shortEnded=!0:r.empty().append(new nb("#text",3)).value="\xa0";},ob=function ob(e){return ib(e,"#text")&&"\xa0"===e.firstChild.value;},ib=function ib(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t;},ab=function ab(r,e,t,n){return n.isEmpty(e,t,function(e){return t=e,(n=r.getElementRule(t.name))&&n.paddEmpty;var t,n;});},ub=function ub(e,t){return e&&(t[e.name]||"br"===e.name);},sb=function sb(e,p){var h=e.schema;p.remove_trailing_brs&&e.addNodeFilter("br",function(e,t,n){var r,o,i,a,u,s,c,l,f=e.length,d=Xt.extend({},h.getBlockElements()),m=h.getNonEmptyElements(),g=h.getNonEmptyElements();for(d.body=1,r=0;r<f;r++){if(i=(o=e[r]).parent,d[o.parent.name]&&o===i.lastChild){for(u=o.prev;u;){if("span"!==(s=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==s)break;if("br"===s){o=null;break;}}u=u.prev;}o&&(o.remove(),ab(h,m,g,i)&&(c=h.getElementRule(i.name))&&(c.removeEmpty?i.remove():c.paddEmpty&&rb(p,n,d,i)));}else{for(a=o;i&&i.firstChild===a&&i.lastChild===a&&!d[(a=i).name];){i=i.parent;}a===i&&!0!==p.padd_empty_with_br&&((l=new nb("#text",3)).value="\xa0",o.replace(l));}}}),e.addAttributeFilter("href",function(e){var t,n,r,o=e.length;if(!p.allow_unsafe_link_target)for(;o--;){"a"===(t=e[o]).name&&"_blank"===t.attr("target")&&t.attr("rel",(n=t.attr("rel"),r=n?Xt.trim(n):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(e){return 0<e.length;}).concat(["noopener"]).sort().join(" ")));}}),p.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;){if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;){;}}}),p.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;){if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new nb("li",1);o.attr("style","list-style-type: none"),t.wrap(o);}}}),p.validate&&h.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,n,r,o,i,a,u,s=e.length,c=h.getValidClasses();s--;){for(n=(t=e[s]).attr("class").split(" "),i="",r=0;r<n.length;r++){o=n[r],u=!1,(a=c["*"])&&a[o]&&(u=!0),a=c[t.name],!u&&a&&a[o]&&(u=!0),u&&(i&&(i+=" "),i+=o);}i.length||(i=null),t.attr("class",i);}});},cb=Xt.makeMap,lb=Xt.each,fb=Xt.explode,db=Xt.extend;function mb(T,k){void 0===k&&(k=li());var _={},A=[],R={},D={};(T=T||{}).validate=!("validate"in T)||T.validate,T.root_name=T.root_name||"body";var O=function O(e){var t,n,r;(n=e.name)in _&&((r=R[n])?r.push(e):R[n]=[e]),t=A.length;for(;t--;){(n=A[t].name)in e.attributes.map&&((r=D[n])?r.push(e):D[n]=[e]);}return e;},e={schema:k,addAttributeFilter:function addAttributeFilter(e,n){lb(fb(e),function(e){var t;for(t=0;t<A.length;t++){if(A[t].name===e)return void A[t].callbacks.push(n);}A.push({name:e,callbacks:[n]});});},getAttributeFilters:function getAttributeFilters(){return[].concat(A);},addNodeFilter:function addNodeFilter(e,n){lb(fb(e),function(e){var t=_[e];t||(_[e]=t=[]),t.push(n);});},getNodeFilters:function getNodeFilters(){var e=[];for(var t in _){_.hasOwnProperty(t)&&e.push({name:t,callbacks:_[t]});}return e;},filterNode:O,parse:function parse(e,a){var t,n,r,o,i,u,s,c,l,f,d,m=[];a=a||{},R={},D={},l=db(cb("script,style,head,html,body,title,meta,param"),k.getBlockElements());var g=k.getNonEmptyElements(),p=k.children,h=T.validate,v="forced_root_block"in a?a.forced_root_block:T.forced_root_block,y=k.getWhiteSpaceElements(),b=/^[ \t\r\n]+/,C=/[ \t\r\n]+$/,x=/[ \t\r\n]+/g,w=/^[ \t\r\n]+$/;f=y.hasOwnProperty(a.context)||y.hasOwnProperty(T.root_name);var N=function N(e,t){var n,r=new nb(e,t);return e in _&&((n=R[e])?n.push(r):R[e]=[r]),r;},E=function E(e){var t,n,r,o,i=k.getBlockElements();for(t=e.prev;t&&3===t.type;){if(0<(r=t.value.replace(C,"")).length)return void(t.value=r);if(n=t.next){if(3===n.type&&n.value.length){t=t.prev;continue;}if(!i[n.name]&&"script"!==n.name&&"style"!==n.name){t=t.prev;continue;}}o=t.prev,t.remove(),t=o;}};t=Ov({validate:h,allow_script_urls:T.allow_script_urls,allow_conditional_comments:T.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e){"li"!==t&&"p"!==t&&(n[t]=e[t]);}return n;}(k.getSelfClosingElements()),cdata:function cdata(e){d.append(N("#cdata",4)).value=e;},text:function text(e,t){var n;f||(e=e.replace(x," "),ub(d.lastChild,l)&&(e=e.replace(b,""))),0!==e.length&&((n=N("#text",3)).raw=!!t,d.append(n).value=e);},comment:function comment(e){d.append(N("#comment",8)).value=e;},pi:function pi(e,t){d.append(N(e,7)).value=t,E(d);},doctype:function doctype(e){d.append(N("#doctype",10)).value=e,E(d);},start:function start(e,t,n){var r,o,i,a,u;if(i=h?k.getElementRule(e):{}){for((r=N(i.outputName||e,1)).attributes=t,r.shortEnded=n,d.append(r),(u=p[d.name])&&p[r.name]&&!u[r.name]&&m.push(r),o=A.length;o--;){(a=A[o].name)in t.map&&((s=D[a])?s.push(r):D[a]=[r]);}l[e]&&E(r),n||(d=r),!f&&y[e]&&(f=!0);}},end:function end(e){var t,n,r,o,i;if(n=h?k.getElementRule(e):{}){if(l[e]&&!f){if((t=d.firstChild)&&3===t.type)if(0<(r=t.value.replace(b,"")).length)t.value=r,t=t.next;else for(o=t.next,t.remove(),t=o;t&&3===t.type;){r=t.value,o=t.next,(0===r.length||w.test(r))&&(t.remove(),t=o),t=o;}if((t=d.lastChild)&&3===t.type)if(0<(r=t.value.replace(C,"")).length)t.value=r,t=t.prev;else for(o=t.prev,t.remove(),t=o;t&&3===t.type;){r=t.value,o=t.prev,(0===r.length||w.test(r))&&(t.remove(),t=o),t=o;}}if(f&&y[e]&&(f=!1),n.removeEmpty&&ab(k,g,y,d)&&!d.attributes.map.name&&!d.attr("id"))return i=d.parent,l[d.name]?d.empty().remove():d.unwrap(),void(d=i);n.paddEmpty&&(ob(d)||ab(k,g,y,d))&&rb(T,a,l,d),d=d.parent;}}},k);var S=d=new nb(a.context||T.root_name,11);if(t.parse(e),h&&m.length&&(a.context?a.invalid=!0:function(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,g,p,h;for(d=cb("tr,td,th,tbody,thead,tfoot,table"),l=k.getNonEmptyElements(),f=k.getWhiteSpaceElements(),m=k.getTextBlockElements(),g=k.getSpecialElements(),t=0;t<e.length;t++){if((n=e[t]).parent&&!n.fixed)if(m[n.name]&&"li"===n.parent.name){for(p=n.next;p&&m[p.name];){p.name="li",p.fixed=!0,n.parent.insert(p,n.parent),p=p.next;}n.unwrap(n);}else{for(o=[n],r=n.parent;r&&!k.isValidChild(r.name,n.name)&&!d[r.name];r=r.parent){o.push(r);}if(r&&1<o.length){for(o.reverse(),i=a=O(o[0].clone()),c=0;c<o.length-1;c++){for(k.isValidChild(a.name,o[c].name)?(u=O(o[c].clone()),a.append(u)):u=a,s=o[c].firstChild;s&&s!==o[c+1];){h=s.next,u.append(s),s=h;}a=u;}ab(k,l,f,i)?r.insert(n,o[0],!0):(r.insert(i,o[0],!0),r.insert(n,i)),r=o[0],(ab(k,l,f,r)||ib(r,"br"))&&r.empty().remove();}else if(n.parent){if("li"===n.name){if((p=n.prev)&&("ul"===p.name||"ul"===p.name)){p.append(n);continue;}if((p=n.next)&&("ul"===p.name||"ul"===p.name)){p.insert(n,p.firstChild,!0);continue;}n.wrap(O(new nb("ul",1)));continue;}k.isValidChild(n.parent.name,"div")&&k.isValidChild("div",n.name)?n.wrap(O(new nb("div",1))):g[n.name]?n.empty().remove():n.unwrap();}}}}(m)),v&&("body"===S.name||a.isRootContent)&&function(){var e,t,n=S.firstChild,r=function r(e){e&&((n=e.firstChild)&&3===n.type&&(n.value=n.value.replace(b,"")),(n=e.lastChild)&&3===n.type&&(n.value=n.value.replace(C,"")));};if(k.isValidChild(S.name,v.toLowerCase())){for(;n;){e=n.next,3===n.type||1===n.type&&"p"!==n.name&&!l[n.name]&&!n.attr("data-mce-type")?(t||((t=N(v,1)).attr(T.forced_root_block_attrs),S.insert(t,n)),t.append(n)):(r(t),t=null),n=e;}r(t);}}(),!a.invalid){for(c in R){for(s=_[c],i=(n=R[c]).length;i--;){n[i].parent||n.splice(i,1);}for(r=0,o=s.length;r<o;r++){s[r](n,c,a);}}for(r=0,o=A.length;r<o;r++){if((s=A[r]).name in D){for(i=(n=D[s.name]).length;i--;){n[i].parent||n.splice(i,1);}for(i=0,u=s.callbacks.length;i<u;i++){s.callbacks[i](n,s.name,a);}}}}return S;}};return sb(e,T),Qy.register(e,T),e;}var gb=function gb(e,t,n){-1===Xt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;){e[n].attr(t,null);}}),t.push(n));},pb=function pb(e,t,n){var r=ba(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ko(ar.fromDom(t))?r:Xt.trim(r);},hb=function hb(e,t,n){var r=n.selection?Ky({forced_root_block:!1},n):n,o=e.parse(t,r);return Xy.trimTrailingBr(o),o;},vb=function vb(e,t,n,r,o){var i,a,u,s,c=(i=r,rl(t,n).serialize(i));return a=e,s=c,!(u=o).no_events&&a?hp(a,Ky(u,{content:s})).content:s;};function yb(e,t){var a,u,s,c,l,n,r=(a=e,n=["data-mce-selected"],s=(u=t)&&u.dom?u.dom:Ni.DOM,c=u&&u.schema?u.schema:li(a),a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs,l=mb(a,c),Xy.register(l,a,s),{schema:c,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function serialize(e,t){var n=Ky({format:"html"},t||{}),r=Yy.process(u,e,n),o=pb(s,r,n),i=hb(l,o,n);return"tree"===n.format?i:vb(u,a,c,i,n);},addRules:function addRules(e){c.addValidElements(e);},setRules:function setRules(e){c.setValidElements(e);},addTempAttr:d(gb,l,n),getTempAttrs:function getTempAttrs(){return n;}});return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs};}function bb(e){return{getBookmark:d(mc,e),moveToBookmark:d(gc,e)};}(bb||(bb={})).isBookmarkNode=pc;var Cb,xb,wb=bb,Nb=zo.isContentEditableFalse,Eb=zo.isContentEditableTrue,Sb=function Sb(r,a){var u,s,c,l,f,d,m,g,p,h,v,y,i,b,C,x,w,N=a.dom,E=Xt.each,S=a.getDoc(),T=j.document,k=Math.abs,_=Math.round,A=a.getBody();l={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var e=".mce-content-body";a.contentStyles.push(e+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+e+" .mce-resizehandle:hover {background: #000}"+e+" img[data-mce-selected],"+e+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+e+" .mce-clonedresizable {position: absolute;"+(fe.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+e+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var R=function R(e){return e&&("IMG"===e.nodeName||a.dom.is(e,"figure.image"));},n=function n(e){var t,n,r=e.target;t=e,n=a.selection.getRng(),!R(t.target)||wv(t.clientX,t.clientY,n)||e.isDefaultPrevented()||a.selection.select(r);},D=function D(e){return a.dom.is(e,"figure.image")?e.querySelector("img"):e;},O=function O(e){var t=a.settings.object_resizing;return!1!==t&&!fe.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==a.getBody()&&Pr(ar.fromDom(e),t));},B=function B(e){var t,n,r,o;t=e.screenX-d,n=e.screenY-m,b=t*f[2]+h,C=n*f[3]+v,b=b<5?5:b,C=C<5?5:C,(R(u)&&!1!==a.settings.resize_img_proportional?!Ev.modifierPressed(e):Ev.modifierPressed(e)||R(u)&&f[2]*f[3]!=0)&&(k(t)>k(n)?(C=_(b*y),b=_(C/y)):(b=_(C/y),C=_(b*y))),N.setStyles(D(s),{width:b,height:C}),r=0<(r=f.startPos.x+t)?r:0,o=0<(o=f.startPos.y+n)?o:0,N.setStyles(c,{left:r,top:o,display:"block"}),c.innerHTML=b+" &times; "+C,f[2]<0&&s.clientWidth<=b&&N.setStyle(s,"left",g+(h-b)),f[3]<0&&s.clientHeight<=C&&N.setStyle(s,"top",p+(v-C)),(t=A.scrollWidth-x)+(n=A.scrollHeight-w)!=0&&N.setStyles(c,{left:r-t,top:o-n}),i||(Cp(a,u,h,v),i=!0);},P=function P(){i=!1;var e=function e(_e7,t){t&&(u.style[_e7]||!a.schema.isValid(u.nodeName.toLowerCase(),_e7)?N.setStyle(D(u),_e7,t):N.setAttrib(D(u),_e7,t));};e("width",b),e("height",C),N.unbind(S,"mousemove",B),N.unbind(S,"mouseup",P),T!==S&&(N.unbind(T,"mousemove",B),N.unbind(T,"mouseup",P)),N.remove(s),N.remove(c),o(u),xp(a,u,b,C),N.setAttrib(u,"style",N.getAttrib(u,"style")),a.nodeChanged();},o=function o(e){var t,r,o,n,i;I(),M(),t=N.getPos(e,A),g=t.x,p=t.y,i=e.getBoundingClientRect(),r=i.width||i.right-i.left,o=i.height||i.bottom-i.top,u!==e&&(u=e,b=C=0),n=a.fire("ObjectSelected",{target:e}),O(e)&&!n.isDefaultPrevented()?E(l,function(n,e){var t;(t=N.get("mceResizeHandle"+e))&&N.remove(t),t=N.add(A,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===fe.ie&&(t.contentEditable=!1),N.bind(t,"mousedown",function(e){var t;e.stopImmediatePropagation(),e.preventDefault(),d=(t=e).screenX,m=t.screenY,h=D(u).clientWidth,v=D(u).clientHeight,y=v/h,(f=n).startPos={x:r*n[0]+g,y:o*n[1]+p},x=A.scrollWidth,w=A.scrollHeight,s=u.cloneNode(!0),N.addClass(s,"mce-clonedresizable"),N.setAttrib(s,"data-mce-bogus","all"),s.contentEditable=!1,s.unSelectabe=!0,N.setStyles(s,{left:g,top:p,margin:0}),s.removeAttribute("data-mce-selected"),A.appendChild(s),N.bind(S,"mousemove",B),N.bind(S,"mouseup",P),T!==S&&(N.bind(T,"mousemove",B),N.bind(T,"mouseup",P)),c=N.add(A,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},h+" &times; "+v);}),n.elm=t,N.setStyles(t,{left:r*n[0]+g-t.offsetWidth/2,top:o*n[1]+p-t.offsetHeight/2});}):I(),u.setAttribute("data-mce-selected","1");},I=function I(){var e,t;for(e in M(),u&&u.removeAttribute("data-mce-selected"),l){(t=N.get("mceResizeHandle"+e))&&(N.unbind(t),N.remove(t));}},L=function L(e){var t,n=function n(e,t){if(e)do{if(e===t)return!0;}while(e=e.parentNode);};i||a.removed||(E(N.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected");}),t="mousedown"===e.type?e.target:r.getNode(),n(t=N.$(t).closest("table,img,figure.image,hr")[0],A)&&(z(),n(r.getStart(!0),t)&&n(r.getEnd(!0),t))?o(t):I());},F=function F(e){return Nb(function(e,t){for(;t&&t!==e;){if(Eb(t)||Nb(t))return t;t=t.parentNode;}return null;}(a.getBody(),e));},M=function M(){for(var e in l){var t=l[e];t.elm&&(N.unbind(t.elm),delete t.elm);}},z=function z(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1);}catch(e){}};return a.on("init",function(){z(),fe.ie&&11<=fe.ie&&(a.on("mousedown click",function(e){var t=e.target,n=t.nodeName;i||!/^(TABLE|IMG|HR)$/.test(n)||F(t)||(2!==e.button&&a.selection.select(t,"TABLE"===n),"mousedown"===e.type&&a.nodeChanged());}),a.dom.bind(A,"mscontrolselect",function(e){var t=function t(e){he.setEditorTimeout(a,function(){a.selection.select(e);});};if(F(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target));}));var t=he.throttle(function(e){a.composing||L(e);});a.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),a.on("keyup compositionend",function(e){u&&"TABLE"===u.nodeName&&t(e);}),a.on("hide blur",I),a.on("contextmenu",n);}),a.on("remove",M),{isResizable:O,showResizeRect:o,hideResizeRect:I,updateResizeRect:L,destroy:function destroy(){u=s=null;}};},Tb=function Tb(e){for(var t=0,n=0,r=e;r&&r.nodeType;){t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;}return{x:t,y:n};},kb=function kb(e,t,n){var r,o,i,a,u,s=e.dom,c=s.getRoot(),l=0;if(u={elm:t,alignToTop:n},e.fire("scrollIntoView",u),!u.isDefaultPrevented()&&zo.isElement(t)){if(!1===n&&(l=t.offsetHeight),"BODY"!==c.nodeName){var f=e.selection.getScrollContainer();if(f)return r=Tb(t).y-Tb(f).y+l,a=f.clientHeight,void((r<(i=f.scrollTop)||i+a<r+25)&&(f.scrollTop=r<i?r:r-a+25));}o=s.getViewPort(e.getWin()),r=s.getPos(t).y+l,i=o.y,a=o.h,(r<o.y||i+a<r+25)&&e.getWin().scrollTo(0,r<i?r:r-a+25);}},_b=function _b(d,e){Z(wu.fromRangeStart(e).getClientRects()).each(function(e){var t,n,r,o,i,a,u,s,c,l=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight};}(d),f={x:(i=t=l,a=n=e,a.left>i.left&&a.right<i.right?0:a.left<i.left?a.left-i.left:a.right-i.right),y:(r=t,o=n,o.top>r.top&&o.bottom<r.bottom?0:o.top<r.top?o.top-r.top:o.bottom-r.bottom)};s=0!==f.x?0<f.x?f.x+4:f.x-4:0,c=0!==f.y?0<f.y?f.y+4:f.y-4:0,(u=d).inline?(u.getBody().scrollLeft+=s,u.getBody().scrollTop+=c):u.getWin().scrollBy(s,c);});},Ab=function Ab(e){return zo.isContentEditableTrue(e)||zo.isContentEditableFalse(e);},Rb=function Rb(e,t,n){var r,o,i,a,u,s=n;if(s.caretPositionFromPoint)(o=s.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(s.body.createTextRange){r=s.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0);}catch(c){r=function(e,n,t){var r,o,i;if(r=t.elementFromPoint(e,n),o=t.body.createTextRange(),r&&"HTML"!==r.tagName||(r=t.body),o.moveToElementText(r),0<(i=(i=Xt.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)));})).length){n=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o;}catch(a){}}return null;}(e,t,n);}return i=r,a=n.body,u=i&&i.parentElement?i.parentElement():null,zo.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode;}return null;}(u,a,Ab))?null:i;}return r;},Db=function Db(n,e){return W(e,function(e){var t=n.fire("GetSelectionRange",{range:e});return t.range!==e?t.range:e;});},Ob=function Ob(e,t){var n=(t||j.document).createDocumentFragment();return z(e,function(e){n.appendChild(e.dom());}),ar.fromDom(n);},Bb=kr("element","width","rows"),Pb=kr("element","cells"),Ib=kr("x","y"),Lb=function Lb(e,t){var n=parseInt(wr(e,t),10);return isNaN(n)?1:n;},Fb=function Fb(e){return V(e,function(e,t){return t.cells().length>e?t.cells().length:e;},0);},Mb=function Mb(e,t){for(var n=e.rows(),r=0;r<n.length;r++){for(var o=n[r].cells(),i=0;i<o.length;i++){if(Lr(o[i],t))return _.some(Ib(i,r));}}return _.none();},zb=function zb(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var s=a[u].cells(),c=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(Pb(a[u].element(),c));}return i;},Ub=function Ub(e){var o=Bb(ma(e),0,[]);return z(Gi(e,"tr"),function(n,r){z(Gi(n,"td,th"),function(e,t){!function(e,t,n,r,o){for(var i=Lb(o,"rowspan"),a=Lb(o,"colspan"),u=e.rows(),s=n;s<n+i;s++){u[s]||(u[s]=Pb(ga(r),[]));for(var c=t;c<t+a;c++){u[s].cells()[c]=s===n&&c===t?o:ma(o);}}}(o,function(e,t,n){for(;r=t,o=n,i=void 0,((i=e.rows())[o]?i[o].cells():[])[r];){t++;}var r,o,i;return t;}(o,t,r),r,n,e);});}),Bb(o.element(),Fb(o.rows()),o.rows());},Vb=function Vb(e){return n=W((t=e).rows(),function(e){var t=W(e.cells(),function(e){var t=ga(e);return Nr(t,"colspan"),Nr(t,"rowspan"),t;}),n=ma(e.element());return Li(n,t),n;}),r=ma(t.element()),o=ar.fromTag("tbody"),Li(o,n),Ii(r,o),r;var t,n,r,o;},jb=function jb(l,e,t){return Mb(l,e).bind(function(c){return Mb(l,t).map(function(e){return t=l,r=e,o=(n=c).x(),i=n.y(),a=r.x(),u=r.y(),s=i<u?zb(t,o,i,a,u):zb(t,o,u,a,i),Bb(t.element(),Fb(s),s);var t,n,r,o,i,a,u,s;});});},Hb=function Hb(n,t){return X(n,function(e){return"li"===lr(e)&&Wh(e,t);}).fold(q([]),function(e){return(t=n,X(t,function(e){return"ul"===lr(e)||"ol"===lr(e);})).map(function(e){return[ar.fromTag("li"),ar.fromTag(lr(e))];}).getOr([]);var t;});},qb=function qb(e,t){var n,r=ar.fromDom(t.commonAncestorContainer),o=rf(r,e),i=U(o,function(e){return bo(e)||vo(e);}),a=Hb(o,t),u=i.concat(a.length?a:No(n=r)?Ur(n).filter(wo).fold(q([]),function(e){return[n,e];}):wo(n)?[n]:[]);return W(u,ma);},$b=function $b(){return Ob([]);},Wb=function Wb(e,t){return n=ar.fromDom(t.cloneContents()),r=qb(e,t),o=V(r,function(e,t){return Ii(t,e),t;},n),0<r.length?Ob([o]):o;var n,r,o;},Kb=function Kb(e,o){return(t=e,n=o[0],ta(n,"table",d(Lr,t))).bind(function(e){var t=o[0],n=o[o.length-1],r=Ub(e);return jb(r,t,n).map(function(e){return Ob([Vb(e)]);});}).getOrThunk($b);var t,n;},Xb=function Xb(e,t){var n,r,o=ym(t,e);return 0<o.length?Kb(e,o):(n=e,0<(r=t).length&&r[0].collapsed?$b():Wb(n,r[0]));},Yb=function Yb(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return c=e,_.from(c.selection.getRng()).map(function(e){var t=c.dom.add(c.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),n=ba(t.innerText);return c.dom.remove(t),n;}).getOr("");t.getInner=!0;var n,r,o,i,a,u,s,c,l=(r=t,i=(n=e).selection.getRng(),a=n.dom.create("body"),u=n.selection.getSel(),s=Db(n,dm(u)),(o=r.contextual?Xb(ar.fromDom(n.getBody()),s).dom():i.cloneContents())&&a.appendChild(o),n.selection.serializer.serialize(a,r));return"tree"===t.format?l:(t.content=e.selection.isCollapsed()?"":l,e.fire("GetContent",t),t.content);},Gb=function Gb(e,t,n){var r,o,i,a=e.selection.getRng(),u=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===u&&a.endContainer===u?u.body.innerHTML=t:(a.deleteContents(),0===u.body.childNodes.length?u.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=u.createDocumentFragment(),i=u.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),(a=u.createRange()).setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a);}catch(s){}}else a.item&&(u.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n);}else e.fire("SetContent",n);},Jb=function Jb(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return _.from(i).map(ar.fromDom).map(function(e){return r&&t.collapsed?e:Wr(e,o(e,a)).getOr(e);}).bind(function(e){return dr(e)?_.some(e):Ur(e);}).map(function(e){return e.dom();}).getOr(e);},Qb=function Qb(e,t,n){return Jb(e,t,!0,n,function(e,t){return Math.min(e.dom().childNodes.length,t);});},Zb=function Zb(e,t,n){return Jb(e,t,!1,n,function(e,t){return 0<t?t-1:t;});},eC=function eC(e,t){for(var n=e;e&&zo.isText(e)&&0===e.length;){e=t?e.nextSibling:e.previousSibling;}return e||n;},tC=Xt.each,nC=function nC(e){return!!e.select;},rC=function rC(e){return!(!e||!e.ownerDocument)&&Fr(ar.fromDom(e.ownerDocument),ar.fromDom(e));},oC=function oC(u,s,e,c){var n,t,l,f,a,r=function r(e,t){return Gb(c,e,t);},o=function o(e){var t=m();t.collapse(!!e),i(t);},d=function d(){return s.getSelection?s.getSelection():s.document.selection;},m=function m(){var e,t,n,r,o=function o(e,t,n){try{return t.compareBoundaryPoints(e,n);}catch(r){return-1;}};if(!s)return null;if(null==(r=s.document))return null;if(c.bookmark!==undefined&&!1===rh(c)){var i=tp(c);if(i.isSome())return i.map(function(e){return Db(c,[e])[0];}).getOr(r.createRange());}try{(e=d())&&!zo.isRestrictedNode(e.anchorNode)&&(t=0<e.rangeCount?e.getRangeAt(0):e.createRange?e.createRange():r.createRange());}catch(a){}return(t=Db(c,[t])[0])||(t=r.createRange?r.createRange():r.body.createTextRange()),t.setStart&&9===t.startContainer.nodeType&&t.collapsed&&(n=u.getRoot(),t.setStart(n,0),t.setEnd(n,0)),l&&f&&(0===o(t.START_TO_START,t,l)&&0===o(t.END_TO_END,t,l)?t=f:f=l=null),t;},i=function i(e,t){var n,r;if((o=e)&&(nC(o)||rC(o.startContainer)&&rC(o.endContainer))){var o,i=nC(e)?e:null;if(i){f=null;try{i.select();}catch(a){}}else{if(n=d(),e=c.fire("SetSelectionRange",{range:e,forward:t}).range,n){f=e;try{n.removeAllRanges(),n.addRange(e);}catch(a){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),l=0<n.rangeCount?n.getRangeAt(0):null;}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||fe.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),c.fire("AfterSetSelectionRange",{range:e,forward:t});}}},g=function g(){var e,t,n=d();return!(n&&n.anchorNode&&n.focusNode)||((e=u.createRng()).setStart(n.anchorNode,n.anchorOffset),e.collapse(!0),(t=u.createRng()).setStart(n.focusNode,n.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0);},p={bookmarkManager:null,controlSelection:null,dom:u,win:s,serializer:e,editor:c,collapse:o,setCursorLocation:function setCursorLocation(e,t){var n=u.createRng();e?(n.setStart(e,t),n.setEnd(e,t),i(n),o(!1)):(Kh(u,n,c.getBody(),!0),i(n));},getContent:function getContent(e){return Yb(c,e);},setContent:r,getBookmark:function getBookmark(e,t){return n.getBookmark(e,t);},moveToBookmark:function moveToBookmark(e){return n.moveToBookmark(e);},select:function select(e,t){var r,n,o;return(r=u,n=e,o=t,_.from(n).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Kh(r,n,e,!0),Kh(r,n,e,!1)),n;})).each(i),e;},isCollapsed:function isCollapsed(){var e=m(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed);},isForward:g,setNode:function setNode(e){return r(u.getOuterHTML(e)),e;},getNode:function getNode(){return e=c.getBody(),(t=m())?(r=t.startContainer,o=t.endContainer,i=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?eC(r.nextSibling,!0):r.parentNode,o=0===a?eC(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,r,o,i,a;},getSel:d,setRng:i,getRng:m,getStart:function getStart(e){return Qb(c.getBody(),m(),e);},getEnd:function getEnd(e){return Zb(c.getBody(),m(),e);},getSelectedBlocks:function getSelectedBlocks(e,t){return function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||Qb(i,t,t.collapsed),e.isBlock),r=e.getParent(r||Zb(i,t,t.collapsed),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r)for(var u=new fo(o=n,i);(o=u.next())&&o!==r;){e.isBlock(o)&&a.push(o);}return r&&n!==r&&r!==i&&a.push(r),a;}(u,m(),e,t);},normalize:function normalize(){var e=m(),t=d();if(!gm(t)&&Xh(c)){var n=Sg(u,e);return n.each(function(e){i(e,g());}),n.getOr(e);}return e;},selectorChanged:function selectorChanged(e,t){var i;return a||(a={},i={},c.on("NodeChange",function(e){var n=e.element,r=u.getParents(n,null,u.getRoot()),o={};tC(a,function(e,n){tC(r,function(t){if(u.is(t,n))return i[n]||(tC(e,function(e){e(!0,{node:t,selector:n,parents:r});}),i[n]=e),o[n]=e,!1;});}),tC(i,function(e,t){o[t]||(delete i[t],tC(e,function(e){e(!1,{node:n,selector:t,parents:r});}));});})),a[e]||(a[e]=[]),a[e].push(t),p;},getScrollContainer:function getScrollContainer(){for(var e,t=u.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break;}t=t.parentNode;}return e;},scrollIntoView:function scrollIntoView(e,t){return kb(c,e,t);},placeCaretAt:function placeCaretAt(e,t){return i(Rb(e,t,c.getDoc()));},getBoundingClientRect:function getBoundingClientRect(){var e=m();return e.collapsed?Su.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect();},destroy:function destroy(){s=l=f=null,t.destroy();}};return n=wb(p),t=Sb(p,c),p.bookmarkManager=n,p.controlSelection=t,p;};(xb=Cb||(Cb={}))[xb.Br=0]="Br",xb[xb.Block=1]="Block",xb[xb.Wrap=2]="Wrap",xb[xb.Eol=3]="Eol";var iC=function iC(e,t){return e===Nu.Backwards?t.reverse():t;},aC=function aC(e,t,n,r){for(var o,i,a,u,s,c,l=Xs(n),f=r,d=[];f&&(s=l,c=f,o=t===Nu.Forwards?s.next(c):s.prev(c));){if(zo.isBr(o.getNode(!1)))return t===Nu.Forwards?{positions:iC(t,d).concat([o]),breakType:Cb.Br,breakAt:_.some(o)}:{positions:iC(t,d),breakType:Cb.Br,breakAt:_.some(o)};if(o.isVisible()){if(e(f,o)){var m=(i=t,a=f,u=o,zo.isBr(u.getNode(i===Nu.Forwards))?Cb.Br:!1===Ns(a,u)?Cb.Block:Cb.Wrap);return{positions:iC(t,d),breakType:m,breakAt:_.some(o)};}d.push(o),f=o;}else f=o;}return{positions:iC(t,d),breakType:Cb.Eol,breakAt:_.none()};},uC=function uC(n,r,o,e){return r(o,e).breakAt.map(function(e){var t=r(o,e).positions;return n===Nu.Backwards?t.concat(e):[e].concat(t);}).getOr([]);},sC=function sC(e,i){return V(e,function(e,o){return e.fold(function(){return _.some(o);},function(r){return eu(Z(r.getClientRects()),Z(o.getClientRects()),function(e,t){var n=Math.abs(i-e.left);return Math.abs(i-t.left)<=n?o:r;}).or(e);});},_.none());},cC=function cC(t,e){return Z(e.getClientRects()).bind(function(e){return sC(t,e.left);});},lC=d(aC,wu.isAbove,-1),fC=d(aC,wu.isBelow,1),dC=d(uC,-1,lC),mC=d(uC,1,fC),gC=zo.isContentEditableFalse,pC=Ga,hC=function hC(e,t,n,r){var o=e===Nu.Forwards,i=o?Bf:Pf;if(!r.collapsed){var a=pC(r);if(gC(a))return rg(e,t,a,e===Nu.Backwards,!0);}var u=wa(r.startContainer),s=Ds(e,t.getBody(),r);if(i(s))return og(t,s.getNode(!o));var c=zl.normalizePosition(o,n(s));if(!c)return u?r:null;if(i(c))return rg(e,t,c.getNode(!o),o,!0);var l=n(c);return l&&i(l)&&Ps(c,l)?rg(e,t,l.getNode(!o),o,!0):u?ag(t,c.toRange(),!0):null;},vC=function vC(e,t,n,r){var o,i,a,u,s,c,l,f,d;if(d=pC(r),o=Ds(e,t.getBody(),r),i=n(t.getBody(),dv(1),o),a=U(i,mv(1)),s=Ht.last(o.getClientRects()),(Bf(o)||Lf(o))&&(d=o.getNode()),(Pf(o)||Ff(o))&&(d=o.getNode(!0)),!s)return null;if(c=s.left,(u=bv(a,c))&&gC(u.node))return l=Math.abs(c-u.left),f=Math.abs(c-u.right),rg(e,t,u.node,l<f,!0);if(d){var m=function(e,t,n,r){var o,i,a,u,s,c,l=Xs(t),f=[],d=0,m=function m(e){return Ht.last(e.getClientRects());};1===e?(o=l.next,i=Xa,a=Ka,u=Su.after(r)):(o=l.prev,i=Ka,a=Xa,u=Su.before(r)),c=m(u);do{if(u.isVisible()&&!a(s=m(u),c)){if(0<f.length&&i(s,Ht.last(f))&&d++,(s=qa(s)).position=u,s.line=d,n(s))return f;f.push(s);}}while(u=o(u));return f;}(e,t.getBody(),dv(1),d);if(u=bv(U(m,mv(1)),c))return ag(t,u.position.toRange(),!0);if(u=Ht.last(U(m,mv(0))))return ag(t,u.position.toRange(),!0);}},yC=function yC(e,t,n){var r,o,i,a,u=Xs(e.getBody()),s=d(Bs,u.next),c=d(Bs,u.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(r=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?s(Su.fromRangeStart(n)):c(Su.fromRangeStart(n)))||(a=(i=e).dom.create(Cl(i)),(!fe.ie||11<=fe.ie)&&(a.innerHTML='<br data-mce-bogus="1">'),o=a,1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse());}},bC=function bC(l,f){return function(){var e,t,n,r,o,i,a,u,s,c=(t=f,r=Xs((e=l).getBody()),o=d(Bs,r.next),i=d(Bs,r.prev),a=t?Nu.Forwards:Nu.Backwards,u=t?o:i,s=e.selection.getRng(),(n=hC(a,e,u,s))?n:(n=yC(e,a,s))||null);return!!c&&(l.selection.setRng(c),!0);};},CC=function CC(u,s){return function(){var e,t,n,r,o,i,a=(r=(t=s)?1:-1,o=t?fv:lv,i=(e=u).selection.getRng(),(n=vC(r,e,o,i))?n:(n=yC(e,r,i))||null);return!!a&&(u.selection.setRng(a),!0);};},xC=function xC(r,o){return function(){var t,e=o?Su.fromRangeEnd(r.selection.getRng()):Su.fromRangeStart(r.selection.getRng()),n=o?fC(r.getBody(),e):lC(r.getBody(),e);return(o?ee(n.positions):Z(n.positions)).filter((t=o,function(e){return t?Pf(e):Bf(e);})).fold(q(!1),function(e){return r.selection.setRng(e.toRange()),!0;});};},wC=function wC(e,t,n,r,o){var i,a,u,s,c=Gi(ar.fromDom(n),"td,th,caption").map(function(e){return e.dom();}),l=U((i=e,G(c,function(e){var t,n,r=(t=qa(e.getBoundingClientRect()),n=-1,{left:t.left-n,top:t.top-n,right:t.right+2*n,bottom:t.bottom+2*n,width:t.width+n,height:t.height+n});return[{x:r.left,y:i(r),cell:e},{x:r.right,y:i(r),cell:e}];})),function(e){return t(e,o);});return(a=l,u=r,s=o,V(a,function(e,r){return e.fold(function(){return _.some(r);},function(e){var t=Math.sqrt(Math.abs(e.x-u)+Math.abs(e.y-s)),n=Math.sqrt(Math.abs(r.x-u)+Math.abs(r.y-s));return _.some(n<t?r:e);});},_.none())).map(function(e){return e.cell;});},NC=d(wC,function(e){return e.bottom;},function(e,t){return e.y<t;}),EC=d(wC,function(e){return e.top;},function(e,t){return e.y>t;}),SC=function SC(t,n){return Z(n.getClientRects()).bind(function(e){return NC(t,e.left,e.top);}).bind(function(e){return cC((t=e,ic.lastPositionIn(t).map(function(e){return lC(t,e).positions.concat(e);}).getOr([])),n);var t;});},TC=function TC(t,n){return ee(n.getClientRects()).bind(function(e){return EC(t,e.left,e.top);}).bind(function(e){return cC((t=e,ic.firstPositionIn(t).map(function(e){return[e].concat(fC(t,e).positions);}).getOr([])),n);var t;});},kC=function kC(e,t){e.selection.setRng(t),_b(e,t);},_C=function _C(e,t,n){var r,o,i,a,u=e(t,n);return(a=u).breakType===Cb.Wrap&&0===a.positions.length||!zo.isBr(n.getNode())&&(i=u).breakType===Cb.Br&&1===i.positions.length?(r=e,o=t,!u.breakAt.map(function(e){return r(o,e).breakAt.isSome();}).getOr(!1)):u.breakAt.isNone();},AC=d(_C,lC),RC=d(_C,fC),DC=function DC(e,t,n,r){var o,i,a,u,s=e.selection.getRng(),c=t?1:-1;if(ls()&&(o=t,i=s,a=n,u=Su.fromRangeStart(i),ic.positionIn(!o,a).map(function(e){return e.isEqual(u);}).getOr(!1))){var l=rg(c,e,n,!t,!0);return kC(e,l),!0;}return!1;},OC=function OC(e,t){var n=t.getNode(e);return zo.isElement(n)&&"TABLE"===n.nodeName?_.some(n):_.none();},BC=function BC(u,s,c){var e=OC(!!s,c),t=!1===s;e.fold(function(){return kC(u,c.toRange());},function(a){return ic.positionIn(t,u.getBody()).filter(function(e){return e.isEqual(c);}).fold(function(){return kC(u,c.toRange());},function(e){return n=s,o=a,t=c,void((i=Cl(r=u))?r.undoManager.transact(function(){var e=ar.fromTag(i);xr(e,xl(r)),Ii(e,ar.fromTag("br")),n?Bi(ar.fromDom(o),e):Oi(ar.fromDom(o),e);var t=r.dom.createRng();t.setStart(e.dom(),0),t.setEnd(e.dom(),0),kC(r,t);}):kC(r,t.toRange()));var n,r,o,t,i;});});},PC=function PC(e,t,n,r){var o,i,a,u,s,c,l=e.selection.getRng(),f=Su.fromRangeStart(l),d=e.getBody();if(!t&&AC(r,f)){var m=(u=d,SC(s=n,c=f).orThunk(function(){return Z(c.getClientRects()).bind(function(e){return sC(dC(u,Su.before(s)),e.left);});}).getOr(Su.before(s)));return BC(e,t,m),!0;}return!(!t||!RC(r,f))&&(o=d,m=TC(i=n,a=f).orThunk(function(){return Z(a.getClientRects()).bind(function(e){return sC(mC(o,Su.after(i)),e.left);});}).getOr(Su.after(i)),BC(e,t,m),!0);},IC=function IC(t,n){return function(){return _.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(e){return _.from(t.dom.getParent(e,"table")).map(function(e){return DC(t,n,e);});}).getOr(!1);};},LC=function LC(n,r){return function(){return _.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(t){return _.from(n.dom.getParent(t,"table")).map(function(e){return PC(n,r,e,t);});}).getOr(!1);};},FC=function FC(e){return F(["figcaption"],lr(e));},MC=function MC(e){var t=j.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t;},zC=function zC(e,t,n){n?Ii(e,t):Pi(e,t);},UC=function UC(e,t,n,r){return""===t?(l=e,f=r,d=ar.fromTag("br"),zC(l,d,f),MC(d)):(o=e,i=r,a=t,u=n,s=ar.fromTag(a),c=ar.fromTag("br"),xr(s,u),Ii(s,c),zC(o,s,i),MC(c));var o,i,a,u,s,c,l,f,d;},VC=function VC(e,t,n){return t?(o=e.dom(),fC(o,n).breakAt.isNone()):(r=e.dom(),lC(r,n).breakAt.isNone());var r,o;},jC=function jC(t,n){var e,r,o,i=ar.fromDom(t.getBody()),a=Su.fromRangeStart(t.selection.getRng()),u=Cl(t),s=xl(t);return(e=a,r=i,o=d(Lr,r),ea(ar.fromDom(e.container()),yo,o).filter(FC)).exists(function(){if(VC(i,n,a)){var e=UC(i,u,s,n);return t.selection.setRng(e),!0;}return!1;});},HC=function HC(e,t){return function(){return!!e.selection.isCollapsed()&&jC(e,t);};},qC=function qC(e,r){return G(W(e,function(e){return Ky({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:o},e);}),function(e){return t=e,(n=r).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n;});},$C=function $C(e){for(var t=[],n=1;n<arguments.length;n++){t[n-1]=arguments[n];}var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r);};},WC=function WC(e,t){return X(qC(e,t),function(e){return e.action();});},KC=function KC(i,a){i.on("keydown",function(e){var t,n,r,o;!1===e.isDefaultPrevented()&&(t=i,n=a,r=e,o=or.detect().os,WC([{keyCode:Ev.RIGHT,action:bC(t,!0)},{keyCode:Ev.LEFT,action:bC(t,!1)},{keyCode:Ev.UP,action:CC(t,!1)},{keyCode:Ev.DOWN,action:CC(t,!0)},{keyCode:Ev.RIGHT,action:IC(t,!0)},{keyCode:Ev.LEFT,action:IC(t,!1)},{keyCode:Ev.UP,action:LC(t,!1)},{keyCode:Ev.DOWN,action:LC(t,!0)},{keyCode:Ev.RIGHT,action:Wd.move(t,n,!0)},{keyCode:Ev.LEFT,action:Wd.move(t,n,!1)},{keyCode:Ev.RIGHT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Wd.moveNextWord(t,n)},{keyCode:Ev.LEFT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Wd.movePrevWord(t,n)},{keyCode:Ev.UP,action:HC(t,!1)},{keyCode:Ev.DOWN,action:HC(t,!0)}],r).each(function(e){r.preventDefault();}));});},XC=function XC(o,i){o.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,WC([{keyCode:Ev.BACKSPACE,action:$C(od,t,!1)},{keyCode:Ev.DELETE,action:$C(od,t,!0)},{keyCode:Ev.BACKSPACE,action:$C(sg,t,!1)},{keyCode:Ev.DELETE,action:$C(sg,t,!0)},{keyCode:Ev.BACKSPACE,action:$C(Gd,t,n,!1)},{keyCode:Ev.DELETE,action:$C(Gd,t,n,!0)},{keyCode:Ev.BACKSPACE,action:$C(Am,t,!1)},{keyCode:Ev.DELETE,action:$C(Am,t,!0)},{keyCode:Ev.BACKSPACE,action:$C(vf,t,!1)},{keyCode:Ev.DELETE,action:$C(vf,t,!0)},{keyCode:Ev.BACKSPACE,action:$C(mf,t,!1)},{keyCode:Ev.DELETE,action:$C(mf,t,!0)},{keyCode:Ev.BACKSPACE,action:$C(eg,t,!1)},{keyCode:Ev.DELETE,action:$C(eg,t,!0)}],r).each(function(e){r.preventDefault();}));}),o.on("keyup",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=o,n=e,WC([{keyCode:Ev.BACKSPACE,action:$C(id,t)},{keyCode:Ev.DELETE,action:$C(id,t)}],n));});},YC=function YC(e){return _.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock));},GC=function GC(e,t){var n,r,o,i=t,a=e.dom,u=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var s=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling;}}(t.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&t.insertBefore(a.doc.createTextNode("\xa0"),t.firstChild);}if(o=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new fo(t,t);r=n.current();){if(zo.isText(r)){o.setStart(r,0),o.setEnd(r,0);break;}if(u[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break;}i=r,r=n.next();}r||(o.setStart(i,0),o.setEnd(i,0));}else zo.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),a.remove(void 0),e.selection.scrollIntoView(t);}},JC=function JC(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);){"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;}return n!==o?r:o;},QC=YC,ZC=function ZC(e){return YC(e).fold(q(""),function(e){return e.nodeName.toUpperCase();});},ex=function ex(e){return YC(e).filter(function(e){return No(ar.fromDom(e));}).isSome();},tx=function tx(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t;},nx=function nx(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName);},rx=function rx(e){var t=e.parentNode;return /^(LI|DT|DD)$/.test(t.nodeName)?t:e;},ox=function ox(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!zo.isElement(r);){r=r[n?"nextSibling":"previousSibling"];}return r===t;},ix=function ix(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var u;nx(u=n)&&nx(u.parentNode)&&(o="LI");var s,c,l=o?t(o):i.create("BR");if(ox(n,r,!0)&&ox(n,r,!1))tx(n,"LI")?i.insertAfter(l,rx(n)):i.replace(l,n);else if(ox(n,r,!0))tx(n,"LI")?(i.insertAfter(l,rx(n)),l.appendChild(i.doc.createTextNode(" ")),l.appendChild(n)):n.parentNode.insertBefore(l,n);else if(ox(n,r,!1))i.insertAfter(l,rx(n));else{n=rx(n);var f=a.cloneRange();f.setStartAfter(r),f.setEndAfter(n);var d=f.extractContents();"LI"===o&&(c="LI",(s=d).firstChild&&s.firstChild.nodeName===c)?(l=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(l,n));}i.remove(r),GC(e,l);}},ax=function ax(e){e.innerHTML='<br data-mce-bogus="1">';},ux=function ux(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t;},sx=function sx(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t);},cx=function cx(e,t,n){return!1===zo.isText(t)?n:e?1===n&&t.data.charAt(n-1)===ya?0:n:n===t.data.length-1&&t.data.charAt(n)===ya?t.data.length:n;},lx=function lx(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);){"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;}return n!==o?r:o;},fx=function fx(e,t){var n=Cl(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,xl(e));},dx=function dx(a,e){var t,u,s,i,c,n,r,o,l,f,d,m,g,p,h,v,y,b,C,x=a.dom,w=a.schema,N=w.getNonEmptyElements(),E=a.selection.getRng(),S=function S(e){var t,n,r,o=s,i=w.getTextInlineElements();if(e||"TABLE"===f||"HR"===f?(t=x.create(e||m),fx(a,t)):t=c.cloneNode(!1),r=t,!1===El(a))x.setAttrib(t,"style",null),x.setAttrib(t,"class",null);else do{if(i[o.nodeName]){if(Xu(o)||pc(o))continue;n=o.cloneNode(!1),x.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):r=n,t.appendChild(n);}}while((o=o.parentNode)&&o!==u);return ax(r),t;},T=function T(e){var t,n,r,o;if(o=cx(e,s,i),zo.isText(s)&&(e?0<o:o<s.nodeValue.length))return!1;if(s.parentNode===c&&g&&!e)return!0;if(e&&zo.isElement(s)&&s===c.firstChild)return!0;if(ux(s,"TABLE")||ux(s,"HR"))return g&&!e||!g&&e;for(t=new fo(s,c),zo.isText(s)&&(e&&0===o?t.prev():e||o!==s.nodeValue.length||t.next());n=t.current();){if(zo.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),N[r]&&"br"!==r))return!1;}else if(zo.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next();}return!0;},k=function k(){r=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?S(m):S(),Sl(a)&&sx(x,l)&&x.isEmpty(c)?r=x.split(l,c):x.insertAfter(r,c),GC(a,r);};Sg(x,E).each(function(e){E.setStart(e.startContainer,e.startOffset),E.setEnd(e.endContainer,e.endOffset);}),s=E.startContainer,i=E.startOffset,m=Cl(a),n=e.shiftKey,zo.isElement(s)&&s.hasChildNodes()&&(g=i>s.childNodes.length-1,s=s.childNodes[Math.min(i,s.childNodes.length-1)]||s,i=g&&zo.isText(s)?s.nodeValue.length:0),(u=lx(x,s))&&((m&&!n||!m&&n)&&(s=function(e,t,n,r,o){var i,a,u,s,c,l,f,d=t||"P",m=e.dom,g=lx(m,r);if(!(a=m.getParent(r,m.isBlock))||!sx(m,a)){if(l=(a=a||g)===e.getBody()||(f=a)&&/^(TD|TH|CAPTION)$/.test(f.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=m.create(d),fx(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==a;){s=s.parentNode;}for(;s&&!m.isBlock(s);){s=(u=s).previousSibling;}if(u&&e.schema.isValidChild(l,d.toLowerCase())){for(i=m.create(d),fx(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!m.isBlock(s);){c=s.nextSibling,i.appendChild(s),s=c;}n.setStart(r,o),n.setEnd(r,o);}}return r;}(a,m,E,s,i)),c=x.getParent(s,x.isBlock),l=c?x.getParent(c.parentNode,x.isBlock):null,f=c?c.nodeName.toUpperCase():"","LI"!==(d=l?l.nodeName.toUpperCase():"")||e.ctrlKey||(l=(c=l).parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&x.isEmpty(c)?ix(a,S,l,c,m):m&&c===a.getBody()||(m=m||"P",wa(c)?(r=Da(c),x.isEmpty(c)&&ax(c),GC(a,r)):T()?k():T(!0)?(r=c.parentNode.insertBefore(S(),c),GC(a,ux(c,"HR")?r:c)):((t=(b=E,C=b.cloneRange(),C.setStart(b.startContainer,cx(!0,b.startContainer,b.startOffset)),C.setEnd(b.endContainer,cx(!1,b.endContainer,b.endOffset)),C).cloneRange()).setEndAfter(c),o=t.extractContents(),y=o,z(Yi(ar.fromDom(y),mr),function(e){var t=e.dom();t.nodeValue=ba(t.nodeValue);}),function(e){for(;zo.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;){;}}(o),r=o.firstChild,x.insertAfter(o,c),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;zo.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o);}for(r=i.length;r--;){!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):(a=e,(u=o)&&"A"===u.nodeName&&a.isEmpty(u)&&e.remove(o));}var a,u;}}(x,N,r),p=x,(h=c).normalize(),(v=h.lastChild)&&!/^(left|right)$/gi.test(p.getStyle(v,"float",!0))||p.add(h,"br"),x.isEmpty(c)&&ax(c),r.normalize(),x.isEmpty(r)?(x.remove(r),k()):GC(a,r)),x.setAttrib(r,"id",""),a.fire("NewBlock",{newBlock:r})));},mx=function mx(e,t){return QC(e).filter(function(e){return 0<t.length&&Pr(ar.fromDom(e),t);}).isSome();},gx=function gx(e){return mx(e,wl(e));},px=function px(e){return mx(e,Nl(e));},hx=yf([{br:[]},{block:[]},{none:[]}]),vx=function vx(e,t){return px(e);},yx=function yx(n){return function(e,t){return""===Cl(e)===n;};},bx=function bx(n){return function(e,t){return ex(e)===n;};},Cx=function Cx(n,r){return function(e,t){return ZC(e)===n.toUpperCase()===r;};},xx=function xx(e){return Cx("pre",e);},wx=function wx(n){return function(e,t){return bl(e)===n;};},Nx=function Nx(e,t){return gx(e);},Ex=function Ex(e,t){return t;},Sx=function Sx(e){var t=Cl(e),n=JC(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P");},Tx=function Tx(e,t){return function(n,r){return V(e,function(e,t){return e&&t(n,r);},!0)?_.some(t):_.none();};},kx=function kx(e,t){return hd([Tx([vx],hx.none()),Tx([Cx("summary",!0)],hx.br()),Tx([xx(!0),wx(!1),Ex],hx.br()),Tx([xx(!0),wx(!1)],hx.block()),Tx([xx(!0),wx(!0),Ex],hx.block()),Tx([xx(!0),wx(!0)],hx.br()),Tx([bx(!0),Ex],hx.br()),Tx([bx(!0)],hx.block()),Tx([yx(!0),Ex,Sx],hx.block()),Tx([yx(!0)],hx.br()),Tx([Nx],hx.br()),Tx([yx(!1),Ex],hx.br()),Tx([Sx],hx.block())],[e,t.shiftKey]).getOr(hx.none());},_x=function _x(e,t){kx(e,t).fold(function(){Ig(e,t);},function(){dx(e,t);},o);},Ax=function Ax(o){o.on("keydown",function(e){var t,n,r;e.keyCode===Ev.ENTER&&(t=o,(n=e).isDefaultPrevented()||(n.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),_x(t,n);})));});},Rx=function Rx(n,r){var e=r.container(),t=r.offset();return zo.isText(e)?(e.insertData(t,n),_.some(wu(e,t+n.length))):Os(r).map(function(e){var t=ar.fromText(n);return r.isAtEnd()?Bi(e,t):Oi(e,t),wu(t.dom(),n.length);});},Dx=d(Rx,"\xa0"),Ox=d(Rx," "),Bx=function Bx(e,t,n){return ic.navigateIgnore(e,t,n,Df);},Px=function Px(e,t){return X(rf(ar.fromDom(t.container()),e),yo);},Ix=function Ix(e,n,r){return Bx(e,n.dom(),r).forall(function(t){return Px(n,r).fold(function(){return!1===Ns(t,r,n.dom());},function(e){return!1===Ns(t,r,n.dom())&&Fr(e,ar.fromDom(t.container()));});});},Lx=function Lx(t,n,r){return Px(n,r).fold(function(){return Bx(t,n.dom(),r).forall(function(e){return!1===Ns(e,r,n.dom());});},function(e){return Bx(t,e.dom(),r).isNone();});},Fx=d(Lx,!1),Mx=d(Lx,!0),zx=d(Ix,!1),Ux=d(Ix,!0),Vx=function Vx(e){return wu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd();},jx=function jx(e,t){var n=U(rf(ar.fromDom(t.container()),e),yo);return Z(n).getOr(e);},Hx=function Hx(e,t){return Vx(t)?Rf(t):Rf(t)||ic.prevPosition(jx(e,t).dom(),t).exists(Rf);},qx=function qx(e,t){return Vx(t)?Af(t):Af(t)||ic.nextPosition(jx(e,t).dom(),t).exists(Af);},$x=function $x(e){return Os(e).bind(function(e){return ea(e,dr);}).exists(function(e){return t=Sr(e,"white-space"),F(["pre","pre-wrap"],t);var t;});},Wx=function Wx(e,t){return o=e,i=t,ic.prevPosition(o.dom(),i).isNone()||(n=e,r=t,ic.nextPosition(n.dom(),r).isNone())||Fx(e,t)||Mx(e,t)||wf(e,t)||xf(e,t);var n,r,o,i;},Kx=function Kx(e,t){var n,r,o,i=(r=(n=t).container(),o=n.offset(),zo.isText(r)&&o<r.data.length?wu(r,o+1):n);return!$x(i)&&(Mx(e,i)||Ux(e,i)||xf(e,i)||qx(e,i));},Xx=function Xx(e,t){return n=e,!$x(r=t)&&(Fx(n,r)||zx(n,r)||wf(n,r)||Hx(n,r))||Kx(e,t);var n,r;},Yx=function Yx(e,t){return Sf(e.charAt(t));},Gx=function Gx(e){var t=e.container();return zo.isText(t)&&Yn(t.data,"\xa0");},Jx=function Jx(e){var n,t=e.data,r=(n=t.split(""),W(n,function(e,t){return Sf(e)&&0<t&&t<n.length-1&&kf(n[t-1])&&kf(n[t+1])?" ":e;}).join(""));return r!==t&&(e.data=r,!0);},Qx=function Qx(l,e){return _.some(e).filter(Gx).bind(function(e){var t,n,r,o,i,a,u,s,c=e.container();return i=l,u=(a=c).data,s=wu(a,0),Yx(u,0)&&!Xx(i,s)&&(a.data=" "+u.slice(1),1)||Jx(c)||(t=l,r=(n=c).data,o=wu(n,r.length-1),Yx(r,r.length-1)&&!Xx(t,o)&&(n.data=r.slice(0,-1)+" ",1))?_.some(e):_.none();});},Zx=function Zx(t){var e=ar.fromDom(t.getBody());t.selection.isCollapsed()&&Qx(e,wu.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange());});},ew=function ew(r,o){return function(e){return t=r,!$x(n=e)&&(Wx(t,n)||Hx(t,n)||qx(t,n))?Dx(o):Ox(o);var t,n;};},tw=function tw(e){var t,n,r=Su.fromRangeStart(e.selection.getRng()),o=ar.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=d(zl.isInlineTarget,e),a=Su.fromRangeStart(e.selection.getRng());return Pd(i,e.getBody(),a).bind((n=o,function(e){return e.fold(function(e){return ic.prevPosition(n.dom(),Su.before(e));},function(e){return ic.firstPositionIn(e);},function(e){return ic.lastPositionIn(e);},function(e){return ic.nextPosition(n.dom(),Su.after(e));});})).bind(ew(o,r)).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0;}));}return!1;},nw=function nw(r){r.on("keydown",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=r,n=e,WC([{keyCode:Ev.SPACEBAR,action:$C(tw,t)}],n).each(function(e){n.preventDefault();}));});},rw=function rw(e,t){var n;t.hasAttribute("data-mce-caret")&&(Da(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t));},ow=function ow(e,t){var n,r=(n=e,na(ar.fromDom(n.getBody()),"*[data-mce-caret]").fold(q(null),function(e){return e.dom();}));if(r)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void rw(e,r)):void(Sa(r)&&(rw(e,r),e.undoManager.add()));},iw=function iw(e){e.on("keyup compositionstart",d(ow,e));},aw=or.detect().browser,uw=function uw(t){var e,n;e=t,n=Ui(function(){e.composing||Zx(e);},0),aw.isIE()&&(e.on("keypress",function(e){n.throttle();}),e.on("remove",function(e){n.cancel();})),t.on("input",function(e){!1===e.isComposing&&Zx(t);});},sw=function sw(r){r.on("keydown",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=r,n=e,WC([{keyCode:Ev.END,action:xC(t,!0)},{keyCode:Ev.HOME,action:xC(t,!1)}],n).each(function(e){n.preventDefault();}));});},cw=function cw(e){var t=Wd.setupSelectedState(e);iw(e),KC(e,t),XC(e,t),Ax(e),nw(e),uw(e),sw(e);};function lw(u){var s,n,r,o=Xt.each,c=Ev.BACKSPACE,l=Ev.DELETE,f=u.dom,d=u.selection,e=u.settings,t=u.parser,i=fe.gecko,a=fe.ie,m=fe.webkit,g="data:text/mce-internal,",p=a?"Text":"URL",h=function h(e,t){try{u.getDoc().execCommand(e,!1,t);}catch(n){}},v=function v(e){return e.isDefaultPrevented();},y=function y(){u.shortcuts.add("meta+a",null,"SelectAll");},b=function b(){u.on("keydown",function(e){if(!v(e)&&e.keyCode===c&&d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1;}});},C=function C(){u.inline||(u.contentStyles.push("body {min-height: 150px}"),u.on("click",function(e){var t;if("HTML"===e.target.nodeName){if(11<fe.ie)return void u.getBody().focus();t=u.selection.getRng(),u.getBody().focus(),u.selection.setRng(t),u.selection.normalize(),u.nodeChanged();}}));};return u.on("keydown",function(e){var t,n,r,o,i;if(!v(e)&&e.keyCode===Ev.BACKSPACE&&(n=(t=d.getRng()).startContainer,r=t.startOffset,o=f.getRoot(),i=n,t.collapsed&&0===r)){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==o;){i=i.parentNode;}"BLOCKQUOTE"===i.tagName&&(u.formatter.toggle("blockquote",null,i),(t=f.createRng()).setStart(n,0),t.setEnd(n,0),d.setRng(t));}}),s=function s(e){var t=f.create("body"),n=e.cloneContents();return t.appendChild(n),d.serializer.serialize(t,{format:"html"});},u.on("keydown",function(e){var t,n,r,o,i,a=e.keyCode;if(!v(e)&&(a===l||a===c)){if(t=u.selection.isCollapsed(),n=u.getBody(),t&&!f.isEmpty(n))return;if(!t&&(r=u.selection.getRng(),o=s(r),(i=f.createRng()).selectNode(u.getBody()),o!==s(i)))return;e.preventDefault(),u.setContent(""),n.firstChild&&f.isBlock(n.firstChild)?u.selection.setCursorLocation(n.firstChild,0):u.selection.setCursorLocation(n,0),u.nodeChanged();}}),fe.windowsPhone||u.on("keyup focusin mouseup",function(e){Ev.modifierPressed(e)||d.normalize();},!0),m&&(u.settings.content_editable||f.bind(u.getDoc(),"mousedown mouseup",function(e){var t;if(e.target===u.getDoc().documentElement)if(t=d.getRng(),u.getBody().focus(),"mousedown"===e.type){if(Ea(t.startContainer))return;d.placeCaretAt(e.clientX,e.clientY);}else d.setRng(t);}),u.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==f.getContentEditableParent(t)&&(e.preventDefault(),u.selection.select(t),u.nodeChanged()),"A"===t.nodeName&&f.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),d.select(t));}),e.forced_root_block&&u.on("init",function(){h("DefaultParagraphSeparator",e.forced_root_block);}),u.on("init",function(){u.dom.bind(u.getBody(),"submit",function(e){e.preventDefault();});}),b(),t.addNodeFilter("br",function(e){for(var t=e.length;t--;){"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove();}}),fe.iOS?(u.inline||u.on("keydown",function(){j.document.activeElement===j.document.body&&u.getWin().focus();}),C(),u.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault();}while(t=t.parentNode);}),u.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):y()),11<=fe.ie&&(C(),b()),fe.ie&&(y(),h("AutoUrlDetect",!1),u.on("dragstart",function(e){var t,n,r;(t=e).dataTransfer&&(u.selection.isCollapsed()&&"IMG"===t.target.tagName&&d.select(t.target),0<(n=u.selection.getContent()).length&&(r=g+escape(u.id)+","+escape(n),t.dataTransfer.setData(p,r)));}),u.on("drop",function(e){if(!v(e)){var t=(i=e).dataTransfer&&(a=i.dataTransfer.getData(p))&&0<=a.indexOf(g)?(a=a.substr(g.length).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null;if(t&&t.id!==u.id){e.preventDefault();var n=Rb(e.x,e.y,u.getDoc());d.setRng(n),r=t.html,o=!0,u.queryCommandSupported("mceInsertClipboardContent")?u.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):u.execCommand("mceInsertContent",!1,r);}}var r,o,i,a;})),i&&(u.on("keydown",function(e){if(!v(e)&&e.keyCode===c){if(!u.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode(),n=t.previousSibling;if("HR"===t.nodeName)return f.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(f.remove(n),e.preventDefault());}}}),j.Range.prototype.getClientRects||u.on("mousedown",function(e){if(!v(e)&&"HTML"===e.target.nodeName){var t=u.getBody();t.blur(),he.setEditorTimeout(u,function(){t.focus();});}}),n=function n(){var e=f.getAttribs(d.getStart().cloneNode(!1));return function(){var t=d.getStart();t!==u.getBody()&&(f.setAttrib(t,"style",null),o(e,function(e){t.setAttributeNode(e.cloneNode(!0));}));};},r=function r(){return!d.isCollapsed()&&f.getParent(d.getStart(),f.isBlock)!==f.getParent(d.getEnd(),f.isBlock);},u.on("keypress",function(e){var t;if(!v(e)&&(8===e.keyCode||46===e.keyCode)&&r())return t=n(),u.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1;}),f.bind(u.getDoc(),"cut",function(e){var t;!v(e)&&r()&&(t=n(),he.setEditorTimeout(u,function(){t();}));}),e.readonly||u.on("BeforeExecCommand MouseDown",function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),e.object_resizing||h("enableObjectResizing",!1);}),u.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(f.select("a"),function(e){var t=e.parentNode,n=f.getRoot();if(t.lastChild===e){for(;t&&!f.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode;}f.add(t,"br",{"data-mce-bogus":1});}});}),u.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),fe.mac&&u.on("keydown",function(e){!Ev.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),u.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"));}),b()),{refreshContentEditable:function refreshContentEditable(){},isHidden:function isHidden(){var e;return!i||u.removed?0:!(e=u.selection.getSel())||!e.rangeCount||0===e.rangeCount;}};}var fw=function fw(e){return zo.isElement(e)&&xo(ar.fromDom(e));},dw=function dw(t){t.on("click",function(e){3<=e.detail&&function(e){var t=e.selection.getRng(),n=wu.fromRangeStart(t),r=wu.fromRangeEnd(t);if(wu.isElementPosition(n)){var o=n.container();fw(o)&&ic.firstPositionIn(o).each(function(e){return t.setStart(e.container(),e.offset());});}wu.isElementPosition(r)&&(o=n.container(),fw(o)&&ic.lastPositionIn(o).each(function(e){return t.setEnd(e.container(),e.offset());})),e.selection.setRng(al(t));}(t);});},mw=function mw(e){var t,n;(t=e).on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault();}),(n=e).parser.addNodeFilter("details",function(e){z(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open");});}),n.serializer.addNodeFilter("details",function(e){z(e,function(e){var t=e.attr("data-mce-open");e.attr("open",S(t)?t:null),e.attr("data-mce-open",null);});});},gw=Ni.DOM,pw=function pw(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&he.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus();},100);},hw=function hw(t,e){var n,r,u,o,i,a,s,c,l,f=t.settings,d=t.getElement(),m=t.getDoc();f.inline||(t.getElement().style.visibility=t.orgVisibility),e||f.content_editable||(m.open(),m.write(t.iframeHTML),m.close()),f.content_editable&&(t.on("remove",function(){var e=this.getBody();gw.removeClass(e,"mce-content-body"),gw.removeClass(e,"mce-edit-focus"),gw.setAttrib(e,"contentEditable",null);}),gw.addClass(d,"mce-content-body"),t.contentDocument=m=f.content_document||j.document,t.contentWindow=f.content_window||j.window,t.bodyElement=d,f.content_document=f.content_window=null,f.root_name=d.nodeName.toLowerCase()),(n=t.getBody()).disabled=!0,t.readonly=f.readonly,t.readonly||(t.inline&&"static"===gw.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=zh(t),t.schema=li(f),t.dom=Ni(m,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:f.content_editable,schema:t.schema,contentCssCors:Ll(t),onSetAttrib:function onSetAttrib(e){t.fire("SetAttrib",e);}}),t.parser=((o=mb((u=t).settings,u.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,o,i=e.length,a=u.dom;i--;){if(r=(n=e[i]).attr(t),o="data-mce-"+t,!n.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(o,r),n.attr(t,r)):"tabindex"===t?(n.attr(o,r),n.attr(t,null)):n.attr(o,u.convertURL(r,t,n.name));}}}),o.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;){0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n);}}),o.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;){(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]";}}),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=u.schema.getNonEmptyElements();n--;){(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new nb("br",1)).shortEnded=!0);}}),o),t.serializer=yb(f,t),t.selection=oC(t.dom,t.getWin(),t.serializer,t),t.annotator=Uc(t),t.formatter=qy(t),t.undoManager=Jv(t),t._nodeChangeDispatcher=new Yh(t),t._selectionOverrides=_v(t),mw(t),dw(t),cw(t),Hh(t),t.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(m.body.spellcheck=!1,gw.setAttrib(n,"spellcheck","false")),t.quirks=lw(t),t.fire("PostRender"),f.directionality&&(n.dir=f.directionality),f.nowrap&&(n.style.whiteSpace="nowrap"),f.protect&&t.on("BeforeSetContent",function(t){Xt.each(f.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e";});});}),t.on("SetContent",function(){t.addVisual(t.getBody());}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type;}),0<t.contentStyles.length&&(r="",Xt.each(t.contentStyles,function(e){r+=e+"\r\n";}),t.dom.addStyle(r)),(i=t,i.inline?gw.styleSheetLoader:i.dom.styleSheetLoader).loadAll(t.contentCSS,function(e){pw(t);},function(e){pw(t);}),f.content_style&&(a=t,s=f.content_style,c=ar.fromDom(a.getDoc().head),l=ar.fromTag("style"),Cr(l,"type","text/css"),Ii(l,ar.fromText(s)),Ii(c,l));},vw=Ni.DOM,yw=function yw(e,t){var n,r,o,i,a,u,s,c=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),l=(n=e.id,r=c,o=t.height,i=ml(e),s=ar.fromTag("iframe"),xr(s,i),xr(s,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),Er(s,{width:"100%",height:(a=o,u="number"==typeof a?a+"px":a,u||""),display:"block"}),s).dom();l.onload=function(){l.onload=null,e.fire("load");};var f,d,m,g,p=function(e,t){if(j.document.domain!==j.window.location.hostname&&fe.ie&&fe.ie<12){var n=Mh.uuid("mce");e[n]=function(){hw(e);};var r='javascript:(function(){document.open();document.domain="'+j.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return vw.setAttrib(t,"src",r),!0;}return!1;}(e,l);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=l,e.iframeHTML=(g=gl(f=e)+"<html><head>",pl(f)!==f.documentBaseUrl&&(g+='<base href="'+f.documentBaseURI.getURI()+'" />'),g+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=hl(f),m=vl(f),yl(f)&&(g+='<meta http-equiv="Content-Security-Policy" content="'+yl(f)+'" />'),g+='</head><body id="'+d+'" class="mce-content-body '+m+'" data-id="'+f.id+'"><br></body></html>'),vw.add(t.iframeContainer,l),p;},bw=function bw(e,t){var n=yw(e,t);t.editorContainer&&(vw.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=vw.isHidden(t.editorContainer)),e.getElement().style.display="none",vw.setAttrib(e.id,"aria-hidden","true"),n||hw(e);},Cw=Ni.DOM,xw=function xw(t,n,e){var r=Nh.get(e),o=Nh.urls[e]||t.documentBaseUrl.replace(/\/$/,"");if(e=Xt.trim(e),r&&-1===Xt.inArray(n,e)){if(Xt.each(Nh.dependencies(e),function(e){xw(t,n,e);}),t.plugins[e])return;try{var i=new r(t,o,t.$);(t.plugins[e]=i).init&&(i.init(t,o),n.push(e));}catch(nE){wh.pluginInitError(t,e,nE);}}},ww=function ww(e){return e.replace(/^\-/,"");},Nw=function Nw(e){return{editorContainer:e,iframeContainer:e};},Ew=function Ew(e){var t,n,r=e.getElement();return e.inline?Nw(null):(t=r,n=Cw.create("div"),Cw.insertAfter(n,t),Nw(n));},Sw=function Sw(e){var t,n,r,o,i,a,u,s,c,l,f,d=e.settings,m=e.getElement();return e.orgDisplay=m.style.display,S(d.theme)?(l=(o=e).settings,f=o.getElement(),i=l.width||Cw.getStyle(f,"width")||"100%",a=l.height||Cw.getStyle(f,"height")||f.offsetHeight,u=l.min_height||100,(s=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),s.test(""+a)&&(a=Math.max(parseInt(a,10),u)),c=o.theme.renderUI({targetNode:f,width:i,height:a,deltaWidth:l.delta_width,deltaHeight:l.delta_height}),l.content_editable||(a=(c.iframeHeight||a)+("number"==typeof a?c.deltaHeight||0:""))<u&&(a=u),c.height=a,c):D(d.theme)?(r=(t=e).getElement(),(n=t.settings.theme(t,r)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:r.offsetHeight,n):Ew(e);},Tw=function Tw(t){var e,n,r,o,i,a,u=t.settings,s=t.getElement();return t.rtl=u.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(u.language),u.aria_label=u.aria_label||Cw.getAttrib(s,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),o=(n=t).settings.theme,S(o)?(n.settings.theme=ww(o),r=Eh.get(o),n.theme=new r(n,Eh.urls[o]),n.theme.init&&n.theme.init(n,Eh.urls[o]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},i=t,a=[],Xt.each(i.settings.plugins.split(/[ ,]/),function(e){xw(i,a,ww(e));}),e=Sw(t),t.editorContainer=e.editorContainer?e.editorContainer:null,u.content_css&&Xt.each(Xt.explode(u.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e));}),u.content_editable?hw(t):bw(t,e);},kw=Ni.DOM,_w=function _w(e){return"-"===e.charAt(0);},Aw=function Aw(i,a){var u=_i.ScriptLoader;!function(e,t,n,r){var o=t.settings,i=o.theme;if(S(i)){if(!_w(i)&&!Eh.urls.hasOwnProperty(i)){var a=o.theme_url;a?Eh.load(i,t.documentBaseURI.toAbsolute(a)):Eh.load(i,"themes/"+i+"/theme"+n+".js");}e.loadQueue(function(){Eh.waitFor(i,r);});}else r();}(u,i,a,function(){var e,t,n,r,o;e=u,(n=(t=i).settings).language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url),r=i.settings,o=a,Xt.isArray(r.plugins)&&(r.plugins=r.plugins.join(" ")),Xt.each(r.external_plugins,function(e,t){Nh.load(t,e),r.plugins+=" "+t;}),Xt.each(r.plugins.split(/[ ,]/),function(e){if((e=Xt.trim(e))&&!Nh.urls[e])if(_w(e)){e=e.substr(1,e.length);var t=Nh.dependencies(e);Xt.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=Nh.createUrl(t,e),Nh.load(e.resource,e);});}else Nh.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"});}),u.loadQueue(function(){i.removed||Tw(i);},i,function(e){wh.pluginLoadError(i,e[0]),i.removed||Tw(i);});});},Rw=function Rw(t){var e=t.settings,n=t.id,r=function r(){kw.unbind(j.window,"ready",r),t.render();};if(Se.Event.domLoaded){if(t.getElement()&&fe.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var o=t.getElement().form||kw.getParent(n,"form");o&&(t.formElement=o,e.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(kw.insertAfter(kw.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e);},kw.bind(o,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"});}),!e.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o);})),t.windowManager=mh(t),t.notificationManager=dh(t),"xml"===e.encoding&&t.on("GetContent",function(e){e.save&&(e.content=kw.encode(e.content));}),e.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save();}),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1});},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),Aw(t,t.suffix);}}else kw.bind(j.window,"ready",r);},Dw=function Dw(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r;},Ow=Xt.each,Bw=Xt.trim,Pw="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Iw={ftp:21,http:80,https:443,mailto:25},Lw=function Lw(r,e){var t,n,o=this;if(r=Bw(r),t=(e=o.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r))o.source=r;else{var i=0===r.indexOf("//");0!==r.indexOf("/")||i||(r=(t&&t.protocol||"http")+"://mce_host"+r),/^[\w\-]*:?\/\//.test(r)||(n=e.base_uri?e.base_uri.path:new Lw(j.document.location.href).directory,""==e.base_uri.protocol?r="//mce_host"+o.toAbsPath(n,r):(r=/([^#?]*)([#?]?.*)/.exec(r),r=(t&&t.protocol||"http")+"://mce_host"+o.toAbsPath(n,r[1])+r[2])),r=r.replace(/@@/g,"(mce_at)"),r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r),Ow(Pw,function(e,t){var n=r[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n;}),t&&(o.protocol||(o.protocol=t.protocol),o.userInfo||(o.userInfo=t.userInfo),o.port||"mce_host"!==o.host||(o.port=t.port),o.host&&"mce_host"!==o.host||(o.host=t.host),o.source=""),i&&(o.protocol="");}};Lw.prototype={setPath:function setPath(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI();},toRelative:function toRelative(e){var t;if("./"===e)return e;if("mce_host"!==(e=new Lw(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),r=e.getURI();return n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t);},toAbsolute:function toAbsolute(e,t){return(e=new Lw(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e));},isSameOrigin:function isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=Iw[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0;}return!1;},toRelPath:function toRelPath(e,t){var n,r,o,i=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++){if(r>=n.length||e[r]!==n[r]){i=r+1;break;}}if(e.length<n.length)for(r=0,o=n.length;r<o;r++){if(r>=e.length||e[r]!==n[r]){i=r+1;break;}}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++){a+="../";}for(r=i-1,o=n.length;r<o;r++){a+=r!==i-1?"/"+n[r]:n[r];}return a;},toAbsPath:function toAbsPath(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),Ow(e,function(e){e&&a.push(e);}),e=a,n=t.length-1,a=[];0<=n;n--){0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<i?i--:a.push(t[n]):i++);}return 0!==(o=(n=e.length-i)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o;},getURI:function getURI(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source;}},Lw.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]};},Lw.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t;};var Fw=function Fw(e,t,n){var r,o,i,a,u;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=Xt.trim(Pv.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=ba(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);i=(o=e).serializer.serialize(n,t),a=Cl(o),u=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+a+">[\r\n]*|<br \\/>[\r\n]*)$"),r=i.replace(u,"");}return"text"===t.format||ko(ar.fromDom(n))?t.content=r:t.content=Xt.trim(r),t.no_events||e.fire("GetContent",t),t.content;},Mw=function Mw(e,t){t(e),e.firstChild&&Mw(e.firstChild,t),e.next&&Mw(e.next,t);},zw=function zw(e,t,n){var r=function(e,n,t){var r={},o={},i=[];for(var a in t.firstChild&&Mw(t.firstChild,function(t){z(e,function(e){e.name===t.name&&(r[e.name]?r[e.name].nodes.push(t):r[e.name]={filter:e,nodes:[t]});}),z(n,function(e){"string"==typeof t.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(t):o[e.name]={filter:e,nodes:[t]});});}),r){r.hasOwnProperty(a)&&i.push(r[a]);}for(var a in o){o.hasOwnProperty(a)&&i.push(o[a]);}return i;}(e,t,n);z(r,function(t){z(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{});});});},Uw=function Uw(e){return e instanceof nb;},Vw=function Vw(e,t){var r;e.dom.setHTML(e.getBody(),t),rh(r=e)&&ic.firstPositionIn(r.getBody()).each(function(e){var t=e.getNode(),n=zo.isTable(t)?ic.firstPositionIn(t).getOr(e):e;r.selection.setRng(n.toRange());});},jw=function jw(u,s,c){return void 0===c&&(c={}),c.format=c.format?c.format:"html",c.set=!0,c.content=Uw(s)?"":s,Uw(s)||c.no_events||(u.fire("BeforeSetContent",c),s=c.content),_.from(u.getBody()).fold(q(s),function(e){return Uw(s)?function(e,t,n,r){zw(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=rl({validate:e.validate},e.schema).serialize(n);return r.content=ko(ar.fromDom(t))?o:Xt.trim(o),Vw(e,r.content),r.no_events||e.fire("SetContent",r),n;}(u,e,s,c):(t=u,n=e,o=c,0===(r=s).length||/^\s+$/.test(r)?(a='<br data-mce-bogus="1">',"TABLE"===n.nodeName?r="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(r="<li>"+a+"</li>"),(i=Cl(t))&&t.schema.isValidChild(n.nodeName.toLowerCase(),i.toLowerCase())?(r=a,r=t.dom.createHTML(i,t.settings.forced_root_block_attrs,r)):r||(r='<br data-mce-bogus="1">'),Vw(t,r),t.fire("SetContent",o)):("raw"!==o.format&&(r=rl({validate:t.validate},t.schema).serialize(t.parser.parse(r,{isRootContent:!0,insert:!0}))),o.content=ko(ar.fromDom(n))?r:Xt.trim(r),Vw(t,o.content),o.no_events||t.fire("SetContent",o)),o.content);var t,n,r,o,i,a;});},Hw=Ni.DOM,qw=function qw(e){return _.from(e).each(function(e){return e.destroy();});},$w=function $w(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Hw.remove(o.nextSibling),vp(e),e.editorManager.remove(e),!e.inline&&r&&(i=e,Hw.setStyle(i.id,"display",i.orgDisplay)),yp(e),Hw.remove(e.getContainer()),qw(t),qw(n),e.destroy();}var i;},Ww=function Ww(e,t){var n,r,o,i=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),qw(i),qw(a)),(r=(n=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),Hw.unbind(r,"submit reset",n.formEventDelegate)),(o=e).contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null),e.destroyed=!0):e.remove());},Kw=Ni.DOM,Xw=Xt.extend,Yw=Xt.each,Gw=Xt.resolve,Jw=fe.ie,Qw=function Qw(e,t,n){var r,o,i,a,u,s,c,l=this,f=l.documentBaseUrl=n.documentBaseURL,d=n.baseURI;r=l,o=e,i=f,a=n.defaultSettings,u=t,c={id:o,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:i,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(s=r).convertURL,url_converter_scope:s,ie7_compat:!0},t=Up(Bp,c,a,u),l.settings=t,Di.language=t.language||"en",Di.languageLoad=t.language_load,Di.baseURL=n.baseURL,l.id=e,l.setDirty(!1),l.plugins={},l.documentBaseURI=new Lw(t.document_base_url,{base_uri:d}),l.baseURI=d,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new Kp(l),l.loadedCSS={},l.editorCommands=new cp(l),l.suffix=n.suffix,l.editorManager=n,l.inline=t.inline,l.buttons={},l.menuItems={},t.cache_suffix&&(fe.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(fe.overrideViewPort=!1),n.fire("SetupEditor",{editor:l}),l.execCallback("setup",l),l.$=gn.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()};});};Xw(Qw.prototype={render:function render(){Rw(this);},focus:function focus(e){nh(this,e);},hasFocus:function hasFocus(){return rh(this);},execCallback:function execCallback(e){for(var t=[],n=1;n<arguments.length;n++){t[n-1]=arguments[n];}var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?Gw(r):0,o=Gw(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,Array.prototype.slice.call(arguments,1));},translate:function translate(e){if(e&&Xt.is(e,"string")){var n=this.settings.language||"en",r=this.editorManager.i18n;e=r.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return r.data[n+"."+t]||"{#"+t+"}";});}return this.editorManager.translate(e);},getLang:function getLang(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(t!==undefined?t:"{#"+e+"}");},getParam:function getParam(e,t,n){return jp(this,e,t,n);},nodeChanged:function nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e);},addButton:function addButton(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd);}),t.stateSelector&&"undefined"==typeof t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),t.tooltip=t.tooltip||t.title,n.buttons[e]=t;},addSidebar:function addSidebar(e,t){return Dw(this,e,t);},addMenuItem:function addMenuItem(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd);}),n.menuItems[e]=t;},addContextToolbar:function addContextToolbar(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function e(_e8){return r.dom.is(_e8,n);}),r.contextToolbars.push({id:Mh.uuid("mcet"),predicate:e,items:t});},addCommand:function addCommand(e,t,n){this.editorCommands.addCommand(e,t,n);},addQueryStateHandler:function addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n);},addQueryValueHandler:function addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n);},addShortcut:function addShortcut(e,t,n,r){this.shortcuts.add(e,t,n,r);},execCommand:function execCommand(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r);},queryCommandState:function queryCommandState(e){return this.editorCommands.queryCommandState(e);},queryCommandValue:function queryCommandValue(e){return this.editorCommands.queryCommandValue(e);},queryCommandSupported:function queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e);},show:function show(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(Kw.show(this.getContainer()),Kw.hide(this.id)),this.load(),this.fire("show"));},hide:function hide(){var e=this,t=e.getDoc();e.hidden||(Jw&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(Kw.hide(e.getContainer()),Kw.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"));},isHidden:function isHidden(){return!!this.hidden;},setProgressState:function setProgressState(e,t){this.fire("ProgressState",{state:e,time:t});},load:function load(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(n.value!==undefined?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0;},save:function save(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=Kw.getParent(r.id,"form"))&&Yw(n.elements,function(e){if(e.name===r.id)return e.value=t,!1;})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t;},setContent:function setContent(e,t){return jw(this,e,t);},getContent:function getContent(e){return t=this,void 0===(n=e)&&(n={}),_.from(t.getBody()).fold(q("tree"===n.format?new nb("body",11):""),function(e){return Fw(t,n,e);});var t,n;},insertContent:function insertContent(e,t){t&&(e=Xw({content:e},t)),this.execCommand("mceInsertContent",!1,e);},isDirty:function isDirty(){return!this.isNotDirty;},setDirty:function setDirty(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty");},setMode:function setMode(e){var t,n;(n=e)!==Sp(t=this)&&(t.initialized?Ep(t,"readonly"===n):t.on("init",function(){Ep(t,"readonly"===n);}),bp(t,n));},getContainer:function getContainer(){return this.container||(this.container=Kw.get(this.editorContainer||this.id+"_parent")),this.container;},getContentAreaContainer:function getContentAreaContainer(){return this.contentAreaContainer;},getElement:function getElement(){return this.targetElm||(this.targetElm=Kw.get(this.id)),this.targetElm;},getWin:function getWin(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow;},getDoc:function getDoc(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument;},getBody:function getBody(){var e=this.getDoc();return this.bodyElement||(e?e.body:null);},convertURL:function convertURL(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host);},addVisual:function addVisual(e){var n,r=this,o=r.settings,i=r.dom;e=e||r.getBody(),r.hasVisual===undefined&&(r.hasVisual=o.visual),Yw(i.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=o.visual_table_class||"mce-item-table",void((t=i.getAttrib(e,"border"))&&"0"!==t||!r.hasVisual?i.removeClass(e,n):i.addClass(e,n));case"A":return void(i.getAttrib(e,"href")||(t=i.getAttrib(e,"name")||e.id,n=o.visual_anchor_class||"mce-item-anchor",t&&r.hasVisual?i.addClass(e,n):i.removeClass(e,n)));}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual});},remove:function remove(){$w(this);},destroy:function destroy(e){Ww(this,e);},uploadImages:function uploadImages(e){return this.editorUpload.uploadImages(e);},_scanForImages:function _scanForImages(){return this.editorUpload.scanForImages();}},Dp);var Zw,eN,tN,nN={isEditorUIElement:function isEditorUIElement(e){return-1!==e.className.toString().indexOf("mce-");}},rN=function rN(n,e){var t,r;or.detect().browser.isIE()?(r=n).on("focusout",function(){Zg(r);}):(t=e,n.on("mouseup touchend",function(e){t.throttle();})),n.on("keyup nodechange",function(e){var t;"nodechange"===(t=e).type&&t.selectionChange||Zg(n);});},oN=function oN(e){var t,n,r,o=Ui(function(){Zg(e);},0);e.inline&&(t=e,n=o,r=function r(){n.throttle();},Ni.DOM.bind(j.document,"mouseup",r),t.on("remove",function(){Ni.DOM.unbind(j.document,"mouseup",r);})),e.on("init",function(){rN(e,o);}),e.on("remove",function(){o.cancel();});},iN=Ni.DOM,aN=function aN(e){return nN.isEditorUIElement(e);},uN=function uN(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==iN.getParent(e,function(e){return aN(e)||!!n&&t.dom.is(e,n);});},sN=function sN(r,e){var t=e.editor;oN(t),t.on("focusin",function(){var e=r.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),r.setActive(this),(r.focusedEditor=this).fire("focus",{blurredEditor:e}),this.focus(!0));}),t.on("focusout",function(){var t=this;he.setEditorTimeout(t,function(){var e=r.focusedEditor;uN(t,function(){try{return j.document.activeElement;}catch(e){return j.document.body;}}())||e!==t||(t.fire("blur",{focusedEditor:null}),r.focusedEditor=null);});}),Zw||(Zw=function Zw(e){var t,n=r.activeEditor;t=e.target,n&&t.ownerDocument===j.document&&(t===j.document.body||uN(n,t)||r.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),r.focusedEditor=null));},iN.bind(j.document,"focusin",Zw));},cN=function cN(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(iN.unbind(j.document,"focusin",Zw),Zw=null);},lN=function lN(e){e.on("AddEditor",d(sN,e)),e.on("RemoveEditor",d(cN,e));},fN=Ni.DOM,dN=Xt.explode,mN=Xt.each,gN=Xt.extend,pN=0,hN=!1,vN=[],yN=[],bN=function bN(t){var n=t.type;mN(tN.get(),function(e){switch(n){case"scroll":e.fire("ScrollWindow",t);break;case"resize":e.fire("ResizeWindow",t);}});},CN=function CN(e){e!==hN&&(e?gn(window).on("resize scroll",bN):gn(window).off("resize scroll",bN),hN=e);},xN=function xN(t){var e=yN;delete vN[t.id];for(var n=0;n<vN.length;n++){if(vN[n]===t){vN.splice(n,1);break;}}return yN=U(yN,function(e){return t!==e;}),tN.activeEditor===t&&(tN.activeEditor=0<yN.length?yN[0]:null),tN.focusedEditor===t&&(tN.focusedEditor=null),e.length!==yN.length;};gN(tN={defaultSettings:{},$:gn,majorVersion:"4",minorVersion:"9.8",releaseDate:"2020-01-28",editors:vN,i18n:hh,activeEditor:null,settings:{},setup:function setup(){var e,t,n,r,o="";if(t=Lw.getDocumentBaseUrl(j.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var i=j.document.getElementsByTagName("script"),a=0;a<i.length;a++){var u=(r=i[a].src).substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==u.indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/"));break;}}!e&&j.document.currentScript&&(-1!==(r=j.document.currentScript.src).indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/")));}this.baseURL=new Lw(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new Lw(this.baseURL),this.suffix=o,lN(this);},overrideDefaults:function overrideDefaults(e){var t,n;(t=e.base_url)&&(this.baseURL=new Lw(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Lw(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var r=(this.defaultSettings=e).plugin_base_urls;for(var o in r){Di.PluginManager.urls[o]=r[o];}},init:function init(r){var n,u,s=this;u=Xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var c=function c(e){var t=e.id;return t||(t=(t=e.name)&&!fN.get(t)?e.name:fN.uniqueId(),e.setAttribute("id",t)),t;},l=function l(e,t){return t.constructor===RegExp?t.test(e.className):fN.hasClass(e,t);},f=function f(e){n=e;},e=function e(){var o,i=0,a=[],n=function n(e,t,_n5){var r=new Qw(e,t,s);a.push(r),r.on("init",function(){++i===o.length&&f(a);}),r.targetElm=r.targetElm||_n5,r.render();};fN.unbind(window,"ready",e),function(e){var t=r[e];t&&t.apply(s,Array.prototype.slice.call(arguments,2));}("onpageload"),o=gn.unique(function(t){var e,n=[];if(fe.ie&&fe.ie<11)return wh.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return mN(t.types,function(e){n=n.concat(fN.select(e.selector));}),n;if(t.selector)return fN.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&mN(dN(e),function(t){var e;(e=fN.get(t))?n.push(e):mN(j.document.forms,function(e){mN(e.elements,function(e){e.name===t&&(t="mce_editor_"+pN++,fN.setAttrib(e,"id",t),n.push(e));});});});break;case"textareas":case"specific_textareas":mN(fN.select("textarea"),function(e){t.editor_deselector&&l(e,t.editor_deselector)||t.editor_selector&&!l(e,t.editor_selector)||n.push(e);});}return n;}(r)),r.types?mN(r.types,function(t){Xt.each(o,function(e){return!fN.is(e,t.selector)||(n(c(e),gN({},r,t),e),!1);});}):(Xt.each(o,function(e){var t;(t=s.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(xN(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null);}),0===(o=Xt.grep(o,function(e){return!s.get(e.id);})).length?f([]):mN(o,function(e){var t;t=e,r.inline&&t.tagName.toLowerCase()in u?wh.initError("Could not initialize inline editor on invalid inline target element",e):n(c(e),r,e);}));};return s.settings=r,fN.bind(window,"ready",e),new de(function(t){n?t(n):f=function f(e){t(e);};});},get:function get(t){return 0===arguments.length?yN.slice(0):S(t)?X(yN,function(e){return e.id===t;}).getOr(null):O(t)&&yN[t]?yN[t]:null;},add:function add(e){var t=this;return vN[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(vN[e.id]=e),vN.push(e),yN.push(e)),CN(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),eN||(eN=function eN(){t.fire("BeforeUnload");},fN.bind(window,"beforeunload",eN))),e;},createEditor:function createEditor(e,t){return this.add(new Qw(e,t,this));},remove:function remove(e){var t,n,r=this;if(e){if(!S(e))return n=e,A(r.get(n.id))?null:(xN(n)&&r.fire("RemoveEditor",{editor:n}),0===yN.length&&fN.unbind(window,"beforeunload",eN),n.remove(),CN(0<yN.length),n);mN(fN.select(e),function(e){(n=r.get(e.id))&&r.remove(n);});}else for(t=yN.length-1;0<=t;t--){r.remove(yN[t]);}},execCommand:function execCommand(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new Qw(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",0,n),!0;}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n);},triggerSave:function triggerSave(){mN(yN,function(e){e.save();});},addI18n:function addI18n(e,t){hh.add(e,t);},translate:function translate(e){return hh.translate(e);},setActive:function setActive(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e;}},gp),tN.setup();var wN,NN=tN;function EN(n){return{walk:function walk(e,t){return Bc(n,e,t);},split:Mm,normalize:function normalize(t){return Sg(n,t).fold(q(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0;});}};}(wN=EN||(EN={})).compareRanges=yg,wN.getCaretRangeFromPoint=Rb,wN.getSelectedNode=Ga,wN.getNode=Ja;var _SN,TN,kN=EN,_N=Math.min,AN=Math.max,RN=Math.round,DN=function DN(e,t,n){var r,o,i,a,u,s;return r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,s=t.h,"b"===(n=(n||"").split(""))[0]&&(o+=s),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=RN(s/2)),"c"===n[1]&&(r+=RN(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=RN(a/2)),"c"===n[4]&&(r-=RN(i/2)),ON(r,o,i,a);},ON=function ON(e,t,n,r){return{x:e,y:t,w:n,h:r};},BN={inflate:function inflate(e,t,n){return ON(e.x-t,e.y-n,e.w+2*t,e.h+2*n);},relativePosition:DN,findBestRelativePosition:function findBestRelativePosition(e,t,n,r){var o,i;for(i=0;i<r.length;i++){if((o=DN(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];}return null;},intersect:function intersect(e,t){var n,r,o,i;return n=AN(e.x,t.x),r=AN(e.y,t.y),o=_N(e.x+e.w,t.x+t.w),i=_N(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:ON(n,r,o-n,i-r);},clamp:function clamp(e,t,n){var r,o,i,a,u,s,c,l,f,d;return u=e.x,s=e.y,c=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=AN(0,t.x-u),o=AN(0,t.y-s),i=AN(0,c-f),a=AN(0,l-d),u+=r,s+=o,n&&(c+=r,l+=o,u-=i,s-=a),ON(u,s,(c-=i)-u,(l-=a)-s);},create:ON,fromClientRect:function fromClientRect(e){return ON(e.left,e.top,e.width,e.height);}},PN={},IN={add:function add(e,t){PN[e.toLowerCase()]=t;},has:function has(e){return!!PN[e.toLowerCase()];},get:function get(e){var t=e.toLowerCase(),n=PN.hasOwnProperty(t)?PN[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n;},create:function create(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=PN[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n;}},LN=Xt.each,FN=Xt.extend,MN=function MN(){};MN.extend=_SN=function SN(n){var e,t,r,o=this.prototype,i=function i(){var e,t,n;if(!TN&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;){(n=t[e]).init&&n.init.apply(this,arguments);}},a=function a(){return this;},u=function u(n,r){return function(){var e,t=this._super;return this._super=o[n],e=r.apply(this,arguments),this._super=t,e;};};for(t in TN=!0,e=new this(),TN=!1,n.Mixins&&(LN(n.Mixins,function(e){for(var t in e){"init"!==t&&(n[t]=e[t]);}}),o.Mixins&&(n.Mixins=o.Mixins.concat(n.Mixins))),n.Methods&&LN(n.Methods.split(","),function(e){n[e]=a;}),n.Properties&&LN(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return e!==undefined?(this[t]=e,this):this[t];};}),n.Statics&&LN(n.Statics,function(e,t){i[t]=e;}),n.Defaults&&o.Defaults&&(n.Defaults=FN({},o.Defaults,n.Defaults)),n){"function"==typeof(r=n[t])&&o[t]?e[t]=u(t,r):e[t]=r;}return i.prototype=e,(i.constructor=i).extend=_SN,i;};var zN=Math.min,UN=Math.max,VN=Math.round,jN=function jN(e,n){var r,o,t,i;if(n=n||'"',null===e)return"null";if("string"==(t=_typeof(e)))return o="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=o.indexOf(t))+1?"\\"+o.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e);})+n;if("object"===t){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(r=0,o="[";r<e.length;r++){o+=(0<r?",":"")+jN(e[r],n);}return o+"]";}for(i in o="{",e){e.hasOwnProperty(i)&&(o+="function"!=typeof e[i]?(1<o.length?","+n:n)+i+n+":"+jN(e[i],n):"");}return o+"}";}return""+e;},HN={serialize:jN,parse:function parse(e){try{return JSON.parse(e);}catch(t){}}},qN={callbacks:{},count:0,send:function send(t){var n=this,r=Ni.DOM,o=t.count!==undefined?t.count:n.count,i="tinymce_jsonp_"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e);},r.add(r.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),n.count++;}},$N={send:function send(e){var t,n=0,r=function r(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10);};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",$N.fire("beforeInitialize",{settings:e}),t=Sh()){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Xt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value);}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=$N.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10);}}};Xt.extend($N,gp);var WN,KN,XN,YN,GN=Xt.extend,JN=function JN(e){this.settings=GN({},e),this.count=0;};JN.sendRPC=function(e){return new JN().send(e);},JN.prototype={send:function send(n){var r=n.error,o=n.success;(n=GN(this.settings,n)).success=function(e,t){void 0===(e=HN.parse(e))&&(e={error:"JSON Parse error."}),e.error?r.call(n.error_scope||n.scope,e.error,t):o.call(n.success_scope||n.scope,e.result);},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t);},n.data=HN.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",$N.send(n);}};try{WN=j.window.localStorage;}catch(nE){KN={},XN=[],YN={getItem:function getItem(e){var t=KN[e];return t||null;},setItem:function setItem(e,t){XN.push(e),KN[e]=String(t);},key:function key(e){return XN[e];},removeItem:function removeItem(t){XN=XN.filter(function(e){return e===t;}),delete KN[t];},clear:function clear(){XN=[],KN={};},length:0},Object.defineProperty(YN,"length",{get:function get(){return XN.length;},configurable:!1,enumerable:!1}),WN=YN;}var QN,ZN=NN,eE={geom:{Rect:BN},util:{Promise:de,Delay:he,Tools:Xt,VK:Ev,URI:Lw,Class:MN,EventDispatcher:fp,Observable:gp,I18n:hh,XHR:$N,JSON:HN,JSONRequest:JN,JSONP:qN,LocalStorage:WN,Color:function Color(e){var n={},u=0,s=0,c=0,t=function t(e){var t;return"object"==_typeof(e)?"r"in e?(u=e.r,s=e.g,c=e.b):"v"in e&&function(e,t,n){var r,o,i,a;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=UN(0,zN(t,1)),n=UN(0,zN(n,1)),0!==t){switch(r=e/60,i=(o=n*t)*(1-Math.abs(r%2-1)),a=n-o,Math.floor(r)){case 0:u=o,s=i,c=0;break;case 1:u=i,s=o,c=0;break;case 2:u=0,s=o,c=i;break;case 3:u=0,s=i,c=o;break;case 4:u=i,s=0,c=o;break;case 5:u=o,s=0,c=i;break;default:u=s=c=0;}u=VN(255*(u+a)),s=VN(255*(s+a)),c=VN(255*(c+a));}else u=s=c=VN(255*n);}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(u=parseInt(t[1],10),s=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(u=parseInt(t[1],16),s=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(u=parseInt(t[1]+t[1],16),s=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),u=u<0?0:255<u?255:u,s=s<0?0:255<s?255:s,c=c<0?0:255<c?255:c,n;};return e&&t(e),n.toRgb=function(){return{r:u,g:s,b:c};},n.toHsv=function(){return e=u,t=s,n=c,o=0,(i=zN(e/=255,zN(t/=255,n/=255)))===(a=UN(e,UN(t,n)))?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,{h:VN(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((o=a)-i))),s:VN(100*r),v:VN(100*o)});var e,t,n,r,o,i,a;},n.toHex=function(){var e=function e(_e9){return 1<(_e9=parseInt(_e9,10).toString(16)).length?_e9:"0"+_e9;};return"#"+e(u)+e(s)+e(c);},n.parse=t,n;}},dom:{EventUtils:Se,Sizzle:St,DomQuery:gn,TreeWalker:fo,DOMUtils:Ni,ScriptLoader:_i,RangeUtils:kN,Serializer:yb,ControlSelection:Sb,BookmarkManager:wb,Selection:oC,Event:Se.Event},html:{Styles:di,Entities:Zo,Node:nb,Schema:li,SaxParser:Ov,DomParser:mb,Writer:nl,Serializer:rl},ui:{Factory:IN},Env:fe,AddOnManager:Di,Annotator:Uc,Formatter:qy,UndoManager:Jv,EditorCommands:cp,WindowManager:mh,NotificationManager:dh,EditorObservable:Dp,Shortcuts:Kp,Editor:Qw,FocusManager:nN,EditorManager:NN,DOM:Ni.DOM,ScriptLoader:_i.ScriptLoader,PluginManager:Di.PluginManager,ThemeManager:Di.ThemeManager,trim:Xt.trim,isArray:Xt.isArray,is:Xt.is,toArray:Xt.toArray,makeMap:Xt.makeMap,each:Xt.each,map:Xt.map,grep:Xt.grep,inArray:Xt.inArray,extend:Xt.extend,create:Xt.create,walk:Xt.walk,createNS:Xt.createNS,resolve:Xt.resolve,explode:Xt.explode,_addCacheSuffix:Xt._addCacheSuffix,isOpera:fe.opera,isWebKit:fe.webkit,isIE:fe.ie,isGecko:fe.gecko,isMac:fe.mac},tE=ZN=Xt.extend(ZN,eE);QN=tE,window.tinymce=QN,window.tinyMCE=QN,function(e){if("object"==( false?undefined:_typeof(module)))try{module.exports=e;}catch(t){}}(tE);}(window);!function(u){"use strict";var e,n,t,r,o,i,s,a,c,f=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),l=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),m=tinymce.util.Tools.resolve("tinymce.util.VK"),p=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),v=tinymce.util.Tools.resolve("tinymce.util.Tools"),g=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),h=function h(e){return e&&"BR"===e.nodeName;},y=function y(e){return e&&3===e.nodeType;},N=function N(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName);},S=function S(e){return e&&/^(OL|UL)$/.test(e.nodeName);},C=function C(e){return e&&/^(DT|DD)$/.test(e.nodeName);},O=function O(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName);},b=function b(e){return e&&/^(TH|TD)$/.test(e.nodeName);},T=h,E=function E(e,n){return n&&!!e.schema.getTextBlockElements()[n.nodeName];},L=function L(e,n){return e&&e.nodeName in n;},D=function D(e,n){return!!h(n)&&!(!e.isBlock(n.nextSibling)||h(n.previousSibling));},w=function w(e,n,t){var r=e.isEmpty(n);return!(t&&0<e.select("span[data-mce-type=bookmark]",n).length)&&r;},k=function k(e,n){return e.isChildOf(n,e.getRoot());},A=function A(e,n){if(y(e))return{container:e,offset:n};var t=d.getNode(e,n);return y(t)?{container:t,offset:n>=e.childNodes.length?t.data.length:0}:t.previousSibling&&y(t.previousSibling)?{container:t.previousSibling,offset:t.previousSibling.data.length}:t.nextSibling&&y(t.nextSibling)?{container:t.nextSibling,offset:0}:{container:e,offset:n};},x=function x(e){var n=e.cloneRange(),t=A(e.startContainer,e.startOffset);n.setStart(t.container,t.offset);var r=A(e.endContainer,e.endOffset);return n.setEnd(r.container,r.offset),n;},R=g.DOM,I=function I(o){var i={},e=function e(_e10){var n,t,r;t=o[_e10?"startContainer":"endContainer"],r=o[_e10?"startOffset":"endOffset"],1===t.nodeType&&(n=R.create("span",{"data-mce-type":"bookmark"}),t.hasChildNodes()?(r=Math.min(r,t.childNodes.length-1),_e10?t.insertBefore(n,t.childNodes[r]):R.insertAfter(n,t.childNodes[r])):t.appendChild(n),t=n,r=0),i[_e10?"startContainer":"endContainer"]=t,i[_e10?"startOffset":"endOffset"]=r;};return e(!0),o.collapsed||e(),i;},_=function _(o){function e(e){var n,t,r;n=r=o[e?"startContainer":"endContainer"],t=o[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(t=function(e){for(var n=e.parentNode.firstChild,t=0;n;){if(n===e)return t;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||t++,n=n.nextSibling;}return-1;}(n),n=n.parentNode,R.remove(r),!n.hasChildNodes()&&R.isBlock(n)&&n.appendChild(R.create("br"))),o[e?"startContainer":"endContainer"]=n,o[e?"startOffset":"endOffset"]=t);}e(!0),e();var n=R.createRng();return n.setStart(o.startContainer,o.startOffset),o.endContainer&&n.setEnd(o.endContainer,o.endOffset),x(n);},B=function B(){},P=function P(e){return function(){return e;};},M=function M(t){return function(){for(var e=[],n=0;n<arguments.length;n++){e[n]=arguments[n];}return!t.apply(null,e);};},U=P(!1),F=P(!0),j=function j(){return H;},H=(e=function e(_e11){return _e11.isNone();},r={fold:function fold(e,n){return e();},is:U,isSome:U,isNone:F,getOr:t=function t(e){return e;},getOrThunk:n=function n(e){return e();},getOrDie:function getOrDie(e){throw new Error(e||"error: getOrDie called on none.");},getOrNull:P(null),getOrUndefined:P(undefined),or:t,orThunk:n,map:j,each:B,bind:j,exists:U,forall:F,filter:j,equals:e,equals_:e,toArray:function toArray(){return[];},toString:P("none()")},Object.freeze&&Object.freeze(r),r),$=function $(t){var e=P(t),n=function n(){return o;},r=function r(e){return e(t);},o={fold:function fold(e,n){return n(t);},is:function is(e){return t===e;},isSome:F,isNone:U,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function map(e){return $(e(t));},each:function each(e){e(t);},bind:r,exists:r,forall:r,filter:function filter(e){return e(t)?o:H;},toArray:function toArray(){return[t];},toString:function toString(){return"some("+t+")";},equals:function equals(e){return e.is(t);},equals_:function equals_(e,n){return e.fold(U,function(e){return n(t,e);});}};return o;},q={some:$,none:j,from:function from(e){return null===e||e===undefined?H:$(e);}},W=function W(n){return function(e){return function(e){if(null===e)return"null";var n=_typeof(e);return"object"===n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":n;}(e)===n;};},V=W("string"),z=W("array"),K=W("boolean"),X=W("function"),Q=W("number"),Y=Array.prototype.slice,G=Array.prototype.push,J=function J(e,n){for(var t=e.length,r=new Array(t),o=0;o<t;o++){var i=e[o];r[o]=n(i,o);}return r;},Z=function Z(e,n){for(var t=0,r=e.length;t<r;t++){n(e[t],t);}},ee=function ee(e,n){for(var t=[],r=0,o=e.length;r<o;r++){var i=e[r];n(i,r)&&t.push(i);}return t;},ne=function ne(e,n,t){return Z(e,function(e){t=n(t,e);}),t;},te=function te(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];if(n(o,t))return q.some(o);}return q.none();},re=function re(e,n){return function(e){for(var n=[],t=0,r=e.length;t<r;++t){if(!z(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);G.apply(n,e[t]);}return n;}(J(e,n));},oe=function oe(e){return 0===e.length?q.none():q.some(e[0]);},ie=function ie(e){return 0===e.length?q.none():q.some(e[e.length-1]);},ue=(X(Array.from)&&Array.from,"undefined"!=typeof u.window?u.window:Function("return this;")()),se=function se(e,n){return function(e,n){for(var t=n!==undefined&&null!==n?n:ue,r=0;r<e.length&&t!==undefined&&null!==t;++r){t=t[e[r]];}return t;}(e.split("."),n);},ae=function ae(e,n){var t=se(e,n);if(t===undefined||null===t)throw new Error(e+" not available on this browser");return t;},ce=function ce(e){var n,t=se("ownerDocument.defaultView",e);return(n=t,ae("HTMLElement",n)).prototype.isPrototypeOf(e);},fe=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),de=function de(e){var n=e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",me(e,n));},le=function le(e){var t,n,r,o=e.selection.getSelectedBlocks();return v.grep((t=e,n=o,r=v.map(n,function(e){var n=t.dom.getParent(e,"li,dd,dt",me(t,e));return n||e;}),fe.unique(r)),function(e){return O(e);});},me=function me(e,n){var t=e.dom.getParents(n,"TD,TH");return 0<t.length?t[0]:e.getBody();},ge=function ge(e,n){var t=e.dom.getParents(n,"ol,ul",me(e,n));return ie(t);},pe=function pe(n,e){var t=J(e,function(e){return ge(n,e).getOr(e);});return fe.unique(t);},ve={isList:function isList(e){var n=de(e);return ce(n);},getParentList:de,getSelectedSubLists:function getSelectedSubLists(e){var n,t,r,o=de(e),i=e.selection.getSelectedBlocks();return r=i,(t=o)&&1===r.length&&r[0]===t?(n=o,v.grep(n.querySelectorAll("ol,ul,dl"),function(e){return N(e);})):v.grep(i,function(e){return N(e)&&o!==e;});},getSelectedListItems:le,getClosestListRootElm:me,getSelectedDlItems:function getSelectedDlItems(e){return ee(le(e),C);},getSelectedListRoots:function getSelectedListRoots(e){var n,t,r,o=(t=ge(n=e,n.selection.getStart()),r=ee(n.selection.getSelectedBlocks(),S),t.toArray().concat(r));return pe(e,o);}},he=function he(e){if(null===e||e===undefined)throw new Error("Node cannot be null or undefined");return{dom:P(e)};},ye={fromHtml:function fromHtml(e,n){var t=(n||u.document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw u.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return he(t.childNodes[0]);},fromTag:function fromTag(e,n){var t=(n||u.document).createElement(e);return he(t);},fromText:function fromText(e,n){var t=(n||u.document).createTextNode(e);return he(t);},fromDom:he,fromPoint:function fromPoint(e,n,t){var r=e.dom();return q.from(r.elementFromPoint(n,t)).map(he);}},Ne=function Ne(e,n,t){return e.isSome()&&n.isSome()?q.some(t(e.getOrDie(),n.getOrDie())):q.none();},Se=Object.keys,Ce=function Ce(){return ae("Node");},Oe=function Oe(e,n,t){return 0!=(e.compareDocumentPosition(n)&t);},be=function be(e,n){return Oe(e,n,Ce().DOCUMENT_POSITION_CONTAINED_BY);},Te=function Te(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.test(n))return r;}return undefined;}(e,n);if(!t)return{major:0,minor:0};var r=function r(e){return Number(n.replace(t,"$"+e));};return Le(r(1),r(2));},Ee=function Ee(){return Le(0,0);},Le=function Le(e,n){return{major:e,minor:n};},De={nu:Le,detect:function detect(e,n){var t=String(n).toLowerCase();return 0===e.length?Ee():Te(e,t);},unknown:Ee},we="Firefox",ke=function ke(e,n){return function(){return n===e;};},Ae=function Ae(e){var n=e.current;return{current:n,version:e.version,isEdge:ke("Edge",n),isChrome:ke("Chrome",n),isIE:ke("IE",n),isOpera:ke("Opera",n),isFirefox:ke(we,n),isSafari:ke("Safari",n)};},xe={unknown:function unknown(){return Ae({current:undefined,version:De.unknown()});},nu:Ae,edge:P("Edge"),chrome:P("Chrome"),ie:P("IE"),opera:P("Opera"),firefox:P(we),safari:P("Safari")},Re="Windows",Ie="Android",_e="Solaris",Be="FreeBSD",Pe=function Pe(e,n){return function(){return n===e;};},Me=function Me(e){var n=e.current;return{current:n,version:e.version,isWindows:Pe(Re,n),isiOS:Pe("iOS",n),isAndroid:Pe(Ie,n),isOSX:Pe("OSX",n),isLinux:Pe("Linux",n),isSolaris:Pe(_e,n),isFreeBSD:Pe(Be,n)};},Ue={unknown:function unknown(){return Me({current:undefined,version:De.unknown()});},nu:Me,windows:P(Re),ios:P("iOS"),android:P(Ie),linux:P("Linux"),osx:P("OSX"),solaris:P(_e),freebsd:P(Be)},Fe=function Fe(e,n){var t=String(n).toLowerCase();return te(e,function(e){return e.search(t);});},je=function je(e,t){return Fe(e,t).map(function(e){var n=De.detect(e.versionRegexes,t);return{current:e.name,version:n};});},He=function He(e,t){return Fe(e,t).map(function(e){var n=De.detect(e.versionRegexes,t);return{current:e.name,version:n};});},$e=function $e(e,n){return-1!==e.indexOf(n);},qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,We=function We(n){return function(e){return $e(e,n);};},Ve=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function search(e){return $e(e,"edge/")&&$e(e,"chrome")&&$e(e,"safari")&&$e(e,"applewebkit");}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,qe],search:function search(e){return $e(e,"chrome")&&!$e(e,"chromeframe");}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function search(e){return $e(e,"msie")||$e(e,"trident");}},{name:"Opera",versionRegexes:[qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:We("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:We("firefox")},{name:"Safari",versionRegexes:[qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function search(e){return($e(e,"safari")||$e(e,"mobile/"))&&$e(e,"applewebkit");}}],ze=[{name:"Windows",search:We("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function search(e){return $e(e,"iphone")||$e(e,"ipad");},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:We("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:We("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:We("linux"),versionRegexes:[]},{name:"Solaris",search:We("sunos"),versionRegexes:[]},{name:"FreeBSD",search:We("freebsd"),versionRegexes:[]}],Ke={browsers:P(Ve),oses:P(ze)},Xe=function Xe(e){var n,t,r,o,i,u,s,a,c,f,d,l=Ke.browsers(),m=Ke.oses(),g=je(l,e).fold(xe.unknown,xe.nu),p=He(m,e).fold(Ue.unknown,Ue.nu);return{browser:g,os:p,deviceType:(t=g,r=e,o=(n=p).isiOS()&&!0===/ipad/i.test(r),i=n.isiOS()&&!o,u=n.isAndroid()&&3===n.version.major,s=n.isAndroid()&&4===n.version.major,a=o||u||s&&!0===/mobile/i.test(r),c=n.isiOS()||n.isAndroid(),f=c&&!a,d=t.isSafari()&&n.isiOS()&&!1===/safari/i.test(r),{isiPad:P(o),isiPhone:P(i),isTablet:P(a),isPhone:P(f),isTouch:P(c),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:P(d)})};},Qe={detect:(o=function o(){var e=u.navigator.userAgent;return Xe(e);},s=!1,function(){for(var e=[],n=0;n<arguments.length;n++){e[n]=arguments[n];}return s||(s=!0,i=o.apply(null,e)),i;})},Ye=(u.Node.ATTRIBUTE_NODE,u.Node.CDATA_SECTION_NODE,u.Node.COMMENT_NODE,u.Node.DOCUMENT_NODE,u.Node.DOCUMENT_TYPE_NODE,u.Node.DOCUMENT_FRAGMENT_NODE,u.Node.ELEMENT_NODE),Ge=(u.Node.TEXT_NODE,u.Node.PROCESSING_INSTRUCTION_NODE,u.Node.ENTITY_REFERENCE_NODE,u.Node.ENTITY_NODE,u.Node.NOTATION_NODE,Ye),Je=function Je(e,n){return e.dom()===n.dom();},Ze=Qe.detect().browser.isIE()?function(e,n){return be(e.dom(),n.dom());}:function(e,n){var t=e.dom(),r=n.dom();return t!==r&&t.contains(r);},en=function en(e,n){var t=e.dom();if(t.nodeType!==Ge)return!1;var r=t;if(r.matches!==undefined)return r.matches(n);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors");},nn=function nn(e){return q.from(e.dom().parentNode).map(ye.fromDom);},tn=function tn(e){return J(e.dom().childNodes,ye.fromDom);},rn=function rn(e,n){var t=e.dom().childNodes;return q.from(t[n]).map(ye.fromDom);},on=function on(e){return rn(e,0);},un=function un(e){return rn(e,e.dom().childNodes.length-1);},sn=(function(){for(var e=[],n=0;n<arguments.length;n++){e[n]=arguments[n];}}("element","offset"),function(n,t){nn(n).each(function(e){e.dom().insertBefore(t.dom(),n.dom());});}),an=function an(e,n){e.dom().appendChild(n.dom());},cn=function cn(n,e){Z(e,function(e){an(n,e);});},fn=function fn(e){var n=e.dom();null!==n.parentNode&&n.parentNode.removeChild(n);},dn=function dn(e){return e.dom().nodeName.toLowerCase();},ln=(a=Ye,function(e){return e.dom().nodeType===a;}),mn=function mn(e,n){var t=e.dom();!function(e,n){for(var t=Se(e),r=0,o=t.length;r<o;r++){var i=t[r];n(e[i],i);}}(n,function(e,n){!function(e,n,t){if(!(V(t)||K(t)||Q(t)))throw u.console.error("Invalid call to Attr.set. Key ",n,":: Value ",t,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,t+"");}(t,n,e);});},gn=function gn(e){return ne(e.dom().attributes,function(e,n){return e[n.name]=n.value,e;},{});},pn=function pn(e,n,t){if(!V(t))throw u.console.error("Invalid call to CSS.set. Property ",n,":: Value ",t,":: Element ",e),new Error("CSS value must be a string: "+t);var r;(r=e).style!==undefined&&X(r.style.getPropertyValue)&&e.style.setProperty(n,t);},vn=function vn(e){return n=e,t=!0,ye.fromDom(n.dom().cloneNode(t));var n,t;},hn=function hn(e,n){var t,r,o,i,u=(t=e,r=n,o=ye.fromTag(r),i=gn(t),mn(o,i),o);sn(e,u);var s=tn(e);return cn(u,s),fn(e),u;},yn=function yn(e,n){an(e.item,n.list);},Nn=function Nn(f,e,d){var n=e.slice(0,d.depth);return ie(n).each(function(e){var n,t,r,o,i,u,s,a,c=(n=f,t=d.itemAttributes,r=d.content,o=ye.fromTag("li",n),mn(o,t),cn(o,r),o);u=c,an((i=e).list,u),i.item=u,a=d,dn((s=e).list)!==a.listType&&(s.list=hn(s.list,a.listType)),mn(s.list,a.listAttributes);}),n;},Sn=function Sn(e,n,t){var r,o=function(e,n,t){for(var r,o,i,u=[],s=0;s<t;s++){u.push((r=e,o=n.listType,i={list:ye.fromTag(o,r),item:ye.fromTag("li",r)},an(i.list,i.item),i));}return u;}(e,t,t.depth-n.length);return function(e){for(var n=1;n<e.length;n++){yn(e[n-1],e[n]);}}(o),function(e,n){for(var t=0;t<e.length-1;t++){r=e[t].item,o="list-style-type",i="none",u=r.dom(),pn(u,o,i);}var r,o,i,u;ie(e).each(function(e){mn(e.list,n.listAttributes),mn(e.item,n.itemAttributes),cn(e.item,n.content);});}(o,t),r=o,Ne(ie(n),oe(r),yn),n.concat(o);},Cn=function Cn(e){return en(e,"OL,UL");},On=function On(e){return on(e).map(Cn).getOr(!1);},bn=function bn(e){return 0<e.depth;},Tn=function Tn(e){return e.isSelected;},En=function En(e){var n=tn(e),t=un(e).map(Cn).getOr(!1)?n.slice(0,-1):n;return J(t,vn);},Ln=Object.prototype.hasOwnProperty,Dn=(c=function c(e,n){return n;},function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++){e[n]=arguments[n];}if(0===e.length)throw new Error("Can't merge zero objects");for(var t={},r=0;r<e.length;r++){var o=e[r];for(var i in o){Ln.call(o,i)&&(t[i]=c(t[i],o[i]));}}return t;}),wn=function wn(n){Z(n,function(r,e){(function(e,n){for(var t=e[n].depth,r=n-1;0<=r;r--){if(e[r].depth===t)return q.some(e[r]);if(e[r].depth<t)break;}return q.none();})(n,e).each(function(e){var n,t;t=e,(n=r).listType=t.listType,n.listAttributes=Dn({},t.listAttributes);});});},kn=function kn(e){var n=e,t=function t(){return n;};return{get:t,set:function set(e){n=e;},clone:function clone(){return kn(t());}};},An=function An(i,u,s,a){return on(a).filter(Cn).fold(function(){u.each(function(e){Je(e.start,a)&&s.set(!0);});var n,t,r,e=(n=a,t=i,r=s.get(),nn(n).filter(ln).map(function(e){return{depth:t,isSelected:r,content:En(n),itemAttributes:gn(n),listAttributes:gn(e),listType:dn(e)};}));u.each(function(e){Je(e.end,a)&&s.set(!1);});var o=un(a).filter(Cn).map(function(e){return xn(i,u,s,e);}).getOr([]);return e.toArray().concat(o);},function(e){return xn(i,u,s,e);});},xn=function xn(n,t,r,e){return re(tn(e),function(e){return(Cn(e)?xn:An)(n+1,t,r,e);});},Rn=tinymce.util.Tools.resolve("tinymce.Env"),In=function In(e,n){var t,r,o,i,u=e.dom,s=e.schema.getBlockElements(),a=u.createFragment();if(e.settings.forced_root_block&&(o=e.settings.forced_root_block),o&&((r=u.create(o)).tagName===e.settings.forced_root_block&&u.setAttribs(r,e.settings.forced_root_block_attrs),L(n.firstChild,s)||a.appendChild(r)),n)for(;t=n.firstChild;){var c=t.nodeName;i||"SPAN"===c&&"bookmark"===t.getAttribute("data-mce-type")||(i=!0),L(t,s)?(a.appendChild(t),r=null):o?(r||(r=u.create(o),a.appendChild(r)),r.appendChild(t)):a.appendChild(t);}return e.settings.forced_root_block?i||Rn.ie&&!(10<Rn.ie)||r.appendChild(u.create("br",{"data-mce-bogus":"1"})):a.appendChild(u.create("br")),a;},_n=function _n(i,e){return J(e,function(e){var n,t,r,o=(n=e.content,r=(t||u.document).createDocumentFragment(),Z(n,function(e){r.appendChild(e.dom());}),ye.fromDom(r));return ye.fromDom(In(i,o.dom()));});},Bn=function Bn(e,n){return wn(n),(t=e.contentDocument,r=n,o=ne(r,function(e,n){return n.depth>e.length?Sn(t,e,n):Nn(t,e,n);},[]),oe(o).map(function(e){return e.list;})).toArray();var t,r,o;},Pn=function Pn(e){var n,t,r=J(ve.getSelectedListItems(e),ye.fromDom);return Ne(te(r,M(On)),te((n=r,(t=Y.call(n,0)).reverse(),t),M(On)),function(e,n){return{start:e,end:n};});},Mn=function Mn(s,e,a){var n,t,r,o=(n=e,t=Pn(s),r=kn(!1),J(n,function(e){return{sourceList:e,entries:xn(0,t,r,e)};}));Z(o,function(e){var n,t,r,o,i,u;n=e.entries,t=a,Z(ee(n,Tn),function(e){return function(e,n){switch(e){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0;}}(t,e);}),r=e.sourceList,i=s,u=e.entries,o=re(function(e,n){if(0===e.length)return[];for(var t=n(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var s=e[i],a=n(s);a!==t&&(r.push(o),o=[]),t=a,o.push(s);}return 0!==o.length&&r.push(o),r;}(u,bn),function(e){return oe(e).map(bn).getOr(!1)?Bn(i,e):_n(i,e);}),Z(o,function(e){sn(r,e);}),fn(e.sourceList);});},Un=g.DOM,Fn=function Fn(e,n,t){var r,o,i,u,s,a;for(i=Un.select('span[data-mce-type="bookmark"]',n),s=In(e,t),(r=Un.createRng()).setStartAfter(t),r.setEndAfter(n),u=(o=r.extractContents()).firstChild;u;u=u.firstChild){if("LI"===u.nodeName&&e.dom.isEmpty(u)){Un.remove(u);break;}}e.dom.isEmpty(o)||Un.insertAfter(o,n),Un.insertAfter(s,n),w(e.dom,t.parentNode)&&(a=t.parentNode,v.each(i,function(e){a.parentNode.insertBefore(e,t.parentNode);}),Un.remove(a)),Un.remove(t),w(e.dom,n)&&Un.remove(n);},jn=function jn(e){en(e,"dt")&&hn(e,"dd");},Hn=function Hn(r,e,n){Z(n,"Indent"===e?jn:function(e){return n=r,void(en(t=e,"dd")?hn(t,"dt"):en(t,"dt")&&nn(t).each(function(e){return Fn(n,e.dom(),t.dom());}));var n,t;});},$n=function $n(e,n){var t=J(ve.getSelectedListRoots(e),ye.fromDom),r=J(ve.getSelectedDlItems(e),ye.fromDom),o=!1;if(t.length||r.length){var i=e.selection.getBookmark();Mn(e,t,n),Hn(e,n,r),e.selection.moveToBookmark(i),e.selection.setRng(x(e.selection.getRng())),e.nodeChanged(),o=!0;}return o;},qn=function qn(e){return $n(e,"Indent");},Wn=function Wn(e){return $n(e,"Outdent");},Vn=function Vn(e){return $n(e,"Flatten");},zn=function zn(t,e){v.each(e,function(e,n){t.setAttribute(n,e);});},Kn=function Kn(e,n,t){var r,o,i,u,s,a,c;r=e,o=n,u=(i=t)["list-style-type"]?i["list-style-type"]:null,r.setStyle(o,"list-style-type",u),s=e,zn(a=n,(c=t)["list-attributes"]),v.each(s.select("li",a),function(e){zn(e,c["list-item-attributes"]);});},Xn=function Xn(e,n,t,r){var o,i;for(o=n[t?"startContainer":"endContainer"],i=n[t?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!t&&T(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(E(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode;}return o;},Qn=function Qn(f,d,l){void 0===l&&(l={});var e,n=f.selection.getRng(!0),m="LI",t=ve.getClosestListRootElm(f,f.selection.getStart(!0)),g=f.dom;"false"!==g.getContentEditable(f.selection.getNode())&&("DL"===(d=d.toUpperCase())&&(m="DT"),e=I(n),v.each(function(t,e,r){for(var o,i=[],u=t.dom,n=Xn(t,e,!0,r),s=Xn(t,e,!1,r),a=[],c=n;c&&(a.push(c),c!==s);c=c.nextSibling){;}return v.each(a,function(e){if(E(t,e))return i.push(e),void(o=null);if(u.isBlock(e)||T(e))return T(e)&&u.remove(e),void(o=null);var n=e.nextSibling;p.isBookmarkNode(e)&&(E(t,n)||!n&&e.parentNode===r)?o=null:(o||(o=u.create("p"),e.parentNode.insertBefore(o,e),i.push(o)),o.appendChild(e));}),i;}(f,n,t),function(e){var n,t,r,o,i,u,s,a,c;(t=e.previousSibling)&&N(t)&&t.nodeName===d&&(r=t,o=l,i=g.getStyle(r,"list-style-type"),u=o?o["list-style-type"]:"",i===(u=null===u?"":u))?(n=t,e=g.rename(e,m),t.appendChild(e)):(n=g.create(d),e.parentNode.insertBefore(n,e),n.appendChild(e),e=g.rename(e,m)),s=g,a=e,c=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],v.each(c,function(e){var n;return s.setStyle(a,((n={})[e]="",n));}),Kn(g,n,l),Gn(f.dom,n);}),f.selection.setRng(_(e)));},Yn=function Yn(e,n,t){return a=t,(s=n)&&a&&N(s)&&s.nodeName===a.nodeName&&(i=n,u=t,(o=e).getStyle(i,"list-style-type",!0)===o.getStyle(u,"list-style-type",!0))&&(r=t,n.className===r.className);var r,o,i,u,s,a;},Gn=function Gn(e,n){var t,r;if(t=n.nextSibling,Yn(e,n,t)){for(;r=t.firstChild;){n.appendChild(r);}e.remove(t);}if(t=n.previousSibling,Yn(e,n,t)){for(;r=t.lastChild;){n.insertBefore(r,n.firstChild);}e.remove(t);}},Jn=function Jn(n,e,t,r,o){if(e.nodeName!==r||Zn(o)){var i=I(n.selection.getRng(!0));v.each([e].concat(t),function(e){!function(e,n,t,r){if(n.nodeName!==t){var o=e.rename(n,t);Kn(e,o,r);}else Kn(e,n,r);}(n.dom,e,r,o);}),n.selection.setRng(_(i));}else Vn(n);},Zn=function Zn(e){return"list-style-type"in e;},et={toggleList:function toggleList(e,n,t){var r=ve.getParentList(e),o=ve.getSelectedSubLists(e);t=t||{},r&&0<o.length?Jn(e,r,o,n,t):function(e,n,t,r){if(n!==e.getBody())if(n){if(n.nodeName!==t||Zn(r)){var o=I(e.selection.getRng(!0));Kn(e.dom,n,r),Gn(e.dom,e.dom.rename(n,t)),e.selection.setRng(_(o));}else Vn(e);}else Qn(e,t,r);}(e,r,n,t);},mergeWithAdjacentLists:Gn},nt=g.DOM,tt=function tt(e,n){var t,r=n.parentNode;"LI"===r.nodeName&&r.firstChild===n&&((t=r.previousSibling)&&"LI"===t.nodeName?(t.appendChild(n),w(e,r)&&nt.remove(r)):nt.setStyle(r,"listStyleType","none")),N(r)&&(t=r.previousSibling)&&"LI"===t.nodeName&&t.appendChild(n);},rt=function rt(n,e){v.each(v.grep(n.select("ol,ul",e)),function(e){tt(n,e);});},ot=function ot(e,n,t,r){var o,i,u=n.startContainer,s=n.startOffset;if(3===u.nodeType&&(t?s<u.data.length:0<s))return u;for(o=e.schema.getNonEmptyElements(),1===u.nodeType&&(u=d.getNode(u,s)),i=new l(u,r),t&&D(e.dom,u)&&i.next();u=i[t?"next":"prev2"]();){if("LI"===u.nodeName&&!u.hasChildNodes())return u;if(o[u.nodeName])return u;if(3===u.nodeType&&0<u.data.length)return u;}},it=function it(e,n){var t=n.childNodes;return 1===t.length&&!N(t[0])&&e.isBlock(t[0]);},ut=function ut(e,n,t){var r,o,i,u;if(o=it(e,t)?t.firstChild:t,it(i=e,u=n)&&i.remove(u.firstChild,!0),!w(e,n,!0))for(;r=n.firstChild;){o.appendChild(r);}},st=function st(n,e,t){var r,o,i=e.parentNode;if(k(n,e)&&k(n,t)){N(t.lastChild)&&(o=t.lastChild),i===t.lastChild&&T(i.previousSibling)&&n.remove(i.previousSibling),(r=t.lastChild)&&T(r)&&e.hasChildNodes()&&n.remove(r),w(n,t,!0)&&n.$(t).empty(),ut(n,e,t),o&&t.appendChild(o);var u=Ze(ye.fromDom(t),ye.fromDom(e))?n.getParents(e,N,t):[];n.remove(e),Z(u,function(e){w(n,e)&&e!==n.getRoot()&&n.remove(e);});}},at=function at(e,n,t,r){var o,i,u,s=e.dom;if(s.isEmpty(r))i=t,u=r,(o=e).dom.$(u).empty(),st(o.dom,i,u),o.selection.setCursorLocation(u);else{var a=I(n);st(s,t,r),e.selection.setRng(_(a));}},ct=function ct(e,n){var t,r,o,i=e.dom,u=e.selection,s=u.getStart(),a=ve.getClosestListRootElm(e,s),c=i.getParent(u.getStart(),"LI",a);if(c){if((t=c.parentNode)===e.getBody()&&w(i,t))return!0;if(r=x(u.getRng(!0)),(o=i.getParent(ot(e,r,n,a),"LI",a))&&o!==c)return n?at(e,r,o,c):function(e,n,t,r){var o=I(n);st(e.dom,t,r);var i=_(o);e.selection.setRng(i);}(e,r,c,o),!0;if(!o&&!n)return Vn(e),!0;}return!1;},ft=function ft(e,n){return ct(e,n)||function(o,i){var u=o.dom,e=o.selection.getStart(),s=ve.getClosestListRootElm(o,e),a=u.getParent(e,u.isBlock,s);if(a&&u.isEmpty(a)){var n=x(o.selection.getRng(!0)),c=u.getParent(ot(o,n,i,s),"LI",s);if(c)return o.undoManager.transact(function(){var e,n,t,r;n=a,t=s,r=(e=u).getParent(n.parentNode,e.isBlock,t),e.remove(n),r&&e.isEmpty(r)&&e.remove(r),et.mergeWithAdjacentLists(u,c.parentNode),o.selection.select(c,!0),o.selection.collapse(i);}),!0;}return!1;}(e,n);},dt=function dt(e,n){return e.selection.isCollapsed()?ft(e,n):(r=(t=e).selection.getStart(),o=ve.getClosestListRootElm(t,r),!!(t.dom.getParent(r,"LI,DT,DD",o)||0<ve.getSelectedListItems(t).length)&&(t.undoManager.transact(function(){t.execCommand("Delete"),rt(t.dom,t.getBody());}),!0));var t,r,o;},lt=function lt(n){n.on("keydown",function(e){e.keyCode===m.BACKSPACE?dt(n,!1)&&e.preventDefault():e.keyCode===m.DELETE&&dt(n,!0)&&e.preventDefault();});},mt=dt,gt=function gt(n){return{backspaceDelete:function backspaceDelete(e){mt(n,e);}};},pt=function pt(n,t){return function(){var e=n.dom.getParent(n.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===t;};},vt=function vt(t){t.on("BeforeExecCommand",function(e){var n=e.command.toLowerCase();"indent"===n?qn(t):"outdent"===n&&Wn(t);}),t.addCommand("InsertUnorderedList",function(e,n){et.toggleList(t,"UL",n);}),t.addCommand("InsertOrderedList",function(e,n){et.toggleList(t,"OL",n);}),t.addCommand("InsertDefinitionList",function(e,n){et.toggleList(t,"DL",n);}),t.addCommand("RemoveList",function(){Vn(t);}),t.addQueryStateHandler("InsertUnorderedList",pt(t,"UL")),t.addQueryStateHandler("InsertOrderedList",pt(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",pt(t,"DL"));},ht=function ht(e){return e.getParam("lists_indent_on_tab",!0);},yt=function yt(e){var n;ht(e)&&(n=e).on("keydown",function(e){e.keyCode!==m.TAB||m.metaKeyPressed(e)||n.undoManager.transact(function(){(e.shiftKey?Wn(n):qn(n))&&e.preventDefault();});}),lt(e);},Nt=function Nt(n,i){return function(e){var o=e.control;n.on("NodeChange",function(e){var n=function(e,n){for(var t=0;t<e.length;t++){if(n(e[t]))return t;}return-1;}(e.parents,b),t=-1!==n?e.parents.slice(0,n):e.parents,r=v.grep(t,N);o.active(0<r.length&&r[0].nodeName===i);});};},St=function St(e){var n,t,r;t="advlist",r=(n=e).settings.plugins?n.settings.plugins:"",-1===v.inArray(r.split(/[ ,]/),t)&&(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:Nt(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:Nt(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent"});};f.add("lists",function(e){return yt(e),St(e),vt(e),gt(e);});}(window);!function(l){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),e=function e(t){return t.target_list;},o=function o(t){return t.rel_list;},i=function i(t){return t.link_class_list;},p=function p(t){return"boolean"==typeof t.link_assume_external_targets&&t.link_assume_external_targets;},a=function a(t){return"boolean"==typeof t.link_context_toolbar&&t.link_context_toolbar;},r=function r(t){return t.link_list;},k=function k(t){return"string"==typeof t.default_link_target;},y=function y(t){return t.default_link_target;},b=e,_=function _(t,e){t.settings.target_list=e;},w=function w(t){return!1!==e(t);},T=o,C=function C(t){return o(t)!==undefined;},M=i,O=function O(t){return i(t)!==undefined;},R=function R(t){return!1!==t.link_title;},N=function N(t){return"boolean"==typeof t.allow_unsafe_link_target&&t.allow_unsafe_link_target;},u=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=tinymce.util.Tools.resolve("tinymce.Env"),s=function s(t){if(!c.ie||10<c.ie){var e=l.document.createElement("a");e.target="_blank",e.href=t,e.rel="noreferrer noopener";var n=l.document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,l.window,0,0,0,0,0,!1,!1,!1,!1,0,null),r=e,a=n,l.document.body.appendChild(r),r.dispatchEvent(a),l.document.body.removeChild(r);}else{var o=l.window.open("","_blank");if(o){o.opener=null;var i=o.document;i.open(),i.write('<meta http-equiv="refresh" content="0; url='+u.DOM.encode(t)+'">'),i.close();}}var r,a;},A=tinymce.util.Tools.resolve("tinymce.util.Tools"),f=function f(t,e){var n,o,i=["noopener"],r=t?t.split(/\s+/):[],a=function a(t){return t.filter(function(t){return-1===A.inArray(i,t);});};return(r=e?(n=a(n=r)).length?n.concat(i):i:a(r)).length?(o=r,A.trim(o.sort().join(" "))):null;},d=function d(t,e){return e=e||t.selection.getNode(),v(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]");},m=function m(t){return t&&"A"===t.nodeName&&t.href;},v=function v(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className);},g=function g(t,e){var n,o;(o=t.dom.select("img",e)[0])&&(n=t.dom.getParents(o,"a[href]",e)[0])&&(n.parentNode.insertBefore(o,n),t.dom.remove(n));},h=function h(t,e,n){var o,i;(i=t.dom.select("img",e)[0])&&(o=t.dom.create("a",n),i.parentNode.insertBefore(o,i),o.appendChild(i));},L=function L(i,r){return function(o){i.undoManager.transact(function(){var t=i.selection.getNode(),e=d(i,t),n={href:o.href,target:o.target?o.target:null,rel:o.rel?o.rel:null,"class":o["class"]?o["class"]:null,title:o.title?o.title:null};C(i.settings)||!1!==N(i.settings)||(n.rel=f(n.rel,"_blank"===n.target)),o.href===r.href&&(r.attach(),r={}),e?(i.focus(),o.hasOwnProperty("text")&&("innerText"in e?e.innerText=o.text:e.textContent=o.text),i.dom.setAttribs(e,n),i.selection.select(e),i.undoManager.add()):v(t)?h(i,t,n):o.hasOwnProperty("text")?i.insertContent(i.dom.createHTML("a",n,i.dom.encode(o.text))):i.execCommand("mceInsertLink",!1,n);});};},P=function P(e){return function(){e.undoManager.transact(function(){var t=e.selection.getNode();v(t)?g(e,t):e.execCommand("unlink");});};},x=m,E=function E(t){return 0<A.grep(t,m).length;},S=function S(t){return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")));},I=d,K=function K(t,e){var n=e?e.innerText||e.textContent:t.getContent({format:"text"});return n.replace(/\uFEFF/g,"");},U=f,D=tinymce.util.Tools.resolve("tinymce.util.Delay"),B=tinymce.util.Tools.resolve("tinymce.util.XHR"),F={},q=function q(t,o,e){var i=function i(t,n){return n=n||[],A.each(t,function(t){var e={text:t.text||t.title};t.menu?e.menu=i(t.menu):(e.value=t.value,o&&o(e)),n.push(e);}),n;};return i(t,e||[]);},V=function V(e,t,n){var o=e.selection.getRng();D.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(o),n(t);});});},z=function z(a,t){var e,l,o,u,n,i,r,c,s,f,d,m={},v=a.selection,g=a.dom,h=function h(t){var e=o.find("#text");(!e.value()||t.lastControl&&e.value()===t.lastControl.text())&&e.value(t.control.text()),o.find("#href").value(t.control.value());},x=function x(){l||!u||m.text||this.parent().parent().find("#text")[0].value(this.value());};u=S(v.getContent()),e=I(a),m.text=l=K(a.selection,e),m.href=e?g.getAttrib(e,"href"):"",e?m.target=g.getAttrib(e,"target"):k(a.settings)&&(m.target=y(a.settings)),(d=g.getAttrib(e,"rel"))&&(m.rel=d),(d=g.getAttrib(e,"class"))&&(m["class"]=d),(d=g.getAttrib(e,"title"))&&(m.title=d),u&&(n={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function onchange(){m.text=this.value();}}),t&&(i={type:"listbox",label:"Link list",values:q(t,function(t){t.value=a.convertURL(t.value||t.url,"href");},[{text:"None",value:""}]),onselect:h,value:a.convertURL(m.href,"href"),onPostRender:function onPostRender(){i=this;}}),w(a.settings)&&(b(a.settings)===undefined&&_(a,[{text:"None",value:""},{text:"New window",value:"_blank"}]),c={name:"target",type:"listbox",label:"Target",values:q(b(a.settings))}),C(a.settings)&&(r={name:"rel",type:"listbox",label:"Rel",values:q(T(a.settings),function(t){!1===N(a.settings)&&(t.value=U(t.value,"_blank"===m.target));})}),O(a.settings)&&(s={name:"class",type:"listbox",label:"Class",values:q(M(a.settings),function(t){t.value&&(t.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[t.value]});});})}),R(a.settings)&&(f={name:"title",type:"textbox",label:"Title",value:m.title}),o=a.windowManager.open({title:"Insert link",data:m,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function onchange(t){var e=t.meta||{};i&&i.value(a.convertURL(this.value(),"href")),A.each(t.meta,function(t,e){var n=o.find("#"+e);"text"===e?0===l.length&&(n.value(t),m.text=t):n.value(t);}),e.attach&&(F={href:this.value(),attach:e.attach}),e.text||x.call(this);},onkeyup:x,onpaste:x,onbeforecall:function onbeforecall(t){t.meta=o.toJSON();}},n,f,function(n){var o=[];if(A.each(a.dom.select("a:not([href])"),function(t){var e=t.name||t.id;e&&o.push({text:e,value:"#"+e,selected:-1!==n.indexOf("#"+e)});}),o.length)return o.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:o,onselect:h};}(m.href),i,r,c,s],onSubmit:function onSubmit(t){var e=p(a.settings),n=L(a,F),o=P(a),i=A.extend({},m,t.data),r=i.href;r?(u&&i.text!==l||delete i.text,0<r.indexOf("@")&&-1===r.indexOf("//")&&-1===r.indexOf("mailto:")?V(a,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(t){t&&(i.href="mailto:"+r),n(i);}):!0===e&&!/^\w+:/i.test(r)||!1===e&&/^\s*www[\.|\d\.]/i.test(r)?V(a,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(t){t&&(i.href="http://"+r),n(i);}):n(i)):o();}});},H=function H(t){var e,n,o;n=z,"string"==typeof(o=r((e=t).settings))?B.send({url:o,success:function success(t){n(e,JSON.parse(t));}}):"function"==typeof o?o(function(t){n(e,t);}):n(e,o);},J=function J(t,e){return t.dom.getParent(e,"a[href]");},$=function $(t){return J(t,t.selection.getStart());},j=function j(t,e){if(e){var n=(i=e).getAttribute("data-mce-href")||i.getAttribute("href");if(/^#/.test(n)){var o=t.$(n);o.length&&t.selection.scrollIntoView(o[0],!0);}else s(e.href);}var i;},G=function G(t){return function(){H(t);};},X=function X(t){return function(){j(t,$(t));};},Q=function Q(r){return function(t){var e,n,o,i;return!!(a(r.settings)&&(!(i=r.plugins.contextmenu)||!i.isContextMenuVisible())&&x(t)&&3===(o=(n=(e=r.selection).getRng()).startContainer).nodeType&&e.isCollapsed()&&0<n.startOffset&&n.startOffset<o.data.length);};},W=function W(o){o.on("click",function(t){var e=J(o,t.target);e&&n.metaKeyPressed(t)&&(t.preventDefault(),j(o,e));}),o.on("keydown",function(t){var e,n=$(o);n&&13===t.keyCode&&!0===(e=t).altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey&&(t.preventDefault(),j(o,n));});},Y=function Y(n){return function(){var e=this;n.on("nodechange",function(t){e.active(!n.readonly&&!!I(n,t.element));});};},Z=function Z(n){return function(){var e=this,t=function t(_t4){E(_t4.parents)?e.show():e.hide();};E(n.dom.getParents(n.selection.getStart()))||e.hide(),n.on("nodechange",t),e.on("remove",function(){n.off("nodechange",t);});};},tt=function tt(t){t.addCommand("mceLink",G(t));},et=function et(t){t.addShortcut("Meta+K","",G(t));},nt=function nt(t){t.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:G(t),onpostrender:Y(t)}),t.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:P(t),onpostrender:Y(t)}),t.addContextToolbar&&t.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:X(t)});},ot=function ot(t){t.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:X(t),onPostRender:Z(t),prependToContext:!0}),t.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:G(t),stateSelector:"a[href]",context:"insert",prependToContext:!0}),t.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:P(t),stateSelector:"a[href]"});},it=function it(t){t.addContextToolbar&&t.addContextToolbar(Q(t),"openlink | link unlink");};t.add("link",function(t){nt(t),ot(t),it(t),W(t),tt(t),et(t);});}(window);!function(m){"use strict";var i=function i(e){var n=e,t=function t(){return n;};return{get:t,set:function set(e){n=e;},clone:function clone(){return i(t());}};},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function t(e){return{isFullscreen:function isFullscreen(){return null!==e.get();}};},n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=function g(e,n){e.fire("FullscreenStateChanged",{state:n});},w=n.DOM,r=function r(e,n){var t,r,l,i,o,c,s=m.document.body,u=m.document.documentElement,d=n.get(),a=function a(){var e,n,t,i;w.setStyle(l,"height",(t=m.window,i=m.document.body,i.offsetWidth&&(e=i.offsetWidth,n=i.offsetHeight),t.innerWidth&&t.innerHeight&&(e=t.innerWidth,n=t.innerHeight),{w:e,h:n}).h-(r.clientHeight-l.clientHeight));},h=function h(){w.unbind(m.window,"resize",a);};if(t=(r=e.getContainer()).style,i=(l=e.getContentAreaContainer().firstChild).style,d)i.width=d.iframeWidth,i.height=d.iframeHeight,d.containerWidth&&(t.width=d.containerWidth),d.containerHeight&&(t.height=d.containerHeight),w.removeClass(s,"mce-fullscreen"),w.removeClass(u,"mce-fullscreen"),w.removeClass(r,"mce-fullscreen"),o=d.scrollPos,m.window.scrollTo(o.x,o.y),w.unbind(m.window,"resize",d.resizeHandler),e.off("remove",d.removeHandler),n.set(null),g(e,!1);else{var f={scrollPos:(c=w.getViewPort(),{x:c.x,y:c.y}),containerWidth:t.width,containerHeight:t.height,iframeWidth:i.width,iframeHeight:i.height,resizeHandler:a,removeHandler:h};i.width=i.height="100%",t.width=t.height="",w.addClass(s,"mce-fullscreen"),w.addClass(u,"mce-fullscreen"),w.addClass(r,"mce-fullscreen"),w.bind(m.window,"resize",a),e.on("remove",h),a(),n.set(f),g(e,!0);}},l=function l(e,n){e.addCommand("mceFullScreen",function(){r(e,n);});},o=function o(t){return function(e){var n=e.control;t.on("FullscreenStateChanged",function(e){n.active(e.state);});};},c=function c(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:o(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:o(e)});};e.add("fullscreen",function(e){var n=i(null);return e.settings.inline||(l(e,n),c(e),e.addShortcut("Ctrl+Shift+F","","mceFullScreen")),t(n);});}(window);!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function s(t,e,n){var r="UL"===e?"InsertUnorderedList":"InsertOrderedList";t.execCommand(r,!1,!1===n?null:{"list-style-type":n});},o=function o(n){n.addCommand("ApplyUnorderedListStyle",function(t,e){s(n,"UL",e["list-style-type"]);}),n.addCommand("ApplyOrderedListStyle",function(t,e){s(n,"OL",e["list-style-type"]);});},e=function e(t){var e=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return e?e.split(/[ ,]/):[];},n=function n(t){var e=t.getParam("advlist_bullet_styles","default,circle,disc,square");return e?e.split(/[ ,]/):[];},u=function u(t){return t&&/^(TH|TD)$/.test(t.nodeName);},c=function c(r){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&(n=t,(e=r).$.contains(e.getBody(),n));var e,n;};},d=function d(t){var e=t.dom.getParent(t.selection.getNode(),"ol,ul");return t.dom.getStyle(e,"listStyleType")||"";},p=function p(t){return a.map(t,function(t){return{text:t.replace(/\-/g," ").replace(/\b\w/g,function(t){return t.toUpperCase();}),data:"default"===t?"":t};});},f=function f(i,l){return function(t){var o=t.control;i.on("NodeChange",function(t){var e=function(t,e){for(var n=0;n<t.length;n++){if(e(t[n]))return n;}return-1;}(t.parents,u),n=-1!==e?t.parents.slice(0,e):t.parents,r=a.grep(n,c(i));o.active(0<r.length&&r[0].nodeName===l);});};},m=function m(e,t,n,r,o,i){var l;e.addButton(t,{active:!1,type:"splitbutton",tooltip:n,menu:p(i),onPostRender:f(e,o),onshow:(l=e,function(t){var e=d(l);t.control.items().each(function(t){t.active(t.settings.data===e);});}),onselect:function onselect(t){s(e,o,t.control.settings.data);},onclick:function onclick(){e.execCommand(r);}});},r=function r(t,e,n,_r6,o,i){var l,a,s,u,c;0<i.length?m(t,e,n,_r6,o,i):(a=e,s=n,u=_r6,c=o,(l=t).addButton(a,{active:!1,type:"button",tooltip:s,onPostRender:f(l,c),onclick:function onclick(){l.execCommand(u);}}));},i=function i(t){r(t,"numlist","Numbered list","InsertOrderedList","OL",e(t)),r(t,"bullist","Bullet list","InsertUnorderedList","UL",n(t));};t.add("advlist",function(t){var e,n,r;n="lists",r=(e=t).settings.plugins?e.settings.plugins:"",-1!==a.inArray(r.split(/[ ,]/),n)&&(i(t),o(t));});}();!function(p){"use strict";var I=function I(){},v=function v(t,r){return function(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}return t(r.apply(null,n));};},A=function A(n){return function(){return n;};},h=function h(n){return n;};function l(r){for(var o=[],n=1;n<arguments.length;n++){o[n-1]=arguments[n];}return function(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}var t=o.concat(n);return r.apply(null,t);};}var n,e,t,r,o,i,u,x=function x(t){return function(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}return!t.apply(null,n);};},c=function c(n){return function(){throw new Error(n);};},a=function a(n){return n();},s=A(!1),f=A(!0),d=function d(e){return function(n){return function(n){if(null===n)return"null";var e=_typeof(n);return"object"===e&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":e;}(n)===e;};},y=d("string"),m=d("object"),g=d("array"),b=d("boolean"),w=d("function"),T=d("number"),S=Object.prototype.hasOwnProperty,O=function O(u){return function(){for(var n=new Array(arguments.length),e=0;e<n.length;e++){n[e]=arguments[e];}if(0===n.length)throw new Error("Can't merge zero objects");for(var t={},r=0;r<n.length;r++){var o=n[r];for(var i in o){S.call(o,i)&&(t[i]=u(t[i],o[i]));}}return t;};},k=O(function(n,e){return m(n)&&m(e)?k(n,e):e;}),C=O(function(n,e){return e;}),E=function E(){return D;},D=(n=function n(_n6){return _n6.isNone();},r={fold:function fold(n,e){return n();},is:s,isSome:s,isNone:f,getOr:t=function t(n){return n;},getOrThunk:e=function e(n){return n();},getOrDie:function getOrDie(n){throw new Error(n||"error: getOrDie called on none.");},getOrNull:A(null),getOrUndefined:A(undefined),or:t,orThunk:e,map:E,each:I,bind:E,exists:s,forall:f,filter:E,equals:n,equals_:n,toArray:function toArray(){return[];},toString:A("none()")},Object.freeze&&Object.freeze(r),r),M=function M(t){var n=A(t),e=function e(){return o;},r=function r(n){return n(t);},o={fold:function fold(n,e){return e(t);},is:function is(n){return t===n;},isSome:f,isNone:s,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function map(n){return M(n(t));},each:function each(n){n(t);},bind:r,exists:r,forall:r,filter:function filter(n){return n(t)?o:D;},toArray:function toArray(){return[t];},toString:function toString(){return"some("+t+")";},equals:function equals(n){return n.is(t);},equals_:function equals_(n,e){return n.fold(s,function(n){return e(t,n);});}};return o;},F={some:M,none:E,from:function from(n){return null===n||n===undefined?D:M(n);}},R=Object.keys,B=function B(n,e){for(var t=R(n),r=0,o=t.length;r<o;r++){var i=t[r];e(n[i],i);}},V=function V(n,t){return N(n,function(n,e){return{k:e,v:t(n,e)};});},N=function N(n,r){var o={};return B(n,function(n,e){var t=r(n,e);o[t.k]=t.v;}),o;},_=function _(n,t){var r=[];return B(n,function(n,e){r.push(t(n,e));}),r;},j=A("touchstart"),H=A("touchmove"),z=A("touchend"),L=A("mousedown"),P=A("mousemove"),$=A("mouseup"),W=A("mouseover"),U=A("keydown"),G=A("input"),q=A("change"),Y=A("click"),K=A("transitionend"),X=A("selectstart"),J=function J(t){var r,o=!1;return function(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}return o||(o=!0,r=t.apply(null,n)),r;};},Q=function Q(n,e){var t=function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.test(e))return r;}return undefined;}(n,e);if(!t)return{major:0,minor:0};var r=function r(n){return Number(e.replace(t,"$"+n));};return nn(r(1),r(2));},Z=function Z(){return nn(0,0);},nn=function nn(n,e){return{major:n,minor:e};},en={nu:nn,detect:function detect(n,e){var t=String(e).toLowerCase();return 0===n.length?Z():Q(n,t);},unknown:Z},tn="Firefox",rn=function rn(n,e){return function(){return e===n;};},on=function on(n){var e=n.current;return{current:e,version:n.version,isEdge:rn("Edge",e),isChrome:rn("Chrome",e),isIE:rn("IE",e),isOpera:rn("Opera",e),isFirefox:rn(tn,e),isSafari:rn("Safari",e)};},un={unknown:function unknown(){return on({current:undefined,version:en.unknown()});},nu:on,edge:A("Edge"),chrome:A("Chrome"),ie:A("IE"),opera:A("Opera"),firefox:A(tn),safari:A("Safari")},cn="Windows",an="Android",sn="Solaris",fn="FreeBSD",ln=function ln(n,e){return function(){return e===n;};},dn=function dn(n){var e=n.current;return{current:e,version:n.version,isWindows:ln(cn,e),isiOS:ln("iOS",e),isAndroid:ln(an,e),isOSX:ln("OSX",e),isLinux:ln("Linux",e),isSolaris:ln(sn,e),isFreeBSD:ln(fn,e)};},mn={unknown:function unknown(){return dn({current:undefined,version:en.unknown()});},nu:dn,windows:A(cn),ios:A("iOS"),android:A(an),linux:A("Linux"),osx:A("OSX"),solaris:A(sn),freebsd:A(fn)},gn=Array.prototype.slice,pn=Array.prototype.indexOf,vn=Array.prototype.push,hn=function hn(n,e){return t=n,r=e,-1<pn.call(t,r);var t,r;},yn=function yn(n,e){for(var t=n.length,r=new Array(t),o=0;o<t;o++){var i=n[o];r[o]=e(i,o);}return r;},bn=function bn(n,e){for(var t=0,r=n.length;t<r;t++){e(n[t],t);}},wn=function wn(n,e){for(var t=[],r=0,o=n.length;r<o;r++){var i=n[r];e(i,r)&&t.push(i);}return t;},xn=function xn(n,e,t){return function(n,e){for(var t=n.length-1;0<=t;t--){e(n[t],t);}}(n,function(n){t=e(t,n);}),t;},Tn=function Tn(n,e,t){return bn(n,function(n){t=e(t,n);}),t;},Sn=function Sn(n,e){for(var t=0,r=n.length;t<r;t++){var o=n[t];if(e(o,t))return F.some(o);}return F.none();},On=function On(n,e){for(var t=0,r=n.length;t<r;t++){if(e(n[t],t))return F.some(t);}return F.none();},kn=function kn(n){for(var e=[],t=0,r=n.length;t<r;++t){if(!g(n[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+n);vn.apply(e,n[t]);}return e;},Cn=function Cn(n,e){var t=yn(n,e);return kn(t);},En=function En(n,e){for(var t=0,r=n.length;t<r;++t){if(!0!==e(n[t],t))return!1;}return!0;},Dn=function Dn(n){var e=gn.call(n,0);return e.reverse(),e;},In=function In(n){return[n];},An=(w(Array.from)&&Array.from,function(n,e){var t=String(e).toLowerCase();return Sn(n,function(n){return n.search(t);});}),Mn=function Mn(n,t){return An(n,t).map(function(n){var e=en.detect(n.versionRegexes,t);return{current:n.name,version:e};});},Fn=function Fn(n,t){return An(n,t).map(function(n){var e=en.detect(n.versionRegexes,t);return{current:n.name,version:e};});},Rn=function Rn(n,e){return-1!==n.indexOf(e);},Bn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vn=function Vn(e){return function(n){return Rn(n,e);};},Nn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function search(n){return Rn(n,"edge/")&&Rn(n,"chrome")&&Rn(n,"safari")&&Rn(n,"applewebkit");}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Bn],search:function search(n){return Rn(n,"chrome")&&!Rn(n,"chromeframe");}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function search(n){return Rn(n,"msie")||Rn(n,"trident");}},{name:"Opera",versionRegexes:[Bn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vn("firefox")},{name:"Safari",versionRegexes:[Bn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function search(n){return(Rn(n,"safari")||Rn(n,"mobile/"))&&Rn(n,"applewebkit");}}],_n=[{name:"Windows",search:Vn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function search(n){return Rn(n,"iphone")||Rn(n,"ipad");},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Vn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vn("linux"),versionRegexes:[]},{name:"Solaris",search:Vn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vn("freebsd"),versionRegexes:[]}],jn={browsers:A(Nn),oses:A(_n)},Hn=function Hn(n){var e,t,r,o,i,u,c,a,s,f,l,d=jn.browsers(),m=jn.oses(),g=Mn(d,n).fold(un.unknown,un.nu),p=Fn(m,n).fold(mn.unknown,mn.nu);return{browser:g,os:p,deviceType:(t=g,r=n,o=(e=p).isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,u=e.isAndroid()&&3===e.version.major,c=e.isAndroid()&&4===e.version.major,a=o||u||c&&!0===/mobile/i.test(r),s=e.isiOS()||e.isAndroid(),f=s&&!a,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),{isiPad:A(o),isiPhone:A(i),isTablet:A(a),isPhone:A(f),isTouch:A(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(l)})};},zn={detect:J(function(){var n=p.navigator.userAgent;return Hn(n);})},Ln={tap:A("alloy.tap")},Pn=A("alloy.focus"),$n=A("alloy.blur.post"),Wn=A("alloy.receive"),Un=A("alloy.execute"),Gn=A("alloy.focus.item"),qn=Ln.tap,Yn=zn.detect().deviceType.isTouch()?Ln.tap:Y,Kn=A("alloy.longpress"),Xn=A("alloy.system.init"),Jn=A("alloy.system.scroll"),Qn=A("alloy.system.attached"),Zn=A("alloy.system.detached"),ne=function ne(n,e){oe(n,n.element(),e,{});},ee=function ee(n,e,t){oe(n,n.element(),e,t);},te=function te(n){ne(n,Un());},re=function re(n,e,t){oe(n,e,t,{});},oe=function oe(n,e,t,r){var o=k({target:e},r);n.getSystem().triggerEvent(t,e,V(o,A));},ie=function ie(n){if(null===n||n===undefined)throw new Error("Node cannot be null or undefined");return{dom:A(n)};},ue={fromHtml:function fromHtml(n,e){var t=(e||p.document).createElement("div");if(t.innerHTML=n,!t.hasChildNodes()||1<t.childNodes.length)throw p.console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return ie(t.childNodes[0]);},fromTag:function fromTag(n,e){var t=(e||p.document).createElement(n);return ie(t);},fromText:function fromText(n,e){var t=(e||p.document).createTextNode(n);return ie(t);},fromDom:ie,fromPoint:function fromPoint(n,e,t){var r=n.dom();return F.from(r.elementFromPoint(e,t)).map(ie);}},ce=(p.Node.ATTRIBUTE_NODE,p.Node.CDATA_SECTION_NODE,p.Node.COMMENT_NODE,p.Node.DOCUMENT_NODE),ae=(p.Node.DOCUMENT_TYPE_NODE,p.Node.DOCUMENT_FRAGMENT_NODE,p.Node.ELEMENT_NODE),se=p.Node.TEXT_NODE,fe=(p.Node.PROCESSING_INSTRUCTION_NODE,p.Node.ENTITY_REFERENCE_NODE,p.Node.ENTITY_NODE,p.Node.NOTATION_NODE,"undefined"!=typeof p.window?p.window:Function("return this;")()),le=function le(n,e){return function(n,e){for(var t=e!==undefined&&null!==e?e:fe,r=0;r<n.length&&t!==undefined&&null!==t;++r){t=t[n[r]];}return t;}(n.split("."),e);},de=function de(n,e){var t=le(n,e);if(t===undefined||null===t)throw new Error(n+" not available on this browser");return t;},me=function me(n){return n.dom().nodeName.toLowerCase();},ge=function ge(e){return function(n){return n.dom().nodeType===e;};},pe=ge(ae),ve=ge(se),he=function he(n){var e=ve(n)?n.dom().parentNode:n.dom();return e!==undefined&&null!==e&&e.ownerDocument.body.contains(e);},ye=J(function(){return be(ue.fromDom(p.document));}),be=function be(n){var e=n.dom().body;if(null===e||e===undefined)throw new Error("Body is not available yet");return ue.fromDom(e);},we=function we(){for(var e=[],n=0;n<arguments.length;n++){e[n]=arguments[n];}return function(){for(var t=[],n=0;n<arguments.length;n++){t[n]=arguments[n];}if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return bn(e,function(n,e){r[n]=A(t[e]);}),r;};},xe=function xe(n){return n.slice(0).sort();},Te=function Te(n,e){throw new Error("All required keys ("+xe(n).join(", ")+") were not specified. Specified keys were: "+xe(e).join(", ")+".");},Se=function Se(n){throw new Error("Unsupported keys for object: "+xe(n).join(", "));},Oe=function Oe(e,n){if(!g(n))throw new Error("The "+e+" fields must be an array. Was: "+n+".");bn(n,function(n){if(!y(n))throw new Error("The value "+n+" in the "+e+" fields was not a string.");});},ke=function ke(n){var t=xe(n);Sn(t,function(n,e){return e<t.length-1&&n===t[e+1];}).each(function(n){throw new Error("The field: "+n+" occurs more than once in the combined fields: ["+t.join(", ")+"].");});},Ce=function Ce(o,i){var u=o.concat(i);if(0===u.length)throw new Error("You must specify at least one required or optional field.");return Oe("required",o),Oe("optional",i),ke(u),function(e){var t=R(e);En(o,function(n){return hn(t,n);})||Te(o,t);var n=wn(t,function(n){return!hn(u,n);});0<n.length&&Se(n);var r={};return bn(o,function(n){r[n]=A(e[n]);}),bn(i,function(n){r[n]=A(Object.prototype.hasOwnProperty.call(e,n)?F.some(e[n]):F.none());}),r;};},Ee=ae,De=ce,Ie=function Ie(n,e){var t=n.dom();if(t.nodeType!==Ee)return!1;var r=t;if(r.matches!==undefined)return r.matches(e);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(e);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(e);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors");},Ae=function Ae(n){return n.nodeType!==Ee&&n.nodeType!==De||0===n.childElementCount;},Me=function Me(n,e){var t=e===undefined?p.document:e.dom();return Ae(t)?[]:yn(t.querySelectorAll(n),ue.fromDom);},Fe=function Fe(n,e){var t=e===undefined?p.document:e.dom();return Ae(t)?F.none():F.from(t.querySelector(n)).map(ue.fromDom);},Re=function Re(n,e){return n.dom()===e.dom();},Be=(zn.detect().browser.isIE(),function(n){return ue.fromDom(n.dom().ownerDocument);}),Ve=function Ve(n){return ue.fromDom(n.dom().ownerDocument.defaultView);},Ne=function Ne(n){return F.from(n.dom().parentNode).map(ue.fromDom);},_e=function _e(n){return yn(n.dom().childNodes,ue.fromDom);},je=function je(n){return e=0,t=n.dom().childNodes,F.from(t[e]).map(ue.fromDom);var e,t;},He=(we("element","offset"),function(e,t){je(e).fold(function(){ze(e,t);},function(n){e.dom().insertBefore(t.dom(),n.dom());});}),ze=function ze(n,e){n.dom().appendChild(e.dom());},Le=function Le(e,n){bn(n,function(n){ze(e,n);});},Pe=function Pe(n){n.dom().textContent="",bn(_e(n),function(n){$e(n);});},$e=function $e(n){var e=n.dom();null!==e.parentNode&&e.parentNode.removeChild(e);},We=function We(n){ne(n,Zn());var e=n.components();bn(e,We);},Ue=function Ue(n){var e=n.components();bn(e,Ue),ne(n,Qn());},Ge=function Ge(n,e){qe(n,e,ze);},qe=function qe(n,e,t){n.getSystem().addToWorld(e),t(n.element(),e.element()),he(n.element())&&Ue(e),n.syncComponents();},Ye=function Ye(n){We(n),$e(n.element()),n.getSystem().removeFromWorld(n);},Ke=function Ke(e){var n=Ne(e.element()).bind(function(n){return e.getSystem().getByDom(n).fold(F.none,F.some);});Ye(e),n.each(function(n){n.syncComponents();});},Xe=function Xe(t){return{is:function is(n){return t===n;},isValue:f,isError:s,getOr:A(t),getOrThunk:A(t),getOrDie:A(t),or:function or(n){return Xe(t);},orThunk:function orThunk(n){return Xe(t);},fold:function fold(n,e){return e(t);},map:function map(n){return Xe(n(t));},mapError:function mapError(n){return Xe(t);},each:function each(n){n(t);},bind:function bind(n){return n(t);},exists:function exists(n){return n(t);},forall:function forall(n){return n(t);},toOption:function toOption(){return F.some(t);}};},Je=function Je(t){return{is:s,isValue:s,isError:f,getOr:h,getOrThunk:function getOrThunk(n){return n();},getOrDie:function getOrDie(){return c(String(t))();},or:function or(n){return n;},orThunk:function orThunk(n){return n();},fold:function fold(n,e){return n(t);},map:function map(n){return Je(t);},mapError:function mapError(n){return Je(n(t));},each:I,bind:function bind(n){return Je(t);},exists:s,forall:f,toOption:F.none};},Qe={value:Xe,error:Je,fromOption:function fromOption(n,e){return n.fold(function(){return Je(e);},Xe);}},Ze=function Ze(u){if(!g(u))throw new Error("cases must be an array");if(0===u.length)throw new Error("there must be at least one case");var c=[],t={};return bn(u,function(n,r){var e=R(n);if(1!==e.length)throw new Error("one and only one name per case");var o=e[0],i=n[o];if(t[o]!==undefined)throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!g(i))throw new Error("case arguments must be an array");c.push(o),t[o]=function(){var n=arguments.length;if(n!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+n);for(var t=new Array(n),e=0;e<t.length;e++){t[e]=arguments[e];}return{fold:function fold(){if(arguments.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+arguments.length);return arguments[r].apply(null,t);},match:function match(n){var e=R(n);if(c.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+e.join(","));if(!En(c,function(n){return hn(e,n);}))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+c.join(", "));return n[o].apply(null,t);},log:function log(n){p.console.log(n,{constructors:c,constructor:o,params:t});}};};}),t;},nt=Ze([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),et=function et(n){return nt.defaultedThunk(A(n));},tt=nt.strict,rt=nt.asOption,ot=nt.defaultedThunk,it=nt.mergeWithThunk,ut=(Ze([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(n){var e=[],t=[];return bn(n,function(n){n.fold(function(n){e.push(n);},function(n){t.push(n);});}),{errors:e,values:t};}),ct=function ct(n){return v(Qe.error,kn)(n);},at=function at(n,e){var t,r,o=ut(n);return 0<o.errors.length?ct(o.errors):(t=o.values,r=e,Qe.value(k.apply(undefined,[r].concat(t))));},st=function st(n){var e=ut(n);return 0<e.errors.length?ct(e.errors):Qe.value(e.values);},ft=function ft(e){return function(n){return n.hasOwnProperty(e)?F.from(n[e]):F.none();};},lt=function lt(n,e){return ft(e)(n);},dt=function dt(n,e){var t={};return t[n]=e,t;},mt=function mt(n,e){return t=n,r={},bn(e,function(n){t[n]!==undefined&&t.hasOwnProperty(n)&&(r[n]=t[n]);}),r;var t,r;},gt=function gt(n,e){return t=e,r={},B(n,function(n,e){hn(t,e)||(r[e]=n);}),r;var t,r;},pt=function pt(n){return ft(n);},vt=function vt(n,e){return t=n,r=e,function(n){return ft(t)(n).getOr(r);};var t,r;},ht=function ht(n,e){return lt(n,e);},yt=function yt(n,e){return dt(n,e);},bt=function bt(n){return e={},bn(n,function(n){e[n.key]=n.value;}),e;var e;},wt=function wt(n,e){return at(n,e);},xt=function xt(n,e){return r=e,(t=n).hasOwnProperty(r)&&t[r]!==undefined&&null!==t[r];var t,r;},Tt=Ze([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]},{thunk:["description"]},{func:["args","outputSchema"]}]),St=Ze([{field:["name","presence","type"]},{state:["name"]}]),Ot=function Ot(){return de("JSON");},kt=function kt(n,e,t){return Ot().stringify(n,e,t);},Ct=function Ct(n){return m(n)&&100<R(n).length?" removed due to size":kt(n,null,2);},Et=function Et(n,e){return Qe.error([{path:n,getErrorInfo:e}]);},Dt=Ze([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),It=function It(t,r,o){return lt(r,o).fold(function(){return n=o,e=r,Et(t,function(){return'Could not find valid *strict* value for "'+n+'" in '+Ct(e);});var n,e;},Qe.value);},At=function At(n,e,t){var r=lt(n,e).fold(function(){return t(n);},h);return Qe.value(r);},Mt=function Mt(o,c,n,a){return n.fold(function(i,e,n,t){var r=function r(n){return t.extract(o.concat([i]),a,n).map(function(n){return dt(e,a(n));});},u=function u(n){return n.fold(function(){var n=dt(e,a(F.none()));return Qe.value(n);},function(n){return t.extract(o.concat([i]),a,n).map(function(n){return dt(e,a(F.some(n)));});});};return n.fold(function(){return It(o,c,i).bind(r);},function(n){return At(c,i,n).bind(r);},function(){return(n=c,e=i,Qe.value(lt(n,e))).bind(u);var n,e;},function(n){return(e=c,t=i,r=n,o=lt(e,t).map(function(n){return!0===n?r(e):n;}),Qe.value(o)).bind(u);var e,t,r,o;},function(n){var e=n(c);return At(c,i,A({})).map(function(n){return k(e,n);}).bind(r);});},function(n,e){var t=e(c);return Qe.value(dt(n,a(t)));});},Ft=function Ft(r){return{extract:function extract(t,n,e){return r(e,n).fold(function(n){return e=n,Et(t,function(){return e;});var e;},Qe.value);},toString:function toString(){return"val";},toDsl:function toDsl(){return Tt.itemOf(r);}};},Rt=function Rt(n){var a=Bt(n),s=xn(n,function(e,n){return n.fold(function(n){return k(e,yt(n,!0));},A(e));},{});return{extract:function extract(n,e,t){var r,o,i,u=b(t)?[]:(o=R(r=t),wn(o,function(n){return xt(r,n);})),c=wn(u,function(n){return!xt(s,n);});return 0===c.length?a.extract(n,e,t):(i=c,Et(n,function(){return"There are unsupported fields: ["+i.join(", ")+"] specified";}));},toString:a.toString,toDsl:a.toDsl};},Bt=function Bt(c){return{extract:function extract(n,e,t){return r=n,o=t,i=e,u=yn(c,function(n){return Mt(r,o,n,i);}),at(u,{});var r,o,i,u;},toString:function toString(){return"obj{\n"+yn(c,function(n){return n.fold(function(n,e,t,r){return n+" -> "+r.toString();},function(n,e){return"state("+n+")";});}).join("\n")+"}";},toDsl:function toDsl(){return Tt.objOf(yn(c,function(n){return n.fold(function(n,e,t,r){return St.field(n,t,r);},function(n,e){return St.state(n);});}));}};},Vt=function Vt(t,i){var e=function e(n,_e12){return(o=Ft(t),{extract:function extract(t,r,n){var e=yn(n,function(n,e){return o.extract(t.concat(["["+e+"]"]),r,n);});return st(e);},toString:function toString(){return"array("+o.toString()+")";},toDsl:function toDsl(){return Tt.arrOf(o);}}).extract(n,h,_e12);var o;};return{extract:function extract(t,r,o){var n=R(o);return e(t,n).bind(function(n){var e=yn(n,function(n){return Dt.field(n,n,tt(),i);});return Bt(e).extract(t,r,o);});},toString:function toString(){return"setOf("+i.toString()+")";},toDsl:function toDsl(){return Tt.setOf(t,i);}};},Nt=A(Ft(Qe.value)),_t=Dt.state,jt=Dt.field,Ht=function Ht(t,e,r,o,i){return ht(o,i).fold(function(){return n=o,e=i,Et(t,function(){return'The chosen schema: "'+e+'" did not exist in branches: '+Ct(n);});var n,e;},function(n){return Bt(n).extract(t.concat(["branch: "+i]),e,r);});},zt=function zt(o,i){return{extract:function extract(e,t,r){return ht(r,o).fold(function(){return n=o,Et(e,function(){return'Choice schema did not contain choice key: "'+n+'"';});var n;},function(n){return Ht(e,t,r,i,n);});},toString:function toString(){return"chooseOn("+o+"). Possible values: "+R(i);},toDsl:function toDsl(){return Tt.choiceOf(o,i);}};},Lt=Ft(Qe.value),Pt=function Pt(n,e,t,r){return e.extract([n],t,r).fold(function(n){return Qe.error({input:r,errors:n});},Qe.value);},$t=function $t(n,e,t){return Pt(n,e,A,t);},Wt=function Wt(n){return n.fold(function(n){throw new Error(qt(n));},h);},Ut=function Ut(n,e,t){return Wt(Pt(n,e,h,t));},Gt=function Gt(n,e,t){return Wt($t(n,e,t));},qt=function qt(n){return"Errors: \n"+(e=n.errors,t=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:function getErrorInfo(){return"... (only showing first ten failures)";}}]):e,yn(t,function(n){return"Failed path: ("+n.path.join(" > ")+")\n"+n.getErrorInfo();}))+"\n\nInput object: "+Ct(n.input);var e,t;},Yt=function Yt(n,e){return zt(n,e);},Kt=A(Lt),Xt=(o=w,i="function",Ft(function(n){var e=_typeof(n);return o(n)?Qe.value(n):Qe.error("Expected type: "+i+" but got: "+e);})),Jt=function Jt(n){return jt(n,n,tt(),Nt());},Qt=function Qt(n,e){return jt(n,n,tt(),e);},Zt=function Zt(n){return Qt(n,Xt);},nr=function nr(n,e){return jt(n,n,tt(),Bt(e));},er=function er(n){return jt(n,n,rt(),Nt());},tr=function tr(n,e){return jt(n,n,rt(),Bt(e));},rr=function rr(n,e){return jt(n,n,rt(),Rt(e));},or=function or(n,e){return jt(n,n,et(e),Nt());},ir=function ir(n,e,t){return jt(n,n,et(e),t);},ur=function ur(n,e){return _t(n,e);},cr=function cr(n){if(!xt(n,"can")&&!xt(n,"abort")&&!xt(n,"run"))throw new Error("EventHandler defined by: "+kt(n,null,2)+" does not have can, abort, or run!");return Ut("Extracting event.handler",Rt([or("can",A(!0)),or("abort",A(!1)),or("run",I)]),n);},ar=function ar(t){var e,r,o,i,n=(e=t,r=function r(n){return n.can;},function(){for(var t=[],n=0;n<arguments.length;n++){t[n]=arguments[n];}return Tn(e,function(n,e){return n&&r(e).apply(undefined,t);},!0);}),u=(o=t,i=function i(n){return n.abort;},function(){for(var t=[],n=0;n<arguments.length;n++){t[n]=arguments[n];}return Tn(o,function(n,e){return n||i(e).apply(undefined,t);},!1);});return cr({can:n,abort:u,run:function run(){for(var e=[],n=0;n<arguments.length;n++){e[n]=arguments[n];}bn(t,function(n){n.run.apply(undefined,e);});}});},sr=function sr(n){return bt(n);},fr=function fr(n,e){return{key:n,value:cr({abort:e})};},lr=function lr(n,e){return{key:n,value:cr({run:e})};},dr=function dr(n,e,t){return{key:n,value:cr({run:function run(n){e.apply(undefined,[n].concat(t));}})};},mr=function mr(n){return function(r){return{key:n,value:cr({run:function run(n,e){var t;t=e,Re(n.element(),t.event().target())&&r(n,e);}})};};},gr=function gr(n,e,t){var u,r,o=e.partUids()[t];return r=o,lr(u=n,function(n,i){n.getSystem().getByUid(r).each(function(n){var e,t,r,o;t=(e=n).element(),r=u,o=i,e.getSystem().triggerEvent(r,t,o.event());});});},pr=function pr(n){return lr(n,function(n,e){e.cut();});},vr=mr(Qn()),hr=mr(Zn()),yr=mr(Xn()),br=(u=Un(),function(n){return lr(u,n);}),wr=function wr(n){return yn(n,function(n){return r=e="/*",o=(t=n).length-e.length,""!==r&&(t.length<r.length||t.substr(o,o+r.length)!==r)?n:n.substring(0,n.length-"/*".length);var e,t,r,o;});},xr=function xr(n,e){var t=n.toString(),r=t.indexOf(")")+1,o=t.indexOf("("),i=t.substring(o+1,r-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:e,parameters:wr(i)};},n;},Tr=Ce(["tag"],["classes","attributes","styles","value","innerHtml","domChildren","defChildren"]),Sr=function Sr(n){return{tag:n.tag(),classes:n.classes().getOr([]),attributes:n.attributes().getOr({}),styles:n.styles().getOr({}),value:n.value().getOr("<none>"),innerHtml:n.innerHtml().getOr("<none>"),defChildren:n.defChildren().fold(function(){return"<none>";},function(n){return kt(n,null,2);}),domChildren:n.domChildren().fold(function(){return"<none>";},function(n){return 0===n.length?"0 children, but still specified":String(n.length);})};},Or=Ce([],["classes","attributes","styles","value","innerHtml","defChildren","domChildren"]),kr=function kr(e,n,t){return n.fold(function(){return t.fold(function(){return{};},function(n){return yt(e,n);});},function(n){return t.fold(function(){return yt(e,n);},function(n){return yt(e,n);});});},Cr=function Cr(t,r,o){return yr(function(n,e){o(n,t,r);});},Er=function Er(n,e,t,r,o,i){var u,c,a=n,s=tr(e,[(u="config",c=n,jt(u,u,rt(),c))]);return Ar(a,s,e,t,r,o,i);},Dr=function Dr(o,i,u){var n,e,t,r,c,a;return n=function n(t){for(var n=[],e=1;e<arguments.length;e++){n[e-1]=arguments[e];}var r=[t].concat(n);return t.config({name:A(o)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+o+". Using API: "+u);},function(n){var e=Array.prototype.slice.call(r,1);return i.apply(undefined,[t,n.config,n.state].concat(e));});},e=u,t=i.toString(),r=t.indexOf(")")+1,c=t.indexOf("("),a=t.substring(c+1,r-1).split(/,\s*/),n.toFunctionAnnotation=function(){return{name:e,parameters:wr(a.slice(0,1).concat(a.slice(3)))};},n;},Ir=function Ir(n){return{key:n,value:undefined};},Ar=function Ar(t,n,r,o,e,i,u){var c=function c(n){return xt(n,r)?n[r]():F.none();},a=V(e,function(n,e){return Dr(r,n,e);}),s=V(i,function(n,e){return xr(n,e);}),f=k(s,a,{revoke:l(Ir,r),config:function config(n){var e=Gt(r+"-config",t,n);return{key:r,value:{config:e,me:f,configAsRaw:J(function(){return Ut(r+"-config",t,n);}),initialConfig:n,state:u}};},schema:function schema(){return n;},exhibit:function exhibit(n,t){return c(n).bind(function(e){return ht(o,"exhibit").map(function(n){return n(t,e.config,e.state);});}).getOr(Or({}));},name:function name(){return r;},handlers:function handlers(n){return c(n).bind(function(e){return ht(o,"events").map(function(n){return n(e.config,e.state);});}).getOr({});}});return f;},Mr=function Mr(n,e){return Fr(n,e,{validate:w,label:"function"});},Fr=function Fr(r,o,i){if(0===o.length)throw new Error("You must specify at least one required field.");return Oe("required",o),ke(o),function(e){var t=R(e);En(o,function(n){return hn(t,n);})||Te(o,t),r(o,t);var n=wn(o,function(n){return!i.validate(e[n],n);});return 0<n.length&&function(n,e){throw new Error("All values need to be of type: "+e+". Keys ("+xe(n).join(", ")+") were not.");}(n,i.label),e;};},Rr=function Rr(e,n){var t=wn(n,function(n){return!hn(e,n);});0<t.length&&Se(t);},Br=I,Vr=function Vr(n){return Mr(Rr,n);},Nr={init:function init(){return _r({readState:function readState(){return"No State required";}});}},_r=function _r(n){return Mr(Br,["readState"])(n),n;},jr=function jr(n){return bt(n);},Hr=Rt([Jt("fields"),Jt("name"),or("active",{}),or("apis",{}),or("state",Nr),or("extra",{})]),zr=function zr(n){var e,t,r,o,i,u,c,a,s=Ut("Creating behaviour: "+n.name,Hr,n);return e=s.fields,t=s.name,r=s.active,o=s.apis,i=s.extra,u=s.state,c=Rt(e),a=tr(t,[rr("config",e)]),Ar(c,a,t,r,o,i,u);},Lr=Rt([Jt("branchKey"),Jt("branches"),Jt("name"),or("active",{}),or("apis",{}),or("state",Nr),or("extra",{})]),Pr=A(undefined),$r=function $r(n,e,t){if(!(y(t)||b(t)||T(t)))throw p.console.error("Invalid call to Attr.set. Key ",e,":: Value ",t,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(e,t+"");},Wr=function Wr(n,e,t){$r(n.dom(),e,t);},Ur=function Ur(n,e){var t=n.dom();B(e,function(n,e){$r(t,e,n);});},Gr=function Gr(n,e){var t=n.dom().getAttribute(e);return null===t?undefined:t;},qr=function qr(n,e){var t=n.dom();return!(!t||!t.hasAttribute)&&t.hasAttribute(e);},Yr=function Yr(n,e){n.dom().removeAttribute(e);},Kr=function Kr(n,e){var t=Gr(n,e);return t===undefined||""===t?[]:t.split(" ");},Xr=function Xr(n){return n.dom().classList!==undefined;},Jr=function Jr(n){return Kr(n,"class");},Qr=function Qr(n,e){return o=e,i=Kr(t=n,r="class").concat([o]),Wr(t,r,i.join(" ")),!0;var t,r,o,i;},Zr=function Zr(n,e){return o=e,0<(i=wn(Kr(t=n,r="class"),function(n){return n!==o;})).length?Wr(t,r,i.join(" ")):Yr(t,r),!1;var t,r,o,i;},no=function no(n,e){Xr(n)?n.dom().classList.add(e):Qr(n,e);},eo=function eo(n,e){var t;Xr(n)?n.dom().classList.remove(e):Zr(n,e),0===(Xr(t=n)?t.dom().classList:Jr(t)).length&&Yr(t,"class");},to=function to(n,e){return Xr(n)?n.dom().classList.toggle(e):(r=e,hn(Jr(t=n),r)?Zr(t,r):Qr(t,r));var t,r;},ro=function ro(n,e){return Xr(n)&&n.dom().classList.contains(e);},oo=function oo(n,e,t){eo(n,t),no(n,e);},io=Object.freeze({toAlpha:function toAlpha(n,e,t){oo(n.element(),e.alpha(),e.omega());},toOmega:function toOmega(n,e,t){oo(n.element(),e.omega(),e.alpha());},isAlpha:function isAlpha(n,e,t){return ro(n.element(),e.alpha());},isOmega:function isOmega(n,e,t){return ro(n.element(),e.omega());},clear:function clear(n,e,t){eo(n.element(),e.alpha()),eo(n.element(),e.omega());}}),uo=[Jt("alpha"),Jt("omega")],co=zr({fields:uo,name:"swapping",apis:io}),ao=function ao(n){var e=n,t=function t(){return e;};return{get:t,set:function set(n){e=n;},clone:function clone(){return ao(t());}};};function so(n,e,t,r,o){return n(t,r)?F.some(t):w(o)&&o(t)?F.none():e(t,r,o);}var fo=function fo(n,e,t){for(var r=n.dom(),o=w(t)?t:A(!1);r.parentNode;){r=r.parentNode;var i=ue.fromDom(r);if(e(i))return F.some(i);if(o(i))break;}return F.none();},lo=function lo(n,e,t){return so(function(n,e){return e(n);},fo,n,e,t);},mo=function mo(n){n.dom().focus();},go=function go(n){n.dom().blur();},po=function po(n){var e=n!==undefined?n.dom():p.document;return F.from(e.activeElement).map(ue.fromDom);},vo=function vo(e){return po(Be(e)).filter(function(n){return e.dom().contains(n.dom());});},ho=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yo=tinymce.util.Tools.resolve("tinymce.ThemeManager"),bo=function bo(n){var e=p.document.createElement("a");e.target="_blank",e.href=n.href,e.rel="noreferrer noopener";var t=p.document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,p.window,0,0,0,0,0,!1,!1,!1,!1,0,null),p.document.body.appendChild(e),e.dispatchEvent(t),p.document.body.removeChild(e);},wo={formatChanged:A("formatChanged"),orientationChanged:A("orientationChanged"),dropupDismissed:A("dropupDismissed")},xo=function xo(n){return n.dom().innerHTML;},To=function To(n,e){var t,r,o=Be(n).dom(),i=ue.fromDom(o.createDocumentFragment()),u=(t=e,(r=(o||p.document).createElement("div")).innerHTML=t,_e(ue.fromDom(r)));Le(i,u),Pe(n),ze(n,i);},So=function So(n){return e=n,t=!1,ue.fromDom(e.dom().cloneNode(t));var e,t;},Oo=function Oo(n){var e,t,r,o=So(n);return e=o,t=ue.fromTag("div"),r=ue.fromDom(e.dom().cloneNode(!0)),ze(t,r),xo(t);},ko=function ko(n){return Oo(n);},Co=Object.freeze({events:function events(c){return sr([lr(Wn(),function(o,i){var n,e,u=c.channels(),t=R(u),r=(n=t,(e=i).universal()?n:wn(n,function(n){return hn(e.channels(),n);}));bn(r,function(n){var e=u[n](),t=e.schema(),r=Gt("channel["+n+"] data\nReceiver: "+ko(o.element()),t,i.data());e.onReceive()(o,r);});})]);}}),Eo=function Eo(n){for(var e=[],t=function t(n){e.push(n);},r=0;r<n.length;r++){n[r].each(t);}return e;},Do="unknown",Io=[],Ao=["alloy/data/Fields","alloy/debugging/Debugging"],Mo={logEventCut:I,logEventStopped:I,logNoParent:I,logEventNoHandlers:I,logEventResponse:I,write:I},Fo=function Fo(n,e,t){var r,o="*"===Io||hn(Io,n)?(r=[],{logEventCut:function logEventCut(n,e,t){r.push({outcome:"cut",target:e,purpose:t});},logEventStopped:function logEventStopped(n,e,t){r.push({outcome:"stopped",target:e,purpose:t});},logNoParent:function logNoParent(n,e,t){r.push({outcome:"no-parent",target:e,purpose:t});},logEventNoHandlers:function logEventNoHandlers(n,e){r.push({outcome:"no-handlers-left",target:e});},logEventResponse:function logEventResponse(n,e,t){r.push({outcome:"response",purpose:t,target:e});},write:function write(){hn(["mousemove","mouseover","mouseout",Xn()],n)||p.console.log(n,{event:n,target:e.dom(),sequence:yn(r,function(n){return hn(["cut","stopped","response"],n.outcome)?"{"+n.purpose+"} "+n.outcome+" at ("+ko(n.target)+")":n.outcome;})});}}):Mo,i=t(o);return o.write(),i;},Ro=A([Jt("menu"),Jt("selectedMenu")]),Bo=A([Jt("item"),Jt("selectedItem")]),Vo=(A(Rt(Bo().concat(Ro()))),A(Rt(Bo()))),No=nr("initSize",[Jt("numColumns"),Jt("numRows")]),_o=function _o(n,e,t){var r;return function(){var n=new Error();if(n.stack!==undefined){var e=n.stack.split("\n");Sn(e,function(e){return 0<e.indexOf("alloy")&&!function(n,e){for(var t=0,r=n.length;t<r;t++){if(e(n[t],t))return!0;}return!1;}(Ao,function(n){return-1<e.indexOf(n);});}).getOr(Do);}}(),jt(e,e,t,(r=function r(t){return Qe.value(function(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}return t.apply(undefined,n);});},Ft(function(n){return r(n);})));},jo=function jo(n){return _o(0,n,et(I));},Ho=function Ho(n){return _o(0,n,et(F.none));},zo=function zo(n){return _o(0,n,tt());},Lo=function Lo(n){return _o(0,n,tt());},Po=function Po(n,e){return ur(n,A(e));},$o=function $o(n){return ur(n,h);},Wo=A(No),Uo=[Qt("channels",Vt(Qe.value,Rt([zo("onReceive"),or("schema",Kt())])))],Go=zr({fields:Uo,name:"receiving",active:Co}),qo=function qo(n,e){var t=Jo(n,e),r=e.aria();r.update()(n,r,t);},Yo=function Yo(n,e,t){to(n.element(),e.toggleClass()),qo(n,e);},Ko=function Ko(n,e,t){no(n.element(),e.toggleClass()),qo(n,e);},Xo=function Xo(n,e,t){eo(n.element(),e.toggleClass()),qo(n,e);},Jo=function Jo(n,e){return ro(n.element(),e.toggleClass());},Qo=function Qo(n,e,t){(e.selected()?Ko:Xo)(n,e,t);},Zo=Object.freeze({onLoad:Qo,toggle:Yo,isOn:Jo,on:Ko,off:Xo}),ni=Object.freeze({exhibit:function exhibit(n,e,t){return Or({});},events:function events(n,e){var t,r,o,i=(t=n,r=e,o=Yo,br(function(n){o(n,t,r);})),u=Cr(n,e,Qo);return sr(kn([n.toggleOnExecute()?[i]:[],[u]]));}}),ei=function ei(n,e,t){Wr(n.element(),"aria-expanded",t);},ti=[or("selected",!1),Jt("toggleClass"),or("toggleOnExecute",!0),ir("aria",{mode:"none"},Yt("mode",{pressed:[or("syncWithExpanded",!1),Po("update",function(n,e,t){Wr(n.element(),"aria-pressed",t),e.syncWithExpanded()&&ei(n,e,t);})],checked:[Po("update",function(n,e,t){Wr(n.element(),"aria-checked",t);})],expanded:[Po("update",ei)],selected:[Po("update",function(n,e,t){Wr(n.element(),"aria-selected",t);})],none:[Po("update",I)]}))],ri=zr({fields:ti,name:"toggling",active:ni,apis:Zo}),oi=function oi(t,r){return Go.config({channels:yt(wo.formatChanged(),{onReceive:function onReceive(n,e){e.command===t&&r(n,e.state);}})});},ii=function ii(n){return Go.config({channels:yt(wo.orientationChanged(),{onReceive:n})});},ui=function ui(n,e){return{key:n,value:{onReceive:e}};},ci="tinymce-mobile",ai={resolve:function resolve(n){return ci+"-"+n;},prefix:A(ci)},si=function si(n,e){e.ignore()||(mo(n.element()),e.onFocus()(n));},fi=Object.freeze({focus:si,blur:function blur(n,e){e.ignore()||go(n.element());},isFocused:function isFocused(n){return e=n.element(),t=Be(e).dom(),e.dom()===t.activeElement;var e,t;}}),li=Object.freeze({exhibit:function exhibit(n,e){return e.ignore()?Or({}):Or({attributes:{tabindex:"-1"}});},events:function events(t){return sr([lr(Pn(),function(n,e){si(n,t),e.stop();})]);}}),di=[jo("onFocus"),or("ignore",!1)],mi=zr({fields:di,name:"focusing",active:li,apis:fi}),gi=function gi(n){return n.style!==undefined&&w(n.style.getPropertyValue);},pi=function pi(n,e,t){if(!y(t))throw p.console.error("Invalid call to CSS.set. Property ",e,":: Value ",t,":: Element ",n),new Error("CSS value must be a string: "+t);gi(n)&&n.style.setProperty(e,t);},vi=function vi(n,e,t){var r=n.dom();pi(r,e,t);},hi=function hi(n,e){var t=n.dom();B(e,function(n,e){pi(t,e,n);});},yi=function yi(n,e){var t=n.dom(),r=p.window.getComputedStyle(t).getPropertyValue(e),o=""!==r||he(n)?r:bi(t,e);return null===o?undefined:o;},bi=function bi(n,e){return gi(n)?n.style.getPropertyValue(e):"";},wi=function wi(n,e){var t=n.dom(),r=bi(t,e);return F.from(r).filter(function(n){return 0<n.length;});},xi=function xi(n,e){var t,r,o=n.dom();r=e,gi(t=o)&&t.style.removeProperty(r),qr(n,"style")&&""===Gr(n,"style").replace(/^\s+|\s+$/g,"")&&Yr(n,"style");},Ti=function Ti(n){return n.dom().offsetWidth;};function Si(r,o){var n=function n(_n7){var e=o(_n7);if(e<=0||null===e){var t=yi(_n7,r);return parseFloat(t)||0;}return e;},i=function i(o,n){return Tn(n,function(n,e){var t=yi(o,e),r=t===undefined?0:parseInt(t,10);return isNaN(r)?n:n+r;},0);};return{set:function set(n,e){if(!T(e)&&!e.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+e);var t=n.dom();gi(t)&&(t.style[r]=e+"px");},get:n,getOuter:n,aggregate:i,max:function max(n,e,t){var r=i(n,t);return r<e?e-r:0;}};}var Oi,ki,Ci=Si("height",function(n){var e=n.dom();return he(n)?e.getBoundingClientRect().height:e.offsetHeight;}),Ei=function Ei(n){return Ci.get(n);},Di=function Di(n,e,t){return wn(function(n,e){for(var t=w(e)?e:s,r=n.dom(),o=[];null!==r.parentNode&&r.parentNode!==undefined;){var i=r.parentNode,u=ue.fromDom(i);if(o.push(u),!0===t(u))break;r=i;}return o;}(n,t),e);},Ii=function Ii(n,e){return wn(Ne(t=n).map(_e).map(function(n){return wn(n,function(n){return!Re(t,n);});}).getOr([]),e);var t;},Ai=function Ai(n,e){return Me(e,n);},Mi=function Mi(n){return Fe(n);},Fi=function Fi(n,e,t){return fo(n,function(n){return Ie(n,e);},t);},Ri=function Ri(n,e){return Fe(e,n);},Bi=function Bi(n,e,t){return so(Ie,Fi,n,e,t);},Vi=function Vi(n,e,t){var r=Dn(n.slice(0,e)),o=Dn(n.slice(e+1));return Sn(r.concat(o),t);},Ni=function Ni(n,e,t){var r=Dn(n.slice(0,e));return Sn(r,t);},_i=function _i(n,e,t){var r=n.slice(0,e),o=n.slice(e+1);return Sn(o.concat(r),t);},ji=function ji(n,e,t){var r=n.slice(e+1);return Sn(r,t);},Hi=function Hi(t){return function(n){var e=n.raw();return hn(t,e.which);};},zi=function zi(n){return function(e){return En(n,function(n){return n(e);});};},Li=function Li(n){return!0===n.raw().shiftKey;},Pi=function Pi(n){return!0===n.raw().ctrlKey;},$i=x(Li),Wi=function Wi(n,e){return{matches:n,classification:e};},Ui=function Ui(n,e,t,r){var o=n+e;return r<o?t:o<t?r:o;},Gi=function Gi(n,e,t){return n<=e?e:t<=n?t:n;},qi=function qi(e,t,n){var r=Ai(e.element(),"."+t.highlightClass());bn(r,function(n){eo(n,t.highlightClass()),e.getSystem().getByDom(n).each(function(n){t.onDehighlight()(e,n);});});},Yi=function Yi(n,e,t,r){var o=Ki(n,e,t,r);qi(n,e),no(r.element(),e.highlightClass()),o||e.onHighlight()(n,r);},Ki=function Ki(n,e,t,r){return ro(r.element(),e.highlightClass());},Xi=function Xi(n,e,t,r){var o=Ai(n.element(),"."+e.itemClass());return F.from(o[r]).fold(function(){return Qe.error("No element found with index "+r);},n.getSystem().getByDom);},Ji=function Ji(e,n,t){return Ri(e.element(),"."+n.itemClass()).bind(function(n){return e.getSystem().getByDom(n).toOption();});},Qi=function Qi(e,n,t){var r=Ai(e.element(),"."+n.itemClass());return(0<r.length?F.some(r[r.length-1]):F.none()).bind(function(n){return e.getSystem().getByDom(n).toOption();});},Zi=function Zi(t,e,n,r){var o=Ai(t.element(),"."+e.itemClass());return On(o,function(n){return ro(n,e.highlightClass());}).bind(function(n){var e=Ui(n,r,0,o.length-1);return t.getSystem().getByDom(o[e]).toOption();});},nu=Object.freeze({dehighlightAll:qi,dehighlight:function dehighlight(n,e,t,r){var o=Ki(n,e,t,r);eo(r.element(),e.highlightClass()),o&&e.onDehighlight()(n,r);},highlight:Yi,highlightFirst:function highlightFirst(e,t,r){Ji(e,t).each(function(n){Yi(e,t,r,n);});},highlightLast:function highlightLast(e,t,r){Qi(e,t).each(function(n){Yi(e,t,r,n);});},highlightAt:function highlightAt(e,t,r,n){Xi(e,t,r,n).fold(function(n){throw new Error(n);},function(n){Yi(e,t,r,n);});},highlightBy:function highlightBy(e,t,r,n){var o=Ai(e.element(),"."+t.itemClass()),i=Eo(yn(o,function(n){return e.getSystem().getByDom(n).toOption();}));Sn(i,n).each(function(n){Yi(e,t,r,n);});},isHighlighted:Ki,getHighlighted:function getHighlighted(e,n,t){return Ri(e.element(),"."+n.highlightClass()).bind(function(n){return e.getSystem().getByDom(n).toOption();});},getFirst:Ji,getLast:Qi,getPrevious:function getPrevious(n,e,t){return Zi(n,e,0,-1);},getNext:function getNext(n,e,t){return Zi(n,e,0,1);}}),eu=[Jt("highlightClass"),Jt("itemClass"),jo("onHighlight"),jo("onDehighlight")],tu=zr({fields:eu,name:"highlighting",apis:nu}),ru=function ru(){return{get:function get(n){return vo(n.element());},set:function set(n,e){n.getSystem().triggerFocus(e,n.element());}};},ou=function ou(n,e,c,t,r,i){var u=function u(e,t,r,o){var n,i,u=c(e,t,r,o);return(n=u,i=t.event(),Sn(n,function(n){return n.matches(i);}).map(function(n){return n.classification;})).bind(function(n){return n(e,t,r,o);});},o={schema:function schema(){return n.concat([or("focusManager",ru()),Po("handler",o),Po("state",e)]);},processKey:u,toEvents:function toEvents(r,o){var n=t(r,o),e=sr(i.map(function(t){return lr(Pn(),function(n,e){t(n,r,o,e),e.stop();});}).toArray().concat([lr(U(),function(n,e){u(n,e,r,o).each(function(n){e.stop();});})]));return k(n,e);},toApis:r};return o;},iu=function iu(n){var e=[er("onEscape"),er("onEnter"),or("selector",'[data-alloy-tabstop="true"]'),or("firstTabstop",0),or("useTabstopAt",A(!0)),er("visibilitySelector")].concat([n]),u=function u(n,e){var t=n.visibilitySelector().bind(function(n){return Bi(e,n);}).getOr(e);return 0<Ei(t);},c=function c(e,n,t,r,o){return o(n,t,function(n){return u(e=r,t=n)&&e.useTabstopAt()(t);var e,t;}).fold(function(){return r.cyclic()?F.some(!0):F.none();},function(n){return r.focusManager().set(e,n),F.some(!0);});},i=function i(e,n,t,r){var o,i,u=Ai(e.element(),t.selector());return(o=e,i=t,i.focusManager().get(o).bind(function(n){return Bi(n,i.selector());})).bind(function(n){return On(u,l(Re,n)).bind(function(n){return c(e,u,n,t,r);});});},t=A([Wi(zi([Li,Hi([9])]),function(n,e,t,r){var o=t.cyclic()?Vi:Ni;return i(n,0,t,o);}),Wi(Hi([9]),function(n,e,t,r){var o=t.cyclic()?_i:ji;return i(n,0,t,o);}),Wi(Hi([27]),function(e,t,n,r){return n.onEscape().bind(function(n){return n(e,t);});}),Wi(zi([$i,Hi([13])]),function(e,t,n,r){return n.onEnter().bind(function(n){return n(e,t);});})]),r=A({}),o=A({});return ou(e,Nr.init,t,r,o,F.some(function(e,t){var n,r,o,i;(n=e,r=t,o=Ai(n.element(),r.selector()),i=wn(o,function(n){return u(r,n);}),F.from(i[r.firstTabstop()])).each(function(n){t.focusManager().set(e,n);});}));},uu=iu(ur("cyclic",A(!1))),cu=iu(ur("cyclic",A(!0))),au=function au(n){return"input"===me(n)&&"radio"!==Gr(n,"type")||"textarea"===me(n);},su=function su(n,e,t){return au(t)&&Hi([32])(e.event())?F.none():(re(n,t,Un()),F.some(!0));},fu=[or("execute",su),or("useSpace",!1),or("useEnter",!0),or("useControlEnter",!1),or("useDown",!1)],lu=function lu(n,e,t){return t.execute()(n,e,n.element());},du=A({}),mu=A({}),gu=ou(fu,Nr.init,function(n,e,t,r){var o=t.useSpace()&&!au(n.element())?[32]:[],i=t.useEnter()?[13]:[],u=t.useDown()?[40]:[],c=o.concat(i).concat(u);return[Wi(Hi(c),lu)].concat(t.useControlEnter()?[Wi(zi([Pi,Hi([13])]),lu)]:[]);},du,mu,F.none()),pu=function pu(n){var t=ao(F.none());return _r({readState:A({}),setGridSize:function setGridSize(n,e){t.set(F.some({numRows:A(n),numColumns:A(e)}));},getNumRows:function getNumRows(){return t.get().map(function(n){return n.numRows();});},getNumColumns:function getNumColumns(){return t.get().map(function(n){return n.numColumns();});}});},vu=Object.freeze({flatgrid:pu,init:function init(n){return n.state()(n);}}),hu=function hu(e,t){return function(n){return"rtl"===yu(n)?t:e;};},yu=function yu(n){return"rtl"===yi(n,"direction")?"rtl":"ltr";},bu=function bu(i){return function(n,e,t,r){var o=i(n.element());return Su(o,n,e,t,r);};},wu=function wu(n,e){var t=hu(n,e);return bu(t);},xu=function xu(n,e){var t=hu(e,n);return bu(t);},Tu=function Tu(o){return function(n,e,t,r){return Su(o,n,e,t,r);};},Su=function Su(e,t,n,r,o){return r.focusManager().get(t).bind(function(n){return e(t.element(),n,r,o);}).map(function(n){return r.focusManager().set(t,n),!0;});},Ou=Tu,ku=Tu,Cu=Tu,Eu=function Eu(n){var e,t=n.dom();return!((e=t).offsetWidth<=0&&e.offsetHeight<=0);},Du=Ce(["index","candidates"],[]),Iu=function Iu(n,e,t){return Au(n,e,t);},Au=function Au(n,e,t,r){var o,i=l(Re,e),u=Ai(n,t),c=wn(u,Eu);return On(o=c,i).map(function(n){return Du({index:n,candidates:o});});},Mu=function Mu(n,e){return On(n,function(n){return Re(e,n);});},Fu=function Fu(t,n,r,e){return e(Math.floor(n/r),n%r).bind(function(n){var e=n.row()*r+n.column();return 0<=e&&e<t.length?F.some(t[e]):F.none();});},Ru=function Ru(o,n,i,u,c){return Fu(o,n,u,function(n,e){var t=n===i-1?o.length-n*u:u,r=Ui(e,c,0,t-1);return F.some({row:A(n),column:A(r)});});},Bu=function Bu(i,n,u,c,a){return Fu(i,n,c,function(n,e){var t=Ui(n,a,0,u-1),r=t===u-1?i.length-t*c:c,o=Gi(e,0,r-1);return F.some({row:A(t),column:A(o)});});},Vu=[Jt("selector"),or("execute",su),Ho("onEscape"),or("captureTab",!1),Wo()],Nu=function Nu(o){return function(n,e,t,r){return Iu(n,e,t.selector()).bind(function(n){return o(n.candidates(),n.index(),r.getNumRows().getOr(t.initSize().numRows()),r.getNumColumns().getOr(t.initSize().numColumns()));});};},_u=function _u(n,e,t,r){return t.captureTab()?F.some(!0):F.none();},ju=Nu(function(n,e,t,r){return Ru(n,e,t,r,-1);}),Hu=Nu(function(n,e,t,r){return Ru(n,e,t,r,1);}),zu=Nu(function(n,e,t,r){return Bu(n,e,t,r,-1);}),Lu=Nu(function(n,e,t,r){return Bu(n,e,t,r,1);}),Pu=A([Wi(Hi([37]),wu(ju,Hu)),Wi(Hi([39]),xu(ju,Hu)),Wi(Hi([38]),Ou(zu)),Wi(Hi([40]),ku(Lu)),Wi(zi([Li,Hi([9])]),_u),Wi(zi([$i,Hi([9])]),_u),Wi(Hi([27]),function(n,e,t,r){return t.onEscape()(n,e);}),Wi(Hi([32].concat([13])),function(e,t,r,n){return(o=e,i=r,i.focusManager().get(o).bind(function(n){return Bi(n,i.selector());})).bind(function(n){return r.execute()(e,t,n);});var o,i;})]),$u=A({}),Wu=ou(Vu,pu,Pu,$u,{},F.some(function(e,t,n){Ri(e.element(),t.selector()).each(function(n){t.focusManager().set(e,n);});})),Uu=function Uu(n,e,t,o){return Iu(n,t,e).bind(function(n){var e=n.index(),t=n.candidates(),r=Ui(e,o,0,t.length-1);return F.from(t[r]);});},Gu=[Jt("selector"),or("getInitial",F.none),or("execute",su),or("executeOnMove",!1),or("allowVertical",!0)],qu=function qu(e,t,r){return(n=e,o=r,o.focusManager().get(n).bind(function(n){return Bi(n,o.selector());})).bind(function(n){return r.execute()(e,t,n);});var n,o;},Yu=function Yu(n,e,t){return Uu(n,t.selector(),e,-1);},Ku=function Ku(n,e,t){return Uu(n,t.selector(),e,1);},Xu=function Xu(r){return function(n,e,t){return r(n,e,t).bind(function(){return t.executeOnMove()?qu(n,e,t):F.some(!0);});};},Ju=A({}),Qu=A({}),Zu=ou(Gu,Nr.init,function(n,e,t,r){var o=[37].concat(t.allowVertical()?[38]:[]),i=[39].concat(t.allowVertical()?[40]:[]);return[Wi(Hi(o),Xu(wu(Yu,Ku))),Wi(Hi(i),Xu(xu(Yu,Ku))),Wi(Hi([13]),qu),Wi(Hi([32]),qu)];},Ju,Qu,F.some(function(e,t){t.getInitial()(e).or(Ri(e.element(),t.selector())).each(function(n){t.focusManager().set(e,n);});})),nc=Ce(["rowIndex","columnIndex","cell"],[]),ec=function ec(n,e,t){return F.from(n[e]).bind(function(n){return F.from(n[t]).map(function(n){return nc({rowIndex:e,columnIndex:t,cell:n});});});},tc=function tc(n,e,t,r){var o=n[e].length,i=Ui(t,r,0,o-1);return ec(n,e,i);},rc=function rc(n,e,t,r){var o=Ui(t,r,0,n.length-1),i=n[o].length,u=Gi(e,0,i-1);return ec(n,o,u);},oc=function oc(n,e,t,r){var o=n[e].length,i=Gi(t+r,0,o-1);return ec(n,e,i);},ic=function ic(n,e,t,r){var o=Gi(t+r,0,n.length-1),i=n[o].length,u=Gi(e,0,i-1);return ec(n,o,u);},uc=[nr("selectors",[Jt("row"),Jt("cell")]),or("cycles",!0),or("previousSelector",F.none),or("execute",su)],cc=function cc(n,e){return function(t,r,i){var u=i.cycles()?n:e;return Bi(r,i.selectors().row()).bind(function(n){var e=Ai(n,i.selectors().cell());return Mu(e,r).bind(function(r){var o=Ai(t,i.selectors().row());return Mu(o,n).bind(function(n){var e,t=(e=i,yn(o,function(n){return Ai(n,e.selectors().cell());}));return u(t,n,r).map(function(n){return n.cell();});});});});};},ac=cc(function(n,e,t){return tc(n,e,t,-1);},function(n,e,t){return oc(n,e,t,-1);}),sc=cc(function(n,e,t){return tc(n,e,t,1);},function(n,e,t){return oc(n,e,t,1);}),fc=cc(function(n,e,t){return rc(n,t,e,-1);},function(n,e,t){return ic(n,t,e,-1);}),lc=cc(function(n,e,t){return rc(n,t,e,1);},function(n,e,t){return ic(n,t,e,1);}),dc=A([Wi(Hi([37]),wu(ac,sc)),Wi(Hi([39]),xu(ac,sc)),Wi(Hi([38]),Ou(fc)),Wi(Hi([40]),ku(lc)),Wi(Hi([32].concat([13])),function(e,t,r){return vo(e.element()).bind(function(n){return r.execute()(e,t,n);});})]),mc=A({}),gc=A({}),pc=ou(uc,Nr.init,dc,mc,gc,F.some(function(e,t){t.previousSelector()(e).orThunk(function(){var n=t.selectors();return Ri(e.element(),n.cell());}).each(function(n){t.focusManager().set(e,n);});})),vc=[Jt("selector"),or("execute",su),or("moveOnTab",!1)],hc=function hc(e,t,r){return r.focusManager().get(e).bind(function(n){return r.execute()(e,t,n);});},yc=function yc(n,e,t){return Uu(n,t.selector(),e,-1);},bc=function bc(n,e,t){return Uu(n,t.selector(),e,1);},wc=A([Wi(Hi([38]),Cu(yc)),Wi(Hi([40]),Cu(bc)),Wi(zi([Li,Hi([9])]),function(n,e,t){return t.moveOnTab()?Cu(yc)(n,e,t):F.none();}),Wi(zi([$i,Hi([9])]),function(n,e,t){return t.moveOnTab()?Cu(bc)(n,e,t):F.none();}),Wi(Hi([13]),hc),Wi(Hi([32]),hc)]),xc=A({}),Tc=A({}),Sc=ou(vc,Nr.init,wc,xc,Tc,F.some(function(e,t){Ri(e.element(),t.selector()).each(function(n){t.focusManager().set(e,n);});})),Oc=[Ho("onSpace"),Ho("onEnter"),Ho("onShiftEnter"),Ho("onLeft"),Ho("onRight"),Ho("onTab"),Ho("onShiftTab"),Ho("onUp"),Ho("onDown"),Ho("onEscape"),er("focusIn")],kc=ou(Oc,Nr.init,function(n,e,t){return[Wi(Hi([32]),t.onSpace()),Wi(zi([$i,Hi([13])]),t.onEnter()),Wi(zi([Li,Hi([13])]),t.onShiftEnter()),Wi(zi([Li,Hi([9])]),t.onShiftTab()),Wi(zi([$i,Hi([9])]),t.onTab()),Wi(Hi([38]),t.onUp()),Wi(Hi([40]),t.onDown()),Wi(Hi([37]),t.onLeft()),Wi(Hi([39]),t.onRight()),Wi(Hi([32]),t.onSpace()),Wi(Hi([27]),t.onEscape())];},function(){return{};},function(){return{};},F.some(function(e,t){return t.focusIn().bind(function(n){return n(e,t);});})),Cc=uu.schema(),Ec=cu.schema(),Dc=Zu.schema(),Ic=Wu.schema(),Ac=pc.schema(),Mc=gu.schema(),Fc=Sc.schema(),Rc=kc.schema(),Bc=(ki=Ut("Creating behaviour: "+(Oi={branchKey:"mode",branches:Object.freeze({acyclic:Cc,cyclic:Ec,flow:Dc,flatgrid:Ic,matrix:Ac,execution:Mc,menu:Fc,special:Rc}),name:"keying",active:{events:function events(n,e){return n.handler().toEvents(n,e);}},apis:{focusIn:function focusIn(n){n.getSystem().triggerFocus(n.element(),n.element());},setGridSize:function setGridSize(n,e,t,r,o){xt(t,"setGridSize")?t.setGridSize(r,o):p.console.error("Layout does not support setGridSize");}},state:vu}).name,Lr,Oi),Er(Yt(ki.branchKey,ki.branches),ki.name,ki.active,ki.apis,ki.extra,ki.state)),Vc=function Vc(r,n){return e=r,t={},o=yn(n,function(n){return e=n.name(),t="Cannot configure "+n.name()+" for "+r,jt(e,e,rt(),Ft(function(n){return Qe.error("The field: "+e+" is forbidden. "+t);}));var e,t;}).concat([ur("dump",h)]),jt(e,e,et(t),Bt(o));var e,t,o;},Nc=function Nc(n){return n.dump();},_c="placeholder",jc=Ze([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Hc=function Hc(n,e,t,r){return t.uiType===_c?(i=t,u=r,(o=n).exists(function(n){return n!==i.owner;})?jc.single(!0,A(i)):ht(u,i.name).fold(function(){throw new Error("Unknown placeholder component: "+i.name+"\nKnown: ["+R(u)+"]\nNamespace: "+o.getOr("none")+"\nSpec: "+kt(i,null,2));},function(n){return n.replace();})):jc.single(!1,A(t));var o,i,u;},zc=function zc(i,u,c,a){return Hc(i,0,c,a).fold(function(n,e){var t=e(u,c.config,c.validated),r=ht(t,"components").getOr([]),o=Cn(r,function(n){return zc(i,u,n,a);});return[k(t,{components:o})];},function(n,e){return e(u,c.config,c.validated);});},Lc=function Lc(e,t,n,r){var o,i,u,c=V(r,function(n,e){return r=n,o=!1,{name:A(t=e),required:function required(){return r.fold(function(n,e){return n;},function(n,e){return n;});},used:function used(){return o;},replace:function replace(){if(!0===o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r;}};var t,r,o;}),a=(o=e,i=t,u=c,Cn(n,function(n){return zc(o,i,n,u);}));return B(c,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+kt(t.components(),null,2));}),a;},Pc=jc.single,$c=jc.multiple,Wc=A(_c),Uc=0,Gc=function Gc(n){var e=new Date().getTime();return n+"_"+Math.floor(1e9*Math.random())+ ++Uc+String(e);},qc=Ze([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Yc=or("factory",{sketch:h}),Kc=or("schema",[]),Xc=Jt("name"),Jc=jt("pname","pname",ot(function(n){return"<alloy."+Gc(n.name)+">";}),Kt()),Qc=or("defaults",A({})),Zc=or("overrides",A({})),na=Bt([Yc,Kc,Xc,Jc,Qc,Zc]),ea=Bt([Yc,Kc,Xc,Jc,Qc,Zc]),ta=Bt([Yc,Kc,Xc,Jt("unit"),Jc,Qc,Zc]),ra=function ra(n){var e=function e(n){return n.name();};return n.fold(e,e,e,e);},oa=function oa(t,r){return function(n){var e=Gt("Converting part type",r,n);return t(e);};},ia=oa(qc.required,na),ua=oa(qc.optional,ea),ca=oa(qc.group,ta),aa=A("entirety"),sa=function sa(n,e,t,r){var o=t;return k(e.defaults()(n,t,r),t,{uid:n.partUids()[e.name()]},e.overrides()(n,t,r),{"debug.sketcher":yt("part-"+e.name(),o)});},fa=function fa(o,n){var i={};return bn(n,function(n){var e;(e=n,e.fold(F.some,F.none,F.some,F.some)).each(function(t){var r=la(o,t.pname());i[t.name()]=function(n){var e=Ut("Part: "+t.name()+" in "+o,Bt(t.schema()),n);return k(r,{config:n,validated:e});};});}),i;},la=function la(n,e){return{uiType:Wc(),owner:n,name:e};},da=function da(n,e,t){return r=e,i={},o={},bn(t,function(n){n.fold(function(r){i[r.pname()]=Pc(!0,function(n,e,t){return r.factory().sketch(sa(n,r,e,t));});},function(n){var e=r.parts()[n.name()]();o[n.name()]=A(sa(r,n,e[aa()]()));},function(r){i[r.pname()]=Pc(!1,function(n,e,t){return r.factory().sketch(sa(n,r,e,t));});},function(o){i[o.pname()]=$c(!0,function(e,n,t){var r=e[o.name()]();return yn(r,function(n){return o.factory().sketch(k(o.defaults()(e,n),n,o.overrides()(e,n)));});});});}),{internals:A(i),externals:A(o)};var r,i,o;},ma=function ma(n,e,t){return Lc(F.some(n),e,e.components(),t);},ga=function ga(n,e,t){var r=e.partUids()[t];return n.getSystem().getByUid(r).toOption();},pa=function pa(n,e,t){return ga(n,e,t).getOrDie("Could not find part: "+t);},va=function va(e,n){var t=yn(n,ra);return bt(yn(t,function(n){return{key:n,value:e+"-"+n};}));},ha=function ha(e){return jt("partUids","partUids",it(function(n){return va(n.uid,e);}),Kt());},ya=Gc("alloy-premade"),ba=Gc("api"),wa=function wa(n){return yt(ya,n);},xa=function xa(o){return n=function n(_n8){for(var e=[],t=1;t<arguments.length;t++){e[t-1]=arguments[t];}var r=_n8.config(ba);return o.apply(undefined,[r].concat([_n8].concat(e)));},e=o.toString(),t=e.indexOf(")")+1,r=e.indexOf("("),i=e.substring(r+1,t-1).split(/,\s*/),n.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:wr(i.slice(1))};},n;var n,e,t,r,i;},Ta=A(ba),Sa=A("alloy-id-"),Oa=A("data-alloy-id"),ka=Sa(),Ca=Oa(),Ea=function Ea(n){var e=pe(n)?Gr(n,Ca):null;return F.from(e);},Da=function Da(n){return Gc(n);},Ia=function Ia(n,e,t,r,o){var i,u,c=(u=o,(0<(i=r).length?[nr("parts",i)]:[]).concat([Jt("uid"),or("dom",{}),or("components",[]),$o("originalSpec"),or("debug.sketcher",{})]).concat(u));return Gt(n+" [SpecSchema]",Rt(c.concat(e)),t);},Aa=function Aa(n,e,t,r,o){var i=Ma(o),u=Cn(t,function(n){return n.fold(F.none,F.some,F.none,F.none).map(function(n){return nr(n.name(),n.schema().concat([$o(aa())]));}).toArray();}),c=ha(t),a=Ia(n,e,i,u,[c]),s=da(0,a,t),f=ma(n,a,s.internals());return k(r(a,f,i,s.externals()),{"debug.sketcher":yt(n,o)});},Ma=function Ma(n){return k({uid:Da("uid")},n);},Fa=Rt([Jt("name"),Jt("factory"),Jt("configFields"),or("apis",{}),or("extraApis",{})]),Ra=Rt([Jt("name"),Jt("factory"),Jt("configFields"),Jt("partFields"),or("apis",{}),or("extraApis",{})]),Ba=function Ba(n){var c=Ut("Sketcher for "+n.name,Fa,n),e=V(c.apis,xa),t=V(c.extraApis,function(n,e){return xr(n,e);});return k({name:A(c.name),partFields:A([]),configFields:A(c.configFields),sketch:function sketch(n){return e=c.name,t=c.configFields,r=c.factory,i=Ma(o=n),u=Ia(e,t,i,[],[]),k(r(u,i),{"debug.sketcher":yt(e,o)});var e,t,r,o,i,u;}},e,t);},Va=function Va(n){var e=Ut("Sketcher for "+n.name,Ra,n),t=fa(e.name,e.partFields),r=V(e.apis,xa),o=V(e.extraApis,function(n,e){return xr(n,e);});return k({name:A(e.name),partFields:A(e.partFields),configFields:A(e.configFields),sketch:function sketch(n){return Aa(e.name,e.configFields,e.partFields,e.factory,n);},parts:A(t)},r,o);},Na=Ba({name:"Button",factory:function factory(n){var e,t,r,o=(e=n.action(),t=function t(n,e){e.stop(),te(n);},r=zn.detect().deviceType.isTouch()?[lr(qn(),t)]:[lr(Y(),t),lr(L(),function(n,e){e.cut();})],sr(kn([e.map(function(t){return lr(Un(),function(n,e){t(n),e.stop();});}).toArray(),r]))),i=ht(n.dom(),"attributes").bind(pt("type")),u=ht(n.dom(),"tag");return{uid:n.uid(),dom:n.dom(),components:n.components(),events:o,behaviours:k(jr([mi.config({}),Bc.config({mode:"execution",useSpace:!0,useEnter:!0})]),Nc(n.buttonBehaviours())),domModification:{attributes:k(i.fold(function(){return u.is("button")?{type:"button"}:{};},function(n){return{};}),{role:n.role().getOr("button")})},eventOrder:n.eventOrder()};},configFields:[or("uid",undefined),Jt("dom"),or("components",[]),Vc("buttonBehaviours",[mi,Bc]),er("action"),er("role"),or("eventOrder",{})]}),_a=zr({fields:[],name:"unselecting",active:Object.freeze({events:function events(n){return sr([fr(X(),A(!0))]);},exhibit:function exhibit(n,e){return Or({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}});}})}),ja=function ja(n){var e,t,r,o=ue.fromHtml(n),i=_e(o),u=(t=(e=o).dom().attributes!==undefined?e.dom().attributes:[],Tn(t,function(n,e){return"class"===e.name?n:k(n,yt(e.name,e.value));},{})),c=(r=o,Array.prototype.slice.call(r.dom().classList,0)),a=0===i.length?{}:{innerHtml:xo(o)};return k({tag:me(o),classes:c,attributes:u},a);},Ha=function Ha(n){var e,o,t=(e=n,o={prefix:ai.prefix()},e.replace(/\$\{([^{}]*)\}/g,function(n,e){var t,r=o[e];return"string"==(t=_typeof(r))||"number"===t?r.toString():n;}));return ja(t);},za=function za(n){return{dom:Ha(n)};},La=function La(n){return jr([ri.config({toggleClass:ai.resolve("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),oi(n,function(n,e){(e?ri.on:ri.off)(n);})]);},Pa=function Pa(n,e,t){return Na.sketch({dom:Ha('<span class="${prefix}-toolbar-button ${prefix}-icon-'+n+' ${prefix}-icon"></span>'),action:e,buttonBehaviours:k(jr([_a.config({})]),t)});},$a={forToolbar:Pa,forToolbarCommand:function forToolbarCommand(n,e){return Pa(e,function(){n.execCommand(e);},{});},forToolbarStateAction:function forToolbarStateAction(n,e,t,r){var o=La(t);return Pa(e,r,o);},forToolbarStateCommand:function forToolbarStateCommand(n,e){var t=La(e);return Pa(e,function(){n.execCommand(e);},t);}},Wa=function Wa(t,r){return{left:A(t),top:A(r),translate:function translate(n,e){return Wa(t+n,r+e);}};},Ua=Wa,Ga=function Ga(n,e,t){return Math.max(e,Math.min(t,n));},qa=function qa(n,e,t,r,o,i,u){var c=t-e;if(r<n.left)return e-1;if(r>n.right)return t+1;var a,s,f,l,d=Math.min(n.right,Math.max(r,n.left))-n.left,m=Ga(d/n.width*c+e,e-1,t+1),g=Math.round(m);return i&&e<=m&&m<=t?(a=m,s=e,f=t,l=o,u.fold(function(){var n=a-s,e=Math.round(n/l)*l;return Ga(s+e,s-1,f+1);},function(n){var e=(a-n)%l,t=Math.round(e/l),r=Math.floor((a-n)/l),o=Math.floor((f-n)/l),i=n+Math.min(o,r+t)*l;return Math.max(n,i);})):g;},Ya="slider.change.value",Ka=zn.detect().deviceType.isTouch(),Xa=function Xa(n){return function(n){var e=n.event().raw();if(Ka){var t=e;return t.touches!==undefined&&1===t.touches.length?F.some(t.touches[0]).map(function(n){return Ua(n.clientX,n.clientY);}):F.none();}var r=e;return r.clientX!==undefined?F.some(r).map(function(n){return Ua(n.clientX,n.clientY);}):F.none();}(n).map(function(n){return n.left();});},Ja=function Ja(n,e){ee(n,Ya,{value:e});},Qa=function Qa(i,u,c,n){return Xa(n).map(function(n){var e,t,r,o;return e=i,r=n,o=qa(c,(t=u).min(),t.max(),r,t.stepSize(),t.snapToGrid(),t.snapStart()),Ja(e,o),n;});},Za=function Za(n,e){var t,r,o,i,u=(t=e.value().get(),r=e.min(),o=e.max(),i=e.stepSize(),t<r?t:o<t?o:t===r?r-1:Math.max(r,t-i));Ja(n,u);},ns=function ns(n,e){var t,r,o,i,u=(t=e.value().get(),r=e.min(),o=e.max(),i=e.stepSize(),o<t?t:t<r?r:t===o?o+1:Math.min(o,t+i));Ja(n,u);},es=zn.detect().deviceType.isTouch(),ts=function ts(n,r){return ua({name:n+"-edge",overrides:function overrides(n){var e=sr([dr(j(),r,[n])]),t=sr([dr(L(),r,[n]),dr(P(),function(n,e){e.mouseIsDown().get()&&r(n,e);},[n])]);return{events:es?e:t};}});},rs=[ts("left",function(n,e){Ja(n,e.min()-1);}),ts("right",function(n,e){Ja(n,e.max()+1);}),ia({name:"thumb",defaults:A({dom:{styles:{position:"absolute"}}}),overrides:function overrides(n){return{events:sr([gr(j(),n,"spectrum"),gr(H(),n,"spectrum"),gr(z(),n,"spectrum")])};}}),ia({schema:[ur("mouseIsDown",function(){return ao(!1);})],name:"spectrum",overrides:function overrides(r){var t=function t(n,e){var t=n.element().dom().getBoundingClientRect();Qa(n,r,t,e);},n=sr([lr(j(),t),lr(H(),t)]),e=sr([lr(L(),t),lr(P(),function(n,e){r.mouseIsDown().get()&&t(n,e);})]);return{behaviours:jr(es?[]:[Bc.config({mode:"special",onLeft:function onLeft(n){return Za(n,r),F.some(!0);},onRight:function onRight(n){return ns(n,r),F.some(!0);}}),mi.config({})]),events:es?n:e};}})],os=function os(n,e,t){e.store().manager().onLoad(n,e,t);},is=function is(n,e,t){e.store().manager().onUnload(n,e,t);},us=Object.freeze({onLoad:os,onUnload:is,setValue:function setValue(n,e,t,r){e.store().manager().setValue(n,e,t,r);},getValue:function getValue(n,e,t){return e.store().manager().getValue(n,e,t);}}),cs=Object.freeze({events:function events(t,r){var n=t.resetOnDom()?[vr(function(n,e){os(n,t,r);}),hr(function(n,e){is(n,t,r);})]:[Cr(t,r,os)];return sr(n);}}),as=function as(){var n=ao(null);return _r({set:n.set,get:n.get,isNotSet:function isNotSet(){return null===n.get();},clear:function clear(){n.set(null);},readState:function readState(){return{mode:"memory",value:n.get()};}});},ss=function ss(){var n=ao({});return _r({readState:function readState(){return{mode:"dataset",dataset:n.get()};},set:n.set,get:n.get});},fs=Object.freeze({memory:as,dataset:ss,manual:function manual(){return _r({readState:function readState(){}});},init:function init(n){return n.store().manager().state(n);}}),ls=function ls(n,e,t,r){e.store().getDataKey(),t.set({}),e.store().setData()(n,r),e.onSetValue()(n,r);},ds=[er("initialValue"),Jt("getFallbackEntry"),Jt("getDataKey"),Jt("setData"),Po("manager",{setValue:ls,getValue:function getValue(n,e,t){var r=e.store().getDataKey()(n),o=t.get();return ht(o,r).fold(function(){return e.store().getFallbackEntry()(r);},function(n){return n;});},onLoad:function onLoad(e,t,r){t.store().initialValue().each(function(n){ls(e,t,r,n);});},onUnload:function onUnload(n,e,t){t.set({});},state:ss})],ms=[Jt("getValue"),or("setValue",I),er("initialValue"),Po("manager",{setValue:function setValue(n,e,t,r){e.store().setValue()(n,r),e.onSetValue()(n,r);},getValue:function getValue(n,e,t){return e.store().getValue()(n);},onLoad:function onLoad(e,t,n){t.store().initialValue().each(function(n){t.store().setValue()(e,n);});},onUnload:I,state:Nr.init})],gs=[er("initialValue"),Po("manager",{setValue:function setValue(n,e,t,r){t.set(r),e.onSetValue()(n,r);},getValue:function getValue(n,e,t){return t.get();},onLoad:function onLoad(n,e,t){e.store().initialValue().each(function(n){t.isNotSet()&&t.set(n);});},onUnload:function onUnload(n,e,t){t.clear();},state:as})],ps=[ir("store",{mode:"memory"},Yt("mode",{memory:gs,manual:ms,dataset:ds})),jo("onSetValue"),or("resetOnDom",!1)],vs=zr({fields:ps,name:"representing",active:cs,apis:us,extra:{setValueFrom:function setValueFrom(n,e){var t=vs.getValue(e);vs.setValue(n,t);}},state:fs}),hs=zn.detect().deviceType.isTouch(),ys=[Jt("min"),Jt("max"),or("stepSize",1),or("onChange",I),or("onInit",I),or("onDragStart",I),or("onDragEnd",I),or("snapToGrid",!1),er("snapStart"),Jt("getInitialValue"),Vc("sliderBehaviours",[Bc,vs]),ur("value",function(n){return ao(n.min);})].concat(hs?[]:[ur("mouseIsDown",function(){return ao(!1);})]),bs=Si("width",function(n){return n.dom().offsetWidth;}),ws=function ws(n,e){bs.set(n,e);},xs=function xs(n){return bs.get(n);},Ts=zn.detect().deviceType.isTouch(),Ss=Va({name:"Slider",configFields:ys,partFields:rs,factory:function factory(a,n,e,t){var s=a.max()-a.min(),f=function f(n){var e=n.element().dom().getBoundingClientRect();return(e.left+e.right)/2;},o=function o(n){return pa(n,a,"thumb");},i=function i(n){var e,t,r,o,i=pa(n,a,"spectrum").element().dom().getBoundingClientRect(),u=n.element().dom().getBoundingClientRect(),c=(e=n,t=i,(o=(r=a).value().get())<r.min()?ga(e,r,"left-edge").fold(function(){return 0;},function(n){return f(n)-t.left;}):o>r.max()?ga(e,r,"right-edge").fold(function(){return t.width;},function(n){return f(n)-t.left;}):(r.value().get()-r.min())/s*t.width);return i.left-u.left+c;},u=function u(n){var e=i(n),t=o(n),r=xs(t.element())/2;vi(t.element(),"left",e-r+"px");},r=function r(n,e){var t=a.value().get(),r=o(n);return t!==e||wi(r.element(),"left").isNone()?(a.value().set(e),u(n),a.onChange()(n,r,e),F.some(!0)):F.none();},c=Ts?[lr(j(),function(n,e){a.onDragStart()(n,o(n));}),lr(z(),function(n,e){a.onDragEnd()(n,o(n));})]:[lr(L(),function(n,e){e.stop(),a.onDragStart()(n,o(n)),a.mouseIsDown().set(!0);}),lr($(),function(n,e){a.onDragEnd()(n,o(n)),a.mouseIsDown().set(!1);})];return{uid:a.uid(),dom:a.dom(),components:n,behaviours:k(jr(kn([Ts?[]:[Bc.config({mode:"special",focusIn:function focusIn(n){return ga(n,a,"spectrum").map(Bc.focusIn).map(A(!0));}})],[vs.config({store:{mode:"manual",getValue:function getValue(n){return a.value().get();}}})]])),Nc(a.sliderBehaviours())),events:sr([lr(Ya,function(n,e){r(n,e.event().value());}),vr(function(n,e){a.value().set(a.getInitialValue()());var t=o(n);u(n),a.onInit()(n,t,a.value().get());})].concat(c)),apis:{resetToMin:function resetToMin(n){r(n,a.min());},resetToMax:function resetToMax(n){r(n,a.max());},refresh:u},domModification:{styles:{position:"relative"}}};},apis:{resetToMin:function resetToMin(n,e){n.resetToMin(e);},resetToMax:function resetToMax(n,e){n.resetToMax(e);},refresh:function refresh(n,e){n.refresh(e);}}}),Os=function Os(e,t,r){return $a.forToolbar(t,function(){var n=r();e.setContextToolbar([{label:t+" group",items:n}]);},{});},ks=function ks(n){return[(o=n,i=function i(n){return n<0?"black":360<n?"white":"hsl("+n+", 100%, 50%)";},Ss.sketch({dom:Ha('<div class="${prefix}-slider ${prefix}-hue-slider-container"></div>'),components:[Ss.parts()["left-edge"](za('<div class="${prefix}-hue-slider-black"></div>')),Ss.parts().spectrum({dom:Ha('<div class="${prefix}-slider-gradient-container"></div>'),components:[za('<div class="${prefix}-slider-gradient"></div>')],behaviours:jr([ri.config({toggleClass:ai.resolve("thumb-active")})])}),Ss.parts()["right-edge"](za('<div class="${prefix}-hue-slider-white"></div>')),Ss.parts().thumb({dom:Ha('<div class="${prefix}-slider-thumb"></div>'),behaviours:jr([ri.config({toggleClass:ai.resolve("thumb-active")})])})],onChange:function onChange(n,e,t){var r=i(t);vi(e.element(),"background-color",r),o.onChange(n,e,r);},onDragStart:function onDragStart(n,e){ri.on(e);},onDragEnd:function onDragEnd(n,e){ri.off(e);},onInit:function onInit(n,e,t){var r=i(t);vi(e.element(),"background-color",r);},stepSize:10,min:0,max:360,getInitialValue:o.getInitialValue,sliderBehaviours:jr([ii(Ss.refresh)])}))];var o,i;},Cs=function Cs(n,r){var e={onChange:function onChange(n,e,t){r.undoManager.transact(function(){r.formatter.apply("forecolor",{value:t}),r.nodeChanged();});},getInitialValue:function getInitialValue(){return-1;}};return Os(n,"color",function(){return ks(e);});},Es=Rt([Jt("getInitialValue"),Jt("onChange"),Jt("category"),Jt("sizes")]),Ds=function Ds(n){var o=Ut("SizeSlider",Es,n);return Ss.sketch({dom:{tag:"div",classes:[ai.resolve("slider-"+o.category+"-size-container"),ai.resolve("slider"),ai.resolve("slider-size-container")]},onChange:function onChange(n,e,t){var r;0<=(r=t)&&r<o.sizes.length&&o.onChange(t);},onDragStart:function onDragStart(n,e){ri.on(e);},onDragEnd:function onDragEnd(n,e){ri.off(e);},min:0,max:o.sizes.length-1,stepSize:1,getInitialValue:o.getInitialValue,snapToGrid:!0,sliderBehaviours:jr([ii(Ss.refresh)]),components:[Ss.parts().spectrum({dom:Ha('<div class="${prefix}-slider-size-container"></div>'),components:[za('<div class="${prefix}-slider-size-line"></div>')]}),Ss.parts().thumb({dom:Ha('<div class="${prefix}-slider-thumb"></div>'),behaviours:jr([ri.config({toggleClass:ai.resolve("thumb-active")})])})]});},Is=["9px","10px","11px","12px","14px","16px","18px","20px","24px","32px","36px"],As=function As(n){var e,t,r=n.selection.getStart(),o=ue.fromDom(r),i=ue.fromDom(n.getBody()),u=(e=function e(n){return Re(i,n);},(pe(t=o)?F.some(t):Ne(t).filter(pe)).map(function(n){return lo(n,function(n){return wi(n,"font-size").isSome();},e).bind(function(n){return wi(n,"font-size");}).getOrThunk(function(){return yi(n,"font-size");});}).getOr(""));return Sn(Is,function(n){return u===n;}).getOr("medium");},Ms={candidates:A(Is),get:function get(n){var e,t=As(n);return(e=t,On(Is,function(n){return n===e;})).getOr(2);},apply:function apply(r,n){var e;(e=n,F.from(Is[e])).each(function(n){var e,t;t=n,As(e=r)!==t&&e.execCommand("fontSize",!1,t);});}},Fs=Ms.candidates(),Rs=function Rs(n){return[za('<span class="${prefix}-toolbar-button ${prefix}-icon-small-font ${prefix}-icon"></span>'),(e=n,Ds({onChange:e.onChange,sizes:Fs,category:"font",getInitialValue:e.getInitialValue})),za('<span class="${prefix}-toolbar-button ${prefix}-icon-large-font ${prefix}-icon"></span>')];var e;},Bs=function Bs(n){var e=n.uid!==undefined&&xt(n,"uid")?n.uid:Da("memento");return{get:function get(n){return n.getSystem().getByUid(e).getOrDie();},getOpt:function getOpt(n){return n.getSystem().getByUid(e).fold(F.none,F.some);},asSpec:function asSpec(){return k(n,{uid:e});}};},Vs=window.Promise?window.Promise:function(){var i=function i(n){if("object"!=_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(n,r(o,this),r(c,this));},n=i.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(n){p.setTimeout(n,1);};function r(n,e){return function(){return n.apply(e,arguments);};}var t=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n);};function u(r){var o=this;null!==this._state?n(function(){var n=o._state?r.onFulfilled:r.onRejected;if(null!==n){var e;try{e=n(o._value);}catch(t){return void r.reject(t);}r.resolve(e);}else(o._state?r.resolve:r.reject)(o._value);}):this._deferreds.push(r);}function o(n){try{if(n===this)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==_typeof(n)||"function"==typeof n)){var e=n.then;if("function"==typeof e)return void f(r(e,n),r(o,this),r(c,this));}this._state=!0,this._value=n,a.call(this);}catch(t){c.call(this,t);}}function c(n){this._state=!1,this._value=n,a.call(this);}function a(){for(var n=0,e=this._deferreds;n<e.length;n++){var t=e[n];u.call(this,t);}this._deferreds=[];}function s(n,e,t,r){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.resolve=t,this.reject=r;}function f(n,e,t){var r=!1;try{n(function(n){r||(r=!0,e(n));},function(n){r||(r=!0,t(n));});}catch(o){if(r)return;r=!0,t(o);}}return i.prototype["catch"]=function(n){return this.then(null,n);},i.prototype.then=function(t,r){var o=this;return new i(function(n,e){u.call(o,new s(t,r,n,e));});},i.all=function(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}var a=Array.prototype.slice.call(1===n.length&&t(n[0])?n[0]:n);return new i(function(o,i){if(0===a.length)return o([]);var u=a.length;function c(e,n){try{if(n&&("object"==_typeof(n)||"function"==typeof n)){var t=n.then;if("function"==typeof t)return void t.call(n,function(n){c(e,n);},i);}a[e]=n,0==--u&&o(a);}catch(r){i(r);}}for(var n=0;n<a.length;n++){c(n,a[n]);}});},i.resolve=function(e){return e&&"object"==_typeof(e)&&e.constructor===i?e:new i(function(n){n(e);});},i.reject=function(t){return new i(function(n,e){e(t);});},i.race=function(o){return new i(function(n,e){for(var t=0,r=o;t<r.length;t++){r[t].then(n,e);}});},i;}();function Ns(n){return(t=n,new Vs(function(n){var e=new p.FileReader();e.onloadend=function(){n(e.result);},e.readAsDataURL(t);})).then(function(n){return n.split(",")[1];});var t;}var _s,js,Hs,zs,Ls,Ps,$s=function $s(o,i){var n;(n=i,Ns(n)).then(function(r){o.undoManager.transact(function(){var n=o.editorUpload.blobCache,e=n.create(Gc("mceu"),i,r);n.add(e);var t=o.dom.createHTML("img",{src:e.blobUri()});o.insertContent(t);});});},Ws=function Ws(i){var e=Bs({dom:{tag:"input",attributes:{accept:"image/*",type:"file",title:""},styles:{visibility:"hidden",position:"absolute"}},events:sr([pr(Y()),lr(q(),function(n,e){var t,r,o;(t=e,r=t.event(),o=r.raw().target.files||r.raw().dataTransfer.files,F.from(o[0])).each(function(n){$s(i,n);});})])});return Na.sketch({dom:Ha('<span class="${prefix}-toolbar-button ${prefix}-icon-image ${prefix}-icon"></span>'),components:[e.asSpec()],action:function action(n){e.get(n).element().dom().click();}});},Us=function Us(n){return n.dom().textContent;},Gs=function Gs(n){return 0<n.length;},qs=function qs(n){return n===undefined||null===n?"":n;},Ys=function Ys(e,t,n){return n.text.filter(Gs).fold(function(){return Gr(n=e,"href")===Us(n)?F.some(t):F.none();var n;},F.some);},Ks=function Ks(n){var e=ue.fromDom(n.selection.getStart());return Bi(e,"a");},Xs={getInfo:function getInfo(n){return Ks(n).fold(function(){return{url:"",text:n.selection.getContent({format:"text"}),title:"",target:"",link:F.none()};},function(n){return t=Us(e=n),r=Gr(e,"href"),o=Gr(e,"title"),i=Gr(e,"target"),{url:qs(r),text:t!==r?qs(t):"",title:qs(o),target:qs(i),link:F.some(e)};var e,t,r,o,i;});},applyInfo:function applyInfo(o,i){i.url.filter(Gs).fold(function(){var e;e=o,i.link.bind(h).each(function(n){e.execCommand("unlink");});},function(e){var n,t,r=(n=i,(t={}).href=e,n.title.filter(Gs).each(function(n){t.title=n;}),n.target.filter(Gs).each(function(n){t.target=n;}),t);i.link.bind(h).fold(function(){var n=i.text.filter(Gs).getOr(e);o.insertContent(o.dom.createHTML("a",r,o.dom.encode(n)));},function(t){var n=Ys(t,e,i);Ur(t,r),n.each(function(n){var e;e=n,t.dom().textContent=e;});});});},query:Ks},Js=zn.detect(),Qs=function Qs(n,e){var t=e.selection.getRng();n(),e.selection.setRng(t);},Zs=function Zs(n,e){(Js.os.isAndroid()?Qs:a)(e,n);},nf=function nf(n,e){var t,r;return{key:n,value:{config:{},me:(t=n,r=sr(e),zr({fields:[Jt("enabled")],name:t,active:{events:A(r)}})),configAsRaw:A({}),initialConfig:{},state:Nr}};},ef=Object.freeze({getCurrent:function getCurrent(n,e,t){return e.find()(n);}}),tf=[Jt("find")],rf=zr({fields:tf,name:"composing",apis:ef}),of=Ba({name:"Container",factory:function factory(n){return{uid:n.uid(),dom:k({tag:"div",attributes:{role:"presentation"}},n.dom()),components:n.components(),behaviours:Nc(n.containerBehaviours()),events:n.events(),domModification:n.domModification(),eventOrder:n.eventOrder()};},configFields:[or("components",[]),Vc("containerBehaviours",[]),or("events",{}),or("domModification",{}),or("eventOrder",{})]}),uf=Ba({name:"DataField",factory:function factory(t){return{uid:t.uid(),dom:t.dom(),behaviours:k(jr([vs.config({store:{mode:"memory",initialValue:t.getInitialValue()()}}),rf.config({find:F.some})]),Nc(t.dataBehaviours())),events:sr([vr(function(n,e){vs.setValue(n,t.getInitialValue()());})])};},configFields:[Jt("uid"),Jt("dom"),Jt("getInitialValue"),Vc("dataBehaviours",[vs,rf])]}),cf=function cf(n){return n.dom().value;},af=function af(n,e){if(e===undefined)throw new Error("Value.set was undefined");n.dom().value=e;},sf=A([er("data"),or("inputAttributes",{}),or("inputStyles",{}),or("type","input"),or("tag","input"),or("inputClasses",[]),jo("onSetValue"),or("styles",{}),er("placeholder"),or("eventOrder",{}),Vc("inputBehaviours",[vs,mi]),or("selectOnFocus",!0)]),ff=function ff(n){return k(jr([vs.config({store:{mode:"manual",initialValue:n.data().getOr(undefined),getValue:function getValue(n){return cf(n.element());},setValue:function setValue(n,e){cf(n.element())!==e&&af(n.element(),e);}},onSetValue:n.onSetValue()})]),(e=n,jr([mi.config({onFocus:!1===e.selectOnFocus()?I:function(n){var e=n.element(),t=cf(e);e.dom().setSelectionRange(0,t.length);}})])),Nc(n.inputBehaviours()));var e;},lf=Ba({name:"Input",configFields:sf(),factory:function factory(n,e){return{uid:n.uid(),dom:(t=n,{tag:t.tag(),attributes:k(bt([{key:"type",value:t.type()}].concat(t.placeholder().map(function(n){return{key:"placeholder",value:n};}).toArray())),t.inputAttributes()),styles:t.inputStyles(),classes:t.inputClasses()}),components:[],behaviours:ff(n),eventOrder:n.eventOrder()};var t;}}),df=Object.freeze({exhibit:function exhibit(n,e){return Or({attributes:bt([{key:e.tabAttr(),value:"true"}])});}}),mf=[or("tabAttr","data-alloy-tabstop")],gf=zr({fields:mf,name:"tabstopping",active:df}),pf=function pf(n,e){var t=Bs(lf.sketch({placeholder:e,onSetValue:function onSetValue(n,e){ne(n,G());},inputBehaviours:jr([rf.config({find:F.some}),gf.config({}),Bc.config({mode:"execution"})]),selectOnFocus:!1})),r=Bs(Na.sketch({dom:Ha('<button class="${prefix}-input-container-x ${prefix}-icon-cancel-circle ${prefix}-icon"></button>'),action:function action(n){var e=t.get(n);vs.setValue(e,"");}}));return{name:n,spec:of.sketch({dom:Ha('<div class="${prefix}-input-container"></div>'),components:[t.asSpec(),r.asSpec()],containerBehaviours:jr([ri.config({toggleClass:ai.resolve("input-container-empty")}),rf.config({find:function find(n){return F.some(t.get(n));}}),nf("input-clearing",[lr(G(),function(n){var e=t.get(n);(0<vs.getValue(e).length?ri.off:ri.on)(n);})])])})};},vf=["input","button","textarea"],hf=function hf(n,e,t){e.disabled()&&Sf(n,e);},yf=function yf(n){return hn(vf,me(n.element()));},bf=function bf(n){Wr(n.element(),"disabled","disabled");},wf=function wf(n){Yr(n.element(),"disabled");},xf=function xf(n){Wr(n.element(),"aria-disabled","true");},Tf=function Tf(n){Wr(n.element(),"aria-disabled","false");},Sf=function Sf(e,n,t){n.disableClass().each(function(n){no(e.element(),n);}),(yf(e)?bf:xf)(e);},Of=function Of(n){return yf(n)?qr(n.element(),"disabled"):"true"===Gr(n.element(),"aria-disabled");},kf=Object.freeze({enable:function enable(e,n,t){n.disableClass().each(function(n){eo(e.element(),n);}),(yf(e)?wf:Tf)(e);},disable:Sf,isDisabled:Of,onLoad:hf}),Cf=Object.freeze({exhibit:function exhibit(n,e,t){return Or({classes:e.disabled()?e.disableClass().map(In).getOr([]):[]});},events:function events(n,e){return sr([fr(Un(),function(n,e){return Of(n);}),Cr(n,e,hf)]);}}),Ef=[or("disabled",!1),er("disableClass")],Df=zr({fields:Ef,name:"disabling",active:Cf,apis:kf}),If=[Vc("formBehaviours",[vs])],Af=function Af(n){return"<alloy.field."+n+">";},Mf=function Mf(o,n,e){return k({"debug.sketcher":{Form:e},uid:o.uid(),dom:o.dom(),components:n,behaviours:k(jr([vs.config({store:{mode:"manual",getValue:function getValue(n){var e,t,r=(e=o,t=n.getSystem(),V(e.partUids(),function(n,e){return A(t.getByUid(n));}));return V(r,function(n,e){return n().bind(rf.getCurrent).map(vs.getValue);});},setValue:function setValue(t,n){B(n,function(e,n){ga(t,o,n).each(function(n){rf.getCurrent(n).each(function(n){vs.setValue(n,e);});});});}}})]),Nc(o.formBehaviours())),apis:{getField:function getField(n,e){return ga(n,o,e).bind(rf.getCurrent);}}});},Ff=(xa(function(n,e,t){return n.getField(e,t);}),function(n){var i,e=(i=[],{field:function field(n,e){return i.push(n),t="form",r=Af(n),o=e,{uiType:Wc(),owner:t,name:r,config:o,validated:{}};var t,r,o;},record:function record(){return i;}}),t=n(e),r=e.record(),o=yn(r,function(n){return ia({name:n,pname:Af(n)});});return Aa("form",If,o,Mf,t);}),Rf=function Rf(){var e=ao(F.none()),t=function t(){e.get().each(function(n){n.destroy();});};return{clear:function clear(){t(),e.set(F.none());},isSet:function isSet(){return e.get().isSome();},set:function set(n){t(),e.set(F.some(n));},run:function run(n){e.get().each(n);}};},Bf=function Bf(){var e=ao(F.none());return{clear:function clear(){e.set(F.none());},set:function set(n){e.set(F.some(n));},isSet:function isSet(){return e.get().isSome();},on:function on(n){e.get().each(n);}};},Vf=function Vf(n){return{xValue:n,points:[]};},Nf=function Nf(n,e){if(e===n.xValue)return n;var t=0<e-n.xValue?1:-1,r={direction:t,xValue:e};return{xValue:e,points:(0===n.points.length?[]:n.points[n.points.length-1].direction===t?n.points.slice(0,n.points.length-1):n.points).concat([r])};},_f=function _f(n){if(0===n.points.length)return 0;var e=n.points[0].direction,t=n.points[n.points.length-1].direction;return-1===e&&-1===t?-1:1===e&&1===t?1:0;},jf=function jf(n){var r="navigateEvent",e=Bt([Jt("fields"),or("maxFieldIndex",n.fields.length-1),Jt("onExecute"),Jt("getInitialValue"),ur("state",function(){return{dialogSwipeState:Bf(),currentScreen:ao(0)};})]),u=Ut("SerialisedDialog",e,n),o=function o(e,n,t){return Na.sketch({dom:Ha('<span class="${prefix}-icon-'+n+' ${prefix}-icon"></span>'),action:function action(n){ee(n,r,{direction:e});},buttonBehaviours:jr([Df.config({disableClass:ai.resolve("toolbar-navigation-disabled"),disabled:!t})])});},i=function i(n,o){var i=Ai(n.element(),"."+ai.resolve("serialised-dialog-screen"));Ri(n.element(),"."+ai.resolve("serialised-dialog-chain")).each(function(r){0<=u.state.currentScreen.get()+o&&u.state.currentScreen.get()+o<i.length&&(wi(r,"left").each(function(n){var e=parseInt(n,10),t=xs(i[0]);vi(r,"left",e-o*t+"px");}),u.state.currentScreen.set(u.state.currentScreen.get()+o));});},c=function c(r){var n=Ai(r.element(),"input");F.from(n[u.state.currentScreen.get()]).each(function(n){r.getSystem().getByDom(n).each(function(n){var e,t;e=r,t=n.element(),e.getSystem().triggerFocus(t,e.element());});});var e=s.get(r);tu.highlightAt(e,u.state.currentScreen.get());},a=Bs(Ff(function(t){return{dom:Ha('<div class="${prefix}-serialised-dialog"></div>'),components:[of.sketch({dom:Ha('<div class="${prefix}-serialised-dialog-chain" style="left: 0px; position: absolute;"></div>'),components:yn(u.fields,function(n,e){return e<=u.maxFieldIndex?of.sketch({dom:Ha('<div class="${prefix}-serialised-dialog-screen"></div>'),components:kn([[o(-1,"previous",0<e)],[t.field(n.name,n.spec)],[o(1,"next",e<u.maxFieldIndex)]])}):t.field(n.name,n.spec);})})],formBehaviours:jr([ii(function(n,e){var t;t=e,Ri(n.element(),"."+ai.resolve("serialised-dialog-chain")).each(function(n){vi(n,"left",-u.state.currentScreen.get()*t.width+"px");});}),Bc.config({mode:"special",focusIn:function focusIn(n){c(n);},onTab:function onTab(n){return i(n,1),F.some(!0);},onShiftTab:function onShiftTab(n){return i(n,-1),F.some(!0);}}),nf("form-events",[vr(function(e,n){u.state.currentScreen.set(0),u.state.dialogSwipeState.clear();var t=s.get(e);tu.highlightFirst(t),u.getInitialValue(e).each(function(n){vs.setValue(e,n);});}),br(u.onExecute),lr(K(),function(n,e){"left"===e.event().raw().propertyName&&c(n);}),lr(r,function(n,e){var t=e.event().direction();i(n,t);})])])};})),s=Bs({dom:Ha('<div class="${prefix}-dot-container"></div>'),behaviours:jr([tu.config({highlightClass:ai.resolve("dot-active"),itemClass:ai.resolve("dot-item")})]),components:Cn(u.fields,function(n,e){return e<=u.maxFieldIndex?[za('<div class="${prefix}-dot-item ${prefix}-icon-full-dot ${prefix}-icon"></div>')]:[];})});return{dom:Ha('<div class="${prefix}-serializer-wrapper"></div>'),components:[a.asSpec(),s.asSpec()],behaviours:jr([Bc.config({mode:"special",focusIn:function focusIn(n){var e=a.get(n);Bc.focusIn(e);}}),nf("serializer-wrapper-events",[lr(j(),function(n,e){var t=e.event();u.state.dialogSwipeState.set(Vf(t.touches[0].clientX));}),lr(H(),function(n,e){var t=e.event();u.state.dialogSwipeState.on(function(n){e.event().prevent(),u.state.dialogSwipeState.set(Nf(n,t.raw().touches[0].clientX));});}),lr(z(),function(r){u.state.dialogSwipeState.on(function(n){var e=a.get(r),t=-1*_f(n);i(e,t);});})])])};},Hf=J(function(t,r){return[{label:"the link group",items:[jf({fields:[pf("url","Type or paste URL"),pf("text","Link text"),pf("title","Link title"),pf("target","Link target"),(n="link",{name:n,spec:uf.sketch({dom:{tag:"span",styles:{display:"none"}},getInitialValue:function getInitialValue(){return F.none();}})})],maxFieldIndex:["url","text","title","target"].length-1,getInitialValue:function getInitialValue(){return F.some(Xs.getInfo(r));},onExecute:function onExecute(n){var e=vs.getValue(n);Xs.applyInfo(r,e),t.restoreToolbar(),r.focus();}})]}];var n;}),zf=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],Lf=sr([(_s=Pn(),js=function js(n,e){var t,r,o=e.event().originator(),i=e.event().target();return r=i,!(Re(t=o,n.element())&&!Re(t,r)&&(p.console.warn(Pn()+" did not get interpreted by the desired target. \nOriginator: "+ko(o)+"\nTarget: "+ko(i)+"\nCheck the "+Pn()+" event handlers"),1));},{key:_s,value:cr({can:js})})]),Pf=Object.freeze({events:Lf}),$f=h,Wf=Vr(["debugInfo","triggerFocus","triggerEvent","triggerEscape","addToWorld","removeFromWorld","addToGui","removeFromGui","build","getByUid","getByDom","broadcast","broadcastOn","isConnected"]),Uf=function Uf(e){var n=function n(_n9){return function(){throw new Error("The component must be in a context to send: "+_n9+"\n"+ko(e().element())+" is not in context.");};};return Wf({debugInfo:A("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),build:n("build"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),isConnected:A(!1)});},Gf=function Gf(n,o){var i={};return B(n,function(n,r){B(n,function(n,e){var t=vt(e,[])(i);i[e]=t.concat([o(r,n)]);});}),i;},qf=function qf(n,e){return 1<n.length?Qe.error('Multiple behaviours have tried to change DOM "'+e+'". The guilty behaviours are: '+kt(yn(n,function(n){return n.name();}))+". At this stage, this is not supported. Future releases might provide strategies for resolving this."):0===n.length?Qe.value({}):Qe.value(n[0].modification().fold(function(){return{};},function(n){return yt(e,n);}));},Yf=function Yf(u,c){return Tn(u,function(n,e){var t=e.modification().getOr({});return n.bind(function(i){var n=_(t,function(n,e){return i[e]!==undefined?(t=c,r=e,o=u,Qe.error("Mulitple behaviours have tried to change the _"+r+'_ "'+t+'". The guilty behaviours are: '+kt(Cn(o,function(n){return n.modification().getOr({})[r]!==undefined?[n.name()]:[];}),null,2)+". This is not currently supported.")):Qe.value(yt(e,n));var t,r,o;});return wt(n,i);});},Qe.value({})).map(function(n){return yt(c,n);});},Kf={classes:function classes(n,e){var t=Cn(n,function(n){return n.modification().getOr([]);});return Qe.value(yt(e,t));},attributes:Yf,styles:Yf,domChildren:qf,defChildren:qf,innerHtml:qf,value:qf},Xf=function Xf(n,e){return t=l.apply(undefined,[n.handler].concat(e)),r=n.purpose(),{cHandler:t,purpose:A(r)};var t,r;},Jf=function Jf(n){return n.cHandler;},Qf=function Qf(n,e){return{name:A(n),handler:A(e)};},Zf=function Zf(n,e,t){var r,o,i=k(t,(r=n,o={},bn(e,function(n){o[n.name()]=n.handlers(r);}),o));return Gf(i,Qf);},nl=function nl(n){var e,i=w(e=n)?{can:A(!0),abort:A(!1),run:e}:e;return function(n,e){for(var t=[],r=2;r<arguments.length;r++){t[r-2]=arguments[r];}var o=[n,e].concat(t);i.abort.apply(undefined,o)?e.stop():i.can.apply(undefined,o)&&i.run.apply(undefined,o);};},el=function el(n,e,t){var r,o,i=e[t];return i?function(u,c,n,a){var e=n.slice(0);try{var t=e.sort(function(n,e){var t=n[c](),r=e[c](),o=a.indexOf(t),i=a.indexOf(r);if(-1===o)throw new Error("The ordering for "+u+" does not have an entry for "+t+".\nOrder specified: "+kt(a,null,2));if(-1===i)throw new Error("The ordering for "+u+" does not have an entry for "+r+".\nOrder specified: "+kt(a,null,2));return o<i?-1:i<o?1:0;});return Qe.value(t);}catch(r){return Qe.error([r]);}}("Event: "+t,"name",n,i).map(function(n){var e=yn(n,function(n){return n.handler();});return ar(e);}):(r=t,o=n,Qe.error(["The event ("+r+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+kt(yn(o,function(n){return n.name();}),null,2)]));},tl=function tl(n,i){var e=_(n,function(r,o){return(1===r.length?Qe.value(r[0].handler()):el(r,i,o)).map(function(n){var e=nl(n),t=1<r.length?wn(i,function(e){return hn(r,function(n){return n.name()===e;});}).join(" > "):r[0].name();return yt(o,{handler:e,purpose:A(t)});});});return wt(e,{});},rl=function rl(n){return $t("custom.definition",Rt([jt("dom","dom",tt(),Rt([Jt("tag"),or("styles",{}),or("classes",[]),or("attributes",{}),er("value"),er("innerHtml")])),Jt("components"),Jt("uid"),or("events",{}),or("apis",A({})),jt("eventOrder","eventOrder",(e={"alloy.execute":["disabling","alloy.base.behaviour","toggling"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing"]},nt.mergeWithThunk(A(e))),Kt()),er("domModification"),$o("originalSpec"),or("debug.sketcher","unknown")]),n);var e;},ol=function ol(n){var e,t={tag:n.dom().tag(),classes:n.dom().classes(),attributes:k((e=n,yt(Oa(),e.uid())),n.dom().attributes()),styles:n.dom().styles(),domChildren:yn(n.components(),function(n){return n.element();})};return Tr(k(t,n.dom().innerHtml().map(function(n){return yt("innerHtml",n);}).getOr({}),n.dom().value().map(function(n){return yt("value",n);}).getOr({})));},il=function il(e,n){bn(n,function(n){no(e,n);});},ul=function ul(e,n){bn(n,function(n){eo(e,n);});},cl=function cl(e){if(e.domChildren().isSome()&&e.defChildren().isSome())throw new Error("Cannot specify children and child specs! Must be one or the other.\nDef: "+(n=Sr(e),kt(n,null,2)));return e.domChildren().fold(function(){var n=e.defChildren().getOr([]);return yn(n,sl);},function(n){return n;});var n;},al=function al(n){var e=ue.fromTag(n.tag());Ur(e,n.attributes().getOr({})),il(e,n.classes().getOr([])),hi(e,n.styles().getOr({})),To(e,n.innerHtml().getOr(""));var t=cl(n);return Le(e,t),n.value().each(function(n){af(e,n);}),e;},sl=function sl(n){var e=Tr(n);return al(e);},fl=function fl(n,e){return t=n,o=yn(r=e,function(n){return tr(n.name(),[Jt("config"),or("state",Nr)]);}),i=$t("component.behaviours",Bt(o),t.behaviours).fold(function(n){throw new Error(qt(n)+"\nComplete spec:\n"+kt(t,null,2));},function(n){return n;}),{list:r,data:V(i,function(n){var e=n().map(function(n){return{config:n.config(),state:n.state().init(n.config())};});return function(){return e;};})};var t,r,o,i;},ll=function ll(n){var e,t,r=(e=ht(n,"behaviours").getOr({}),t=wn(R(e),function(n){return e[n]!==undefined;}),yn(t,function(n){return e[n].me;}));return fl(n,r);},dl=Vr(["getSystem","config","hasConfigured","spec","connect","disconnect","element","syncComponents","readState","components","events"]),ml=function ml(n,e,t){var r,o,i,u,c=ol(n),a=function(e,n,t,r){var o=k({},n);bn(t,function(n){o[n.name()]=n.exhibit(e,r);});var i=Gf(o,function(n,e){return{name:function name(){return n;},modification:e};}),u=V(i,function(n,e){return Cn(n,function(e){return e.modification().fold(function(){return[];},function(n){return[e];});});}),c=_(u,function(e,t){return ht(Kf,t).fold(function(){return Qe.error("Unknown field type: "+t);},function(n){return n(e,t);});});return wt(c,{}).map(Or);}(t,{"alloy.base.modification":(r=n,r.domModification().fold(function(){return Or({});},Or))},e,c).getOrDie();return i=a,u=k({tag:(o=c).tag(),classes:i.classes().getOr([]).concat(o.classes().getOr([])),attributes:C(o.attributes().getOr({}),i.attributes().getOr({})),styles:C(o.styles().getOr({}),i.styles().getOr({}))},i.innerHtml().or(o.innerHtml()).map(function(n){return yt("innerHtml",n);}).getOr({}),kr("domChildren",i.domChildren(),o.domChildren()),kr("defChildren",i.defChildren(),o.defChildren()),i.value().or(o.value()).map(function(n){return yt("value",n);}).getOr({})),Tr(u);},gl=function gl(n,e,t){var r,o,i,u,c,a,s={"alloy.base.behaviour":(r=n,r.events())};return(o=t,i=n.eventOrder(),u=e,c=s,a=Zf(o,u,c),tl(a,i)).getOrDie();},pl=function pl(n){var e,t,r,o,i,u,c,a,s,f,l,d,m,g,p=$f(n),v=(e=p,t=vt("components",[])(e),yn(t,yl)),h=k(Pf,p,yt("components",v));return Qe.value((r=h,i=ao(Uf(o=function o(){return g;})),u=Wt(rl(k(r,{behaviours:undefined}))),c=ll(r),a=c.list,s=c.data,f=ml(u,a,s),l=al(f),d=gl(u,a,s),m=ao(u.components()),g=dl({getSystem:i.get,config:function config(n){if(n===Ta())return u.apis();if(y(n))throw new Error("Invalid input: only API constant is allowed");var e=s;return(w(e[n.name()])?e[n.name()]:function(){throw new Error("Could not find "+n.name()+" in "+kt(r,null,2));})();},hasConfigured:function hasConfigured(n){return w(s[n.name()]);},spec:A(r),readState:function readState(n){return s[n]().map(function(n){return n.state.readState();}).getOr("not enabled");},connect:function connect(n){i.set(n);},disconnect:function disconnect(){i.set(Uf(o));},element:A(l),syncComponents:function syncComponents(){var n=_e(l),e=Cn(n,function(n){return i.get().getByDom(n).fold(function(){return[];},function(n){return[n];});});m.set(e);},components:m.get,events:A(d)})));},vl=function vl(n){var e=ue.fromText(n);return hl({element:e});},hl=function hl(n){var t=Gt("external.component",Rt([Jt("element"),er("uid")]),n),e=ao(Uf());t.uid().each(function(n){var e;e=t.element(),Wr(e,Ca,n);});var r=dl({getSystem:e.get,config:F.none,hasConfigured:A(!1),connect:function connect(n){e.set(n);},disconnect:function disconnect(){e.set(Uf(function(){return r;}));},element:A(t.element()),spec:A(n),readState:A("No state"),syncComponents:I,components:A([]),events:A({})});return wa(r);},yl=function yl(e){return(n=e,ht(n,ya)).fold(function(){var n=k({uid:Da("")},e);return pl(n).getOrDie();},function(n){return n;});var n;},bl=wa,wl="alloy.item-hover",xl="alloy.item-focus",Tl=function Tl(n){(vo(n.element()).isNone()||mi.isFocused(n))&&(mi.isFocused(n)||mi.focus(n),ee(n,wl,{item:n}));},Sl=function Sl(n){ee(n,xl,{item:n});},Ol=A(wl),kl=A(xl),Cl=[Jt("data"),Jt("components"),Jt("dom"),er("toggling"),or("itemBehaviours",{}),or("ignoreFocus",!1),or("domModification",{}),Po("builder",function(n){return{dom:k(n.dom(),{attributes:{role:n.toggling().isSome()?"menuitemcheckbox":"menuitem"}}),behaviours:k(jr([n.toggling().fold(ri.revoke,function(n){return ri.config(k({aria:{mode:"checked"}},n));}),mi.config({ignore:n.ignoreFocus(),onFocus:function onFocus(n){Sl(n);}}),Bc.config({mode:"execution"}),vs.config({store:{mode:"memory",initialValue:n.data()}})]),n.itemBehaviours()),events:sr([(e=Yn(),r=te,lr(e,function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){r(e,n,t);});})),pr(L()),lr(W(),Tl),lr(Gn(),mi.focus)]),components:n.components(),domModification:n.domModification(),eventOrder:n.eventOrder()};var e,r;}),or("eventOrder",{})],El=[Jt("dom"),Jt("components"),Po("builder",function(n){return{dom:n.dom(),components:n.components(),events:sr([(e=Gn(),lr(e,function(n,e){e.stop();}))])};var e;})],Dl=A([ia({name:"widget",overrides:function overrides(e){return{behaviours:jr([vs.config({store:{mode:"manual",getValue:function getValue(n){return e.data();},setValue:function setValue(){}}})])};}})]),Il=[Jt("uid"),Jt("data"),Jt("components"),Jt("dom"),or("autofocus",!1),or("domModification",{}),ha(Dl()),Po("builder",function(t){var n=da(0,t,Dl()),e=ma("item-widget",t,n.internals()),r=function r(n){return ga(n,t,"widget").map(function(n){return Bc.focusIn(n),n;});},o=function o(n,e){return au(e.event().target())||t.autofocus()&&e.setSource(n.element()),F.none();};return k({dom:t.dom(),components:e,domModification:t.domModification(),events:sr([br(function(n,e){r(n).each(function(n){e.stop();});}),lr(W(),Tl),lr(Gn(),function(n,e){t.autofocus()?r(n):mi.focus(n);})]),behaviours:jr([vs.config({store:{mode:"memory",initialValue:t.data()}}),mi.config({onFocus:function onFocus(n){Sl(n);}}),Bc.config({mode:"special",focusIn:t.autofocus()?function(n){r(n);}:Pr(),onLeft:o,onRight:o,onEscape:function onEscape(n,e){return mi.isFocused(n)||t.autofocus()?(t.autofocus()&&e.setSource(n.element()),F.none()):(mi.focus(n),F.some(!0));}})])});})],Al=Yt("type",{widget:Il,item:Cl,separator:El}),Ml=A([ca({factory:{sketch:function sketch(n){var e=Gt("menu.spec item",Al,n);return e.builder()(e);}},name:"items",unit:"item",defaults:function defaults(n,e){var t=Da("");return k({uid:t},e);},overrides:function overrides(n,e){return{type:e.type,ignoreFocus:n.fakeFocus(),domModification:{classes:[n.markers().item()]}};}})]),Fl=A([Jt("value"),Jt("items"),Jt("dom"),Jt("components"),or("eventOrder",{}),Vc("menuBehaviours",[tu,vs,rf,Bc]),ir("movement",{mode:"menu",moveOnTab:!0},Yt("mode",{grid:[Wo(),Po("config",function(n,e){return{mode:"flatgrid",selector:"."+n.markers().item(),initSize:{numColumns:e.initSize().numColumns(),numRows:e.initSize().numRows()},focusManager:n.focusManager()};})],menu:[or("moveOnTab",!0),Po("config",function(n,e){return{mode:"menu",selector:"."+n.markers().item(),moveOnTab:e.moveOnTab(),focusManager:n.focusManager()};})]})),Qt("markers",Vo()),or("fakeFocus",!1),or("focusManager",ru()),jo("onHighlight")]),Rl=A("alloy.menu-focus"),Bl=Va({name:"Menu",configFields:Fl(),partFields:Ml(),factory:function factory(n,e,t,r){return k({dom:k(n.dom(),{attributes:{role:"menu"}}),uid:n.uid(),behaviours:k(jr([tu.config({highlightClass:n.markers().selectedItem(),itemClass:n.markers().item(),onHighlight:n.onHighlight()}),vs.config({store:{mode:"memory",initialValue:n.value()}}),rf.config({find:F.some}),Bc.config(n.movement().config()(n,n.movement()))]),Nc(n.menuBehaviours())),events:sr([lr(kl(),function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){tu.highlight(e,n),t.stop(),ee(e,Rl(),{menu:e,item:n});});}),lr(Ol(),function(n,e){var t=e.event().item();tu.highlight(n,t);})]),components:e,eventOrder:n.eventOrder()});}}),Vl=function Vl(n,t){var r=Be(t),e=po(r).bind(function(e){var o,_i2,n=function n(_n10){return Re(e,_n10);};return n(t)?F.some(t):(o=n,(_i2=function i(n){for(var e=0;e<n.childNodes.length;e++){var t=ue.fromDom(n.childNodes[e]);if(o(t))return F.some(t);var r=_i2(n.childNodes[e]);if(r.isSome())return r;}return F.none();})(t.dom()));}),o=n(t);return e.each(function(e){po(r).filter(function(n){return Re(n,e);}).fold(function(){mo(e);},I);}),o;},Nl=function Nl(n,e,t,r){var o=n.getSystem().build(r);qe(n,o,t);},_l=function _l(n,e){return n.components();},jl=zr({fields:[],name:"replacing",apis:Object.freeze({append:function append(n,e,t,r){Nl(n,0,ze,r);},prepend:function prepend(n,e,t,r){Nl(n,0,He,r);},remove:function remove(n,e,t,r){var o=_l(n);Sn(o,function(n){return Re(r.element(),n.element());}).each(Ke);},set:function set(e,n,t,r){var o,i;i=(o=e).components(),bn(i,Ye),Pe(o.element()),o.syncComponents(),Vl(function(){var n=yn(r,e.getSystem().build);bn(n,function(n){Ge(e,n);});},e.element());},contents:_l})}),Hl=function Hl(t,r,o,n){return ht(o,n).bind(function(n){return ht(t,n).bind(function(n){var e=Hl(t,r,o,n);return F.some([n].concat(e));});}).getOr([]);},zl=function zl(n,e){var t={};B(n,function(n,e){bn(n,function(n){t[n]=e;});});var r=e,o=N(e,function(n,e){return{k:n,v:e};}),i=V(o,function(n,e){return[e].concat(Hl(t,r,o,e));});return V(t,function(n){return ht(i,n).getOr([n]);});},Ll=function Ll(){var i=ao({}),u=ao({}),c=ao({}),a=ao(F.none()),s=ao({}),n=function n(_n11){return ht(u.get(),_n11);};return{setContents:function setContents(n,e,t,r){a.set(F.some(n)),i.set(t),u.set(e),s.set(r);var o=zl(r,t);c.set(o);},expand:function expand(t){return ht(i.get(),t).map(function(n){var e=ht(c.get(),t).getOr([]);return[n].concat(e);});},refresh:function refresh(n){return ht(c.get(),n);},collapse:function collapse(n){return ht(c.get(),n).bind(function(n){return 1<n.length?F.some(n.slice(1)):F.none();});},lookupMenu:n,otherMenus:function otherMenus(n){var e,t,r=s.get();return e=R(r),t=n,wn(e,function(n){return!hn(t,n);});},getPrimary:function getPrimary(){return a.get().bind(n);},getMenus:function getMenus(){return u.get();},clear:function clear(){i.set({}),u.set({}),c.set({}),a.set(F.none());},isClear:function isClear(){return a.get().isNone();}};},Pl=A("collapse-item"),$l=Ba({name:"TieredMenu",configFields:[Lo("onExecute"),Lo("onEscape"),zo("onOpenMenu"),zo("onOpenSubmenu"),jo("onCollapseMenu"),or("openImmediately",!0),nr("data",[Jt("primary"),Jt("menus"),Jt("expansions")]),or("fakeFocus",!1),jo("onHighlight"),jo("onHover"),nr("markers",[Jt("backgroundMenu")].concat(Ro()).concat(Bo())),Jt("dom"),or("navigateOnHover",!0),or("stayInDom",!1),Vc("tmenuBehaviours",[Bc,tu,rf,jl]),or("eventOrder",{})],apis:{collapseMenu:function collapseMenu(n,e){n.collapseMenu(e);}},factory:function factory(u,o){var i=function i(r,n){return V(n,function(n,e){var t=Bl.sketch(k(n,{value:e,items:n.items,markers:mt(o.markers,["item","selectedItem"]),fakeFocus:u.fakeFocus(),onHighlight:u.onHighlight(),focusManager:u.fakeFocus()?{get:function get(n){return tu.getHighlighted(n).map(function(n){return n.element();});},set:function set(e,n){e.getSystem().getByDom(n).fold(I,function(n){tu.highlight(e,n);});}}:ru()}));return r.getSystem().build(t);});},c=Ll(),a=function a(n){return vs.getValue(n).value;},s=function s(n){return V(u.data().menus(),function(n,e){return Cn(n.items,function(n){return"separator"===n.type?[]:[n.data.value];});});},f=function f(e,n){tu.highlight(e,n),tu.getHighlighted(n).orThunk(function(){return tu.getFirst(n);}).each(function(n){re(e,n.element(),Gn());});},l=function l(n,e){return Eo(yn(e,n.lookupMenu));},d=function d(r,o,i){return F.from(i[0]).bind(o.lookupMenu).map(function(n){var e=l(o,i.slice(1));bn(e,function(n){no(n.element(),u.markers().backgroundMenu());}),he(n.element())||jl.append(r,bl(n)),ul(n.element(),[u.markers().backgroundMenu()]),f(r,n);var t=l(o,o.otherMenus(i));return bn(t,function(n){ul(n.element(),[u.markers().backgroundMenu()]),u.stayInDom()||jl.remove(r,n);}),n;});},m=function m(e,t){var n=a(t);return c.expand(n).bind(function(n){return F.from(n[0]).bind(c.lookupMenu).each(function(n){he(n.element())||jl.append(e,bl(n)),u.onOpenSubmenu()(e,t,n),tu.highlightFirst(n);}),d(e,c,n);});},r=function r(e,t){var n=a(t);return c.collapse(n).bind(function(n){return d(e,c,n).map(function(n){return u.onCollapseMenu()(e,t,n),n;});});},n=function n(t){return function(e,n){return Bi(n.getSource(),"."+u.markers().item()).bind(function(n){return e.getSystem().getByDom(n).toOption().bind(function(n){return t(e,n).map(function(){return!0;});});});};},e=sr([lr(Rl(),function(n,e){var t=e.event().menu();tu.highlight(n,t);}),br(function(e,n){var t=n.event().target();e.getSystem().getByDom(t).each(function(n){0===a(n).indexOf("collapse-item")&&r(e,n),m(e,n).fold(function(){u.onExecute()(e,n);},function(){});});}),vr(function(e,n){var t,r,o;(t=e,r=i(t,u.data().menus()),o=s(),c.setContents(u.data().primary(),r,u.data().expansions(),o),c.getPrimary()).each(function(n){jl.append(e,bl(n)),u.openImmediately()&&(f(e,n),u.onOpenMenu()(e,n));});})].concat(u.navigateOnHover()?[lr(Ol(),function(n,e){var t,r,o=e.event().item();t=n,r=a(o),c.refresh(r).bind(function(n){return d(t,c,n);}),m(n,o),u.onHover()(n,o);})]:[]));return{uid:u.uid(),dom:u.dom(),behaviours:k(jr([Bc.config({mode:"special",onRight:n(function(n,e){return au(e.element())?F.none():m(n,e);}),onLeft:n(function(n,e){return au(e.element())?F.none():r(n,e);}),onEscape:n(function(n,e){return r(n,e).orThunk(function(){return u.onEscape()(n,e).map(function(){return n;});});}),focusIn:function focusIn(e,n){c.getPrimary().each(function(n){re(e,n.element(),Gn());});}}),tu.config({highlightClass:u.markers().selectedMenu(),itemClass:u.markers().menu()}),rf.config({find:function find(n){return tu.getHighlighted(n);}}),jl.config({})]),Nc(u.tmenuBehaviours())),eventOrder:u.eventOrder(),apis:{collapseMenu:function collapseMenu(e){tu.getHighlighted(e).each(function(n){tu.getHighlighted(n).each(function(n){r(e,n);});});}},events:e};},extraApis:{tieredData:function tieredData(n,e,t){return{primary:n,menus:e,expansions:t};},singleData:function singleData(n,e){return{primary:n,menus:yt(n,e),expansions:{}};},collapseItem:function collapseItem(n){return{value:Gc(Pl()),text:n};}}}),Wl=function Wl(n,e,t,r){return ht(e.routes(),r.start()).map(a).bind(function(n){return ht(n,r.destination()).map(a);});},Ul=function Ul(n,e,t,r){return Wl(0,e,0,r).bind(function(e){return e.transition().map(function(n){return{transition:A(n),route:A(e)};});});},Gl=function Gl(t,r,n){var e,o,i;(e=t,o=r,i=n,ql(e,o).bind(function(n){return Ul(e,o,i,n);})).each(function(n){var e=n.transition();eo(t.element(),e.transitionClass()),Yr(t.element(),r.destinationAttr());});},ql=function ql(n,e,t){var r=n.element();return qr(r,e.destinationAttr())?F.some({start:A(Gr(n.element(),e.stateAttr())),destination:A(Gr(n.element(),e.destinationAttr()))}):F.none();},Yl=function Yl(n,e,t,r){Gl(n,e,t),qr(n.element(),e.stateAttr())&&Gr(n.element(),e.stateAttr())!==r&&e.onFinish()(n,r),Wr(n.element(),e.stateAttr(),r);},Kl=Object.freeze({findRoute:Wl,disableTransition:Gl,getCurrentRoute:ql,jumpTo:Yl,progressTo:function progressTo(t,r,o,i){var n,e;e=r,qr((n=t).element(),e.destinationAttr())&&(Wr(n.element(),e.stateAttr(),Gr(n.element(),e.destinationAttr())),Yr(n.element(),e.destinationAttr()));var u,c,a=(u=r,c=i,{start:A(Gr(t.element(),u.stateAttr())),destination:A(c)});Ul(t,r,o,a).fold(function(){Yl(t,r,o,i);},function(n){Gl(t,r,o);var e=n.transition();no(t.element(),e.transitionClass()),Wr(t.element(),r.destinationAttr(),i);});},getState:function getState(n,e,t){var r=n.element();return qr(r,e.stateAttr())?F.some(Gr(r,e.stateAttr())):F.none();}}),Xl=Object.freeze({events:function events(o,i){return sr([lr(K(),function(t,n){var r=n.event().raw();ql(t,o).each(function(e){Wl(0,o,0,e).each(function(n){n.transition().each(function(n){r.propertyName===n.property()&&(Yl(t,o,i,e.destination()),o.onTransition()(t,e));});});});}),vr(function(n,e){Yl(n,o,i,o.initialState());})]);}}),Jl=[or("destinationAttr","data-transitioning-destination"),or("stateAttr","data-transitioning-state"),Jt("initialState"),jo("onTransition"),jo("onFinish"),Qt("routes",Vt(Qe.value,Vt(Qe.value,Rt([rr("transition",[Jt("property"),Jt("transitionClass")])]))))],Ql=zr({fields:Jl,name:"transitioning",active:Xl,apis:Kl,extra:{createRoutes:function createRoutes(n){var r={};return B(n,function(n,e){var t=e.split("<->");r[t[0]]=yt(t[1],n),r[t[1]]=yt(t[0],n);}),r;},createBistate:function createBistate(n,e,t){return bt([{key:n,value:yt(e,t)},{key:e,value:yt(n,t)}]);},createTristate:function createTristate(n,e,t,r){return bt([{key:n,value:bt([{key:e,value:r},{key:t,value:r}])},{key:e,value:bt([{key:n,value:r},{key:t,value:r}])},{key:t,value:bt([{key:n,value:r},{key:e,value:r}])}]);}}}),Zl=ai.resolve("scrollable"),nd={register:function register(n){no(n,Zl);},deregister:function deregister(n){eo(n,Zl);},scrollable:A(Zl)},ed=function ed(n){return ht(n,"format").getOr(n.title);},td=function td(n,e,t,r,o){return{data:{value:n,text:e},type:"item",dom:{tag:"div",classes:o?[ai.resolve("styles-item-is-menu")]:[]},toggling:{toggleOnExecute:!1,toggleClass:ai.resolve("format-matches"),selected:t},itemBehaviours:jr(o?[]:[oi(n,function(n,e){(e?ri.on:ri.off)(n);})]),components:[{dom:{tag:"div",attributes:{style:r},innerHtml:e}}]};},rd=function rd(n,e,t,r){return{value:n,dom:{tag:"div"},components:[Na.sketch({dom:{tag:"div",classes:[ai.resolve("styles-collapser")]},components:r?[{dom:{tag:"span",classes:[ai.resolve("styles-collapse-icon")]}},vl(n)]:[vl(n)],action:function action(n){if(r){var e=t().get(n);$l.collapseMenu(e);}}}),{dom:{tag:"div",classes:[ai.resolve("styles-menu-items-container")]},components:[Bl.parts().items({})],behaviours:jr([nf("adhoc-scrollable-menu",[vr(function(n,e){vi(n.element(),"overflow-y","auto"),vi(n.element(),"-webkit-overflow-scrolling","touch"),nd.register(n.element());}),hr(function(n){xi(n.element(),"overflow-y"),xi(n.element(),"-webkit-overflow-scrolling"),nd.deregister(n.element());})])])}],items:e,menuBehaviours:jr([Ql.config({initialState:"after",routes:Ql.createTristate("before","current","after",{transition:{property:"transform",transitionClass:"transitioning"}})})])};},od=function od(r){var o,i,n,e,t,u=(o=r.formats,i=function i(){return c;},n=rd("Styles",[].concat(yn(o.items,function(n){return td(ed(n),n.title,n.isSelected(),n.getPreview(),xt(o.expansions,ed(n)));})),i,!1),e=V(o.menus,function(n,e){var t=yn(n,function(n){return td(ed(n),n.title,n.isSelected!==undefined&&n.isSelected(),n.getPreview!==undefined?n.getPreview():"",xt(o.expansions,ed(n)));});return rd(e,t,i,!0);}),t=k(e,yt("styles",n)),{tmenu:$l.tieredData("styles",t,o.expansions)}),c=Bs($l.sketch({dom:{tag:"div",classes:[ai.resolve("styles-menu")]},components:[],fakeFocus:!0,stayInDom:!0,onExecute:function onExecute(n,e){var t=vs.getValue(e);return r.handle(e,t.value),F.none();},onEscape:function onEscape(){return F.none();},onOpenMenu:function onOpenMenu(n,e){var t=xs(n.element());ws(e.element(),t),Ql.jumpTo(e,"current");},onOpenSubmenu:function onOpenSubmenu(n,e,t){var r=xs(n.element()),o=Fi(e.element(),'[role="menu"]').getOrDie("hacky"),i=n.getSystem().getByDom(o).getOrDie();ws(t.element(),r),Ql.progressTo(i,"before"),Ql.jumpTo(t,"after"),Ql.progressTo(t,"current");},onCollapseMenu:function onCollapseMenu(n,e,t){var r=Fi(e.element(),'[role="menu"]').getOrDie("hacky"),o=n.getSystem().getByDom(r).getOrDie();Ql.progressTo(o,"after"),Ql.progressTo(t,"current");},navigateOnHover:!1,openImmediately:!0,data:u.tmenu,markers:{backgroundMenu:ai.resolve("styles-background-menu"),menu:ai.resolve("styles-menu"),selectedMenu:ai.resolve("styles-selected-menu"),item:ai.resolve("styles-item"),selectedItem:ai.resolve("styles-selected-item")}}));return c.asSpec();},id=function id(n){return xt(n,"items")?(t=k(gt(e=n,["items"]),{menu:!0}),r=ud(e.items),{item:t,menus:k(r.menus,yt(e.title,r.items)),expansions:k(r.expansions,yt(e.title,e.title))}):{item:n,menus:{},expansions:{}};var e,t,r;},ud=function ud(n){return xn(n,function(n,e){var t=id(e);return{menus:k(n.menus,t.menus),items:[t.item].concat(n.items),expansions:k(n.expansions,t.expansions)};},{menus:{},expansions:{},items:[]});},cd={expand:ud},ad=function ad(u,n){var c=function c(n){return function(){return u.formatter.match(n);};},a=function a(n){return function(){return u.formatter.getCssText(n);};},e=ht(n,"style_formats").getOr(zf),s=function s(n){return yn(n,function(n){if(xt(n,"items")){var e=s(n.items);return k(k(n,{isSelected:A(!1),getPreview:A("")}),{items:e});}return xt(n,"format")?k(i=n,{isSelected:c(i.format),getPreview:a(i.format)}):(r=Gc((t=n).title),o=k(t,{format:r,isSelected:c(r),getPreview:a(r)}),u.formatter.register(r,o),o);var t,r,o,i;});};return s(e);},sd=function sd(t,n,r){var e,_o2,i,u=(e=t,i=(_o2=function o(n){return Cn(n,function(n){return n.items!==undefined?0<_o2(n.items).length?[n]:[]:!xt(n,"format")||e.formatter.canApply(n.format)?[n]:[];});})(n),cd.expand(i));return od({formats:u,handle:function handle(n,e){t.undoManager.transact(function(){ri.isOn(n)?t.formatter.remove(e):t.formatter.apply(e);}),r();}});},fd=["undo","bold","italic","link","image","bullist","styleselect"],ld=function ld(n){var e=n.replace(/\|/g," ").trim();return 0<e.length?e.split(/\s+/):[];},dd=function dd(n){return Cn(n,function(n){return g(n)?dd(n):ld(n);});},md=function md(n){var e=n.toolbar!==undefined?n.toolbar:fd;return g(e)?dd(e):ld(e);},gd=function gd(r,o){var n=function n(_n12){return function(){return $a.forToolbarCommand(o,_n12);};},e=function e(n){return function(){return $a.forToolbarStateCommand(o,n);};},t=function t(n,e,_t5){return function(){return $a.forToolbarStateAction(o,n,e,_t5);};},i=n("undo"),u=n("redo"),c=e("bold"),a=e("italic"),s=e("underline"),f=n("removeformat"),l=t("unlink","link",function(){o.execCommand("unlink",null,!1);}),d=t("unordered-list","ul",function(){o.execCommand("InsertUnorderedList",null,!1);}),m=t("ordered-list","ol",function(){o.execCommand("InsertOrderedList",null,!1);}),g=ad(o,o.settings),p=function p(){return sd(o,g,function(){o.fire("scrollIntoView");});},v=function v(n,e){return{isSupported:function isSupported(){return n.forall(function(n){return xt(o.buttons,n);});},sketch:e};};return{undo:v(F.none(),i),redo:v(F.none(),u),bold:v(F.none(),c),italic:v(F.none(),a),underline:v(F.none(),s),removeformat:v(F.none(),f),link:v(F.none(),function(){return e=r,t=o,$a.forToolbarStateAction(t,"link","link",function(){var n=Hf(e,t);e.setContextToolbar(n),Zs(t,function(){e.focusToolbar();}),Xs.query(t).each(function(n){t.selection.select(n.dom());});});var e,t;}),unlink:v(F.none(),l),image:v(F.none(),function(){return Ws(o);}),bullist:v(F.some("bullist"),d),numlist:v(F.some("numlist"),m),fontsizeselect:v(F.none(),function(){return e=o,n={onChange:function onChange(n){Ms.apply(e,n);},getInitialValue:function getInitialValue(){return Ms.get(e);}},Os(r,"font-size",function(){return Rs(n);});var e,n;}),forecolor:v(F.none(),function(){return Cs(r,o);}),styleselect:v(F.none(),function(){return $a.forToolbar("style-formats",function(n){o.fire("toReading"),r.dropup().appear(p,ri.on,n);},jr([ri.config({toggleClass:ai.resolve("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),Go.config({channels:bt([ui(wo.orientationChanged(),ri.off),ui(wo.dropupDismissed(),ri.off)])})]));})};},pd=function pd(n,t){var e=md(n),r={};return Cn(e,function(n){var e=!xt(r,n)&&xt(t,n)&&t[n].isSupported()?[t[n].sketch()]:[];return r[n]=!0,e;});},vd=function vd(m,g){return function(n){if(m(n)){var e,t,r,o,i,u,c,a=ue.fromDom(n.target),s=function s(){n.stopPropagation();},f=function f(){n.preventDefault();},l=v(f,s),d=(e=a,t=n.clientX,r=n.clientY,o=s,i=f,u=l,c=n,{target:A(e),x:A(t),y:A(r),stop:o,prevent:i,kill:u,raw:A(c)});g(d);}};},hd=function hd(n,e,t,r,o){var i=vd(t,r);return n.dom().addEventListener(e,i,o),{unbind:l(yd,n,e,i,o)};},yd=function yd(n,e,t,r){n.dom().removeEventListener(e,t,r);},bd=A(!0),wd=function wd(n,e,t){return hd(n,e,bd,t,!1);},xd=function xd(n,e,t){return hd(n,e,bd,t,!0);},Td=function Td(n){var e=n.matchMedia("(orientation: portrait)").matches;return{isPortrait:A(e)};},Sd=Td,Od=function Od(r,e){var n=ue.fromDom(r),o=null,t=wd(n,"orientationchange",function(){clearInterval(o);var n=Td(r);e.onChange(n),i(function(){e.onReady(n);});}),i=function i(n){clearInterval(o);var e=r.innerHeight,t=0;o=setInterval(function(){e!==r.innerHeight?(clearInterval(o),n(F.some(r.innerHeight))):20<t&&(clearInterval(o),n(F.none())),t++;},50);};return{onAdjustment:i,destroy:function destroy(){t.unbind();}};},kd=function kd(n){var e=zn.detect().os.isiOS(),t=Td(n).isPortrait();return e&&!t?n.screen.height:n.screen.width;},Cd=function Cd(n){var e=n.raw();return e.touches===undefined||1!==e.touches.length?F.none():F.some(e.touches[0]);},Ed=function Ed(t){var r,o,i,u=ao(F.none()),c=(r=function r(n){u.set(F.none()),t.triggerEvent(Kn(),n);},o=400,i=null,{cancel:function cancel(){null!==i&&(p.clearTimeout(i),i=null);},schedule:function schedule(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}i=p.setTimeout(function(){r.apply(null,n),i=null;},o);}}),a=bt([{key:j(),value:function value(t){return Cd(t).each(function(n){c.cancel();var e={x:A(n.clientX),y:A(n.clientY),target:t.target};c.schedule(t),u.set(F.some(e));}),F.none();}},{key:H(),value:function value(n){return c.cancel(),Cd(n).each(function(i){u.get().each(function(n){var e,t,r,o;e=i,t=n,r=Math.abs(e.clientX-t.x()),o=Math.abs(e.clientY-t.y()),(5<r||5<o)&&u.set(F.none());});}),F.none();}},{key:z(),value:function value(e){return c.cancel(),u.get().filter(function(n){return Re(n.target(),e.target());}).map(function(n){return t.triggerEvent(qn(),e);});}}]);return{fireIfReady:function fireIfReady(e,n){return ht(a,n).bind(function(n){return n(e);});}};},Dd=function Dd(t){var e=Ed({triggerEvent:function triggerEvent(n,e){t.onTapContent(e);}});return{fireTouchstart:function fireTouchstart(n){e.fireIfReady(n,"touchstart");},onTouchend:function onTouchend(){return wd(t.body(),"touchend",function(n){e.fireIfReady(n,"touchend");});},onTouchmove:function onTouchmove(){return wd(t.body(),"touchmove",function(n){e.fireIfReady(n,"touchmove");});}};},Id=6<=zn.detect().os.version.major,Ad=function Ad(r,e,t){var o=Dd(r),i=Be(e),u=function u(n){return!Re(n.start(),n.finish())||n.soffset()!==n.foffset();},n=function n(){var n=r.doc().dom().hasFocus()&&r.getSelection().exists(u);t.getByDom(e).each(!0===(n||po(i).filter(function(n){return"input"===me(n);}).exists(function(n){return n.dom().selectionStart!==n.dom().selectionEnd;}))?ri.on:ri.off);},c=[wd(r.body(),"touchstart",function(n){r.onTouchContent(),o.fireTouchstart(n);}),o.onTouchmove(),o.onTouchend(),wd(e,"touchstart",function(n){r.onTouchToolstrip();}),r.onToReading(function(){go(r.body());}),r.onToEditing(I),r.onScrollToCursor(function(n){n.preventDefault(),r.getCursorBox().each(function(n){var e=r.win(),t=n.top()>e.innerHeight||n.bottom()>e.innerHeight?n.bottom()-e.innerHeight+50:0;0!==t&&e.scrollTo(e.pageXOffset,e.pageYOffset+t);});})].concat(!0===Id?[]:[wd(ue.fromDom(r.win()),"blur",function(){t.getByDom(e).each(ri.off);}),wd(i,"select",n),wd(r.doc(),"selectionchange",n)]);return{destroy:function destroy(){bn(c,function(n){n.unbind();});}};},Md=function Md(n,e){var t=parseInt(Gr(n,e),10);return isNaN(t)?0:t;},Fd=(Hs=ve,zs="text",{get:function get(n){if(!Hs(n))throw new Error("Can only get "+zs+" value of a "+zs+" node");return Ls(n).getOr("");},getOption:Ls=function Ls(n){return Hs(n)?F.from(n.dom().nodeValue):F.none();},set:function set(n,e){if(!Hs(n))throw new Error("Can only set raw "+zs+" value of a "+zs+" node");n.dom().nodeValue=e;}}),Rd=function Rd(n){return"img"===me(n)?1:(e=n,Fd.getOption(e)).fold(function(){return _e(n).length;},function(n){return n.length;});var e;},Bd={create:we("start","soffset","finish","foffset")},Vd=Ze([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Nd={before:Vd.before,on:Vd.on,after:Vd.after,cata:function cata(n,e,t,r){return n.fold(e,t,r);},getStart:function getStart(n){return n.fold(h,h,h);}},_d=Ze([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),jd={domRange:_d.domRange,relative:_d.relative,exact:_d.exact,exactFromRange:function exactFromRange(n){return _d.exact(n.start(),n.soffset(),n.finish(),n.foffset());},getWin:function getWin(n){var e=n.match({domRange:function domRange(n){return ue.fromDom(n.startContainer);},relative:function relative(n,e){return Nd.getStart(n);},exact:function exact(n,e,t,r){return n;}});return Ve(e);},range:Bd.create},Hd=function Hd(n,e,t){var r,o,i=n.document.createRange();return r=i,e.fold(function(n){r.setStartBefore(n.dom());},function(n,e){r.setStart(n.dom(),e);},function(n){r.setStartAfter(n.dom());}),o=i,t.fold(function(n){o.setEndBefore(n.dom());},function(n,e){o.setEnd(n.dom(),e);},function(n){o.setEndAfter(n.dom());}),i;},zd=function zd(n,e,t,r,o){var i=n.document.createRange();return i.setStart(e.dom(),t),i.setEnd(r.dom(),o),i;},Ld=function Ld(n){return{left:A(n.left),top:A(n.top),right:A(n.right),bottom:A(n.bottom),width:A(n.width),height:A(n.height)};},Pd=Ze([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),$d=function $d(n,e,t){return e(ue.fromDom(t.startContainer),t.startOffset,ue.fromDom(t.endContainer),t.endOffset);},Wd=function Wd(n,e){var o,t,r,i=(o=n,e.match({domRange:function domRange(n){return{ltr:A(n),rtl:F.none};},relative:function relative(n,e){return{ltr:J(function(){return Hd(o,n,e);}),rtl:J(function(){return F.some(Hd(o,e,n));})};},exact:function exact(n,e,t,r){return{ltr:J(function(){return zd(o,n,e,t,r);}),rtl:J(function(){return F.some(zd(o,t,r,n,e));})};}}));return(r=(t=i).ltr()).collapsed?t.rtl().filter(function(n){return!1===n.collapsed;}).map(function(n){return Pd.rtl(ue.fromDom(n.endContainer),n.endOffset,ue.fromDom(n.startContainer),n.startOffset);}).getOrThunk(function(){return $d(0,Pd.ltr,r);}):$d(0,Pd.ltr,r);},Ud=function Ud(n,e){var t=me(n);return"input"===t?Nd.after(n):hn(["br","img"],t)?0===e?Nd.before(n):Nd.after(n):Nd.on(n,e);},Gd=function Gd(n,e,t,r){var o,i,u,c,a,s=(i=e,u=t,c=r,(a=Be(o=n).dom().createRange()).setStart(o.dom(),i),a.setEnd(u.dom(),c),a),f=Re(n,t)&&e===r;return s.collapsed&&!f;},qd=function qd(n,e,t,r,o){var i,u,c=zd(n,e,t,r,o);i=n,u=c,F.from(i.getSelection()).each(function(n){n.removeAllRanges(),n.addRange(u);});},Yd=function Yd(n,e,t,r,o){var i,u,c,a,l,s=(i=r,u=o,c=Ud(e,t),a=Ud(i,u),jd.relative(c,a));Wd(l=n,s).match({ltr:function ltr(n,e,t,r){qd(l,n,e,t,r);},rtl:function rtl(n,e,t,r){var o,i,u,c,a,s=l.getSelection();if(s.setBaseAndExtent)s.setBaseAndExtent(n.dom(),e,t.dom(),r);else if(s.extend)try{i=n,u=e,c=t,a=r,(o=s).collapse(i.dom(),u),o.extend(c.dom(),a);}catch(f){qd(l,t,r,n,e);}else qd(l,t,r,n,e);}});},Kd=function Kd(n){var e=ue.fromDom(n.anchorNode),t=ue.fromDom(n.focusNode);return Gd(e,n.anchorOffset,t,n.focusOffset)?F.some(Bd.create(e,n.anchorOffset,t,n.focusOffset)):function(n){if(0<n.rangeCount){var e=n.getRangeAt(0),t=n.getRangeAt(n.rangeCount-1);return F.some(Bd.create(ue.fromDom(e.startContainer),e.startOffset,ue.fromDom(t.endContainer),t.endOffset));}return F.none();}(n);},Xd=function Xd(n){return F.from(n.getSelection()).filter(function(n){return 0<n.rangeCount;}).bind(Kd);},Jd=function Jd(n,e){var i,t,r,o,u=Wd(i=n,e).match({ltr:function ltr(n,e,t,r){var o=i.document.createRange();return o.setStart(n.dom(),e),o.setEnd(t.dom(),r),o;},rtl:function rtl(n,e,t,r){var o=i.document.createRange();return o.setStart(t.dom(),r),o.setEnd(n.dom(),e),o;}});return r=(t=u).getClientRects(),0<(o=0<r.length?r[0]:t.getBoundingClientRect()).width||0<o.height?F.some(o).map(Ld):F.none();},Qd=function Qd(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:A(2),height:n.height};},Zd=function Zd(n){return{left:A(n.left),top:A(n.top),right:A(n.right),bottom:A(n.bottom),width:A(n.width),height:A(n.height)};},nm=function nm(n){var e=n.getSelection();return e!==undefined&&0<e.rangeCount?function(t){if(t.collapsed){var r=ue.fromDom(t.startContainer);return Ne(r).bind(function(n){var e=jd.exact(r,t.startOffset,n,Rd(n));return Jd(t.startContainer.ownerDocument.defaultView,e).map(Qd).map(In);}).getOr([]);}return yn(t.getClientRects(),Zd);}(e.getRangeAt(0)):[];},em=function em(n){n.focus();var e=ue.fromDom(n.document.body);(po().exists(function(n){return hn(["input","textarea"],me(n));})?function(n){setTimeout(function(){n();},0);}:a)(function(){po().each(go),mo(e);});},tm="data-"+ai.resolve("last-outer-height"),rm=function rm(n,e){Wr(n,tm,e);},om=function om(n){return{top:A(n.top()),bottom:A(n.top()+n.height())};},im=function im(n,e){var t=Md(e,tm),r=n.innerHeight;return r<t?F.some(t-r):F.none();},um=function um(n,u){var e=ue.fromDom(u.document.body),t=wd(ue.fromDom(n),"resize",function(){im(n,e).each(function(i){var n,e;(n=u,e=nm(n),0<e.length?F.some(e[0]).map(om):F.none()).each(function(n){var e,t,r,o=(e=u,r=i,(t=n).top()>e.innerHeight||t.bottom()>e.innerHeight?Math.min(r,t.bottom()-e.innerHeight+50):0);0!==o&&u.scrollTo(u.pageXOffset,u.pageYOffset+o);});}),rm(e,n.innerHeight);});return rm(e,n.innerHeight),{toEditing:function toEditing(){em(u);},destroy:function destroy(){t.unbind();}};},cm=function cm(n){return F.some(ue.fromDom(n.dom().contentWindow.document.body));},am=function am(n){return F.some(ue.fromDom(n.dom().contentWindow.document));},sm=function sm(n){return F.from(n.dom().contentWindow);},fm=function fm(n){return sm(n).bind(Xd);},lm=function lm(n){return n.getFrame();},dm=function dm(n,t){return function(e){return e[n].getOrThunk(function(){var n=lm(e);return function(){return t(n);};})();};},mm=function mm(n,e,t,r){return n[t].getOrThunk(function(){return function(n){return wd(e,r,n);};});},gm=function gm(n){return{left:A(n.left),top:A(n.top),right:A(n.right),bottom:A(n.bottom),width:A(n.width),height:A(n.height)};},pm={getBody:dm("getBody",cm),getDoc:dm("getDoc",am),getWin:dm("getWin",sm),getSelection:dm("getSelection",fm),getFrame:lm,getActiveApi:function getActiveApi(c){var a=lm(c);return cm(a).bind(function(u){return am(a).bind(function(i){return sm(a).map(function(o){var n=ue.fromDom(i.dom().documentElement),e=c.getCursorBox.getOrThunk(function(){return function(){return(n=o,Xd(n).map(function(n){return jd.exact(n.start(),n.soffset(),n.finish(),n.foffset());})).bind(function(n){return Jd(o,n).orThunk(function(){return Xd(o).filter(function(n){return Re(n.start(),n.finish())&&n.soffset()===n.foffset();}).bind(function(n){var e=n.start().dom().getBoundingClientRect();return 0<e.width||0<e.height?F.some(e).map(gm):F.none();});});});var n;};}),t=c.setSelection.getOrThunk(function(){return function(n,e,t,r){Yd(o,n,e,t,r);};}),r=c.clearSelection.getOrThunk(function(){return function(){o.getSelection().removeAllRanges();};});return{body:A(u),doc:A(i),win:A(o),html:A(n),getSelection:l(fm,a),setSelection:t,clearSelection:r,frame:A(a),onKeyup:mm(c,i,"onKeyup","keyup"),onNodeChanged:mm(c,i,"onNodeChanged","selectionchange"),onDomChanged:c.onDomChanged,onScrollToCursor:c.onScrollToCursor,onScrollToElement:c.onScrollToElement,onToReading:c.onToReading,onToEditing:c.onToEditing,onToolbarScrollStart:c.onToolbarScrollStart,onTouchContent:c.onTouchContent,onTapContent:c.onTapContent,onTouchToolstrip:c.onTouchToolstrip,getCursorBox:e};});});});}},vm="data-ephox-mobile-fullscreen-style",hm="position:absolute!important;",ym="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",bm=zn.detect().os.isAndroid(),wm=function wm(n,e){var t,r,o,i=function i(r){return function(n){var e=Gr(n,"style"),t=e===undefined?"no-styles":e.trim();t!==r&&(Wr(n,vm,t),Wr(n,"style",r));};},u=(t="*",Di(n,function(n){return Ie(n,t);},r)),c=Cn(u,function(n){var e;return e="*",Ii(n,function(n){return Ie(n,e);});}),a=(o=yi(e,"background-color"))!==undefined&&""!==o?"background-color:"+o+"!important":"background-color:rgb(255,255,255)!important;";bn(c,i("display:none!important;")),bn(u,i(hm+ym+a)),i((!0===bm?"":hm)+ym+a)(n);},xm=function xm(){var n=Me("["+vm+"]");bn(n,function(n){var e=Gr(n,vm);"no-styles"!==e?Wr(n,"style",e):Yr(n,"style"),Yr(n,vm);});},Tm=function Tm(){var e=Mi("head").getOrDie(),n=Mi('meta[name="viewport"]').getOrThunk(function(){var n=ue.fromTag("meta");return Wr(n,"name","viewport"),ze(e,n),n;}),t=Gr(n,"content");return{maximize:function maximize(){Wr(n,"content","width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0");},restore:function restore(){t!==undefined&&null!==t&&0<t.length?Wr(n,"content",t):Wr(n,"content","user-scalable=yes");}};},Sm=function Sm(e,n){var t=Tm(),r=Rf(),o=Rf();return{enter:function enter(){n.hide(),no(e.container,ai.resolve("fullscreen-maximized")),no(e.container,ai.resolve("android-maximized")),t.maximize(),no(e.body,ai.resolve("android-scroll-reload")),r.set(um(e.win,pm.getWin(e.editor).getOrDie("no"))),pm.getActiveApi(e.editor).each(function(n){wm(e.container,n.body()),o.set(Ad(n,e.toolstrip,e.alloy));});},exit:function exit(){t.restore(),n.show(),eo(e.container,ai.resolve("fullscreen-maximized")),eo(e.container,ai.resolve("android-maximized")),xm(),eo(e.body,ai.resolve("android-scroll-reload")),o.clear(),r.clear();}};},Om=function Om(t,r){var o=null;return{cancel:function cancel(){null!==o&&(p.clearTimeout(o),o=null);},throttle:function throttle(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}null!==o&&p.clearTimeout(o),o=p.setTimeout(function(){t.apply(null,n),o=null;},r);}};},km=function km(n,e){var t,r,o,i=Bs(of.sketch({dom:Ha('<div aria-hidden="true" class="${prefix}-mask-tap-icon"></div>'),containerBehaviours:jr([ri.config({toggleClass:ai.resolve("mask-tap-icon-selected"),toggleOnExecute:!1})])})),u=(t=n,r=200,o=null,{cancel:function cancel(){null!==o&&(p.clearTimeout(o),o=null);},throttle:function throttle(){for(var n=[],e=0;e<arguments.length;e++){n[e]=arguments[e];}null===o&&(o=p.setTimeout(function(){t.apply(null,n),o=null;},r));}});return of.sketch({dom:Ha('<div class="${prefix}-disabled-mask"></div>'),components:[of.sketch({dom:Ha('<div class="${prefix}-content-container"></div>'),components:[Na.sketch({dom:Ha('<div class="${prefix}-content-tap-section"></div>'),components:[i.asSpec()],action:function action(n){u.throttle();},buttonBehaviours:jr([ri.config({toggleClass:ai.resolve("mask-tap-icon-selected")})])})]})]});},Cm=Bt([nr("editor",[Jt("getFrame"),er("getBody"),er("getDoc"),er("getWin"),er("getSelection"),er("setSelection"),er("clearSelection"),er("cursorSaver"),er("onKeyup"),er("onNodeChanged"),er("getCursorBox"),Jt("onDomChanged"),or("onTouchContent",I),or("onTapContent",I),or("onTouchToolstrip",I),or("onScrollToCursor",A({unbind:I})),or("onScrollToElement",A({unbind:I})),or("onToEditing",A({unbind:I})),or("onToReading",A({unbind:I})),or("onToolbarScrollStart",h)]),Jt("socket"),Jt("toolstrip"),Jt("dropup"),Jt("toolbar"),Jt("container"),Jt("alloy"),ur("win",function(n){return Be(n.socket).dom().defaultView;}),ur("body",function(n){return ue.fromDom(n.socket.dom().ownerDocument.body);}),or("translate",h),or("setReadOnly",I),or("readOnlyOnInit",A(!0))]),Em=function Em(n){var e=Ut("Getting AndroidWebapp schema",Cm,n);vi(e.toolstrip,"width","100%");var t=yl(km(function(){e.setReadOnly(e.readOnlyOnInit()),o.enter();},e.translate));e.alloy.add(t);var r={show:function show(){e.alloy.add(t);},hide:function hide(){e.alloy.remove(t);}};ze(e.container,t.element());var o=Sm(e,r);return{setReadOnly:e.setReadOnly,refreshStructure:I,enter:o.enter,exit:o.exit,destroy:I};},Dm=A([or("shell",!0),Vc("toolbarBehaviours",[jl])]),Im=A([ua({name:"groups",overrides:function overrides(n){return{behaviours:jr([jl.config({})])};}})]),Am=Va({name:"Toolbar",configFields:Dm(),partFields:Im(),factory:function factory(e,n,t,r){var o=function o(n){return e.shell()?F.some(n):ga(n,e,"groups");},i=e.shell()?{behaviours:[jl.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid(),dom:e.dom(),components:i.components,behaviours:k(jr(i.behaviours),Nc(e.toolbarBehaviours())),apis:{setGroups:function setGroups(n,e){o(n).fold(function(){throw p.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components");},function(n){jl.set(n,e);});}},domModification:{attributes:{role:"group"}}};},apis:{setGroups:function setGroups(n,e,t){n.setGroups(e,t);}}}),Mm=A([Jt("items"),(Ps=["itemClass"],nr("markers",yn(Ps,Jt))),Vc("tgroupBehaviours",[Bc])]),Fm=A([ca({name:"items",unit:"item",overrides:function overrides(n){return{domModification:{classes:[n.markers().itemClass()]}};}})]),Rm=Va({name:"ToolbarGroup",configFields:Mm(),partFields:Fm(),factory:function factory(n,e,t,r){return k({dom:{attributes:{role:"toolbar"}}},{uid:n.uid(),dom:n.dom(),components:e,behaviours:k(jr([Bc.config({mode:"flow",selector:"."+n.markers().itemClass()})]),Nc(n.tgroupBehaviours())),"debug.sketcher":t["debug.sketcher"]});}}),Bm="data-"+ai.resolve("horizontal-scroll"),Vm=function Vm(n){return"true"===Gr(n,Bm)?0<(t=n).dom().scrollLeft||function(n){n.dom().scrollLeft=1;var e=0!==n.dom().scrollLeft;return n.dom().scrollLeft=0,e;}(t):0<(e=n).dom().scrollTop||function(n){n.dom().scrollTop=1;var e=0!==n.dom().scrollTop;return n.dom().scrollTop=0,e;}(e);var e,t;},Nm={exclusive:function exclusive(n,e){return wd(n,"touchmove",function(n){Bi(n.target(),e).filter(Vm).fold(function(){n.raw().preventDefault();},I);});},markAsHorizontal:function markAsHorizontal(n){Wr(n,Bm,"true");}};function _m(){var e=function e(n){var e=!0===n.scrollable?"${prefix}-toolbar-scrollable-group":"";return{dom:Ha('<div aria-label="'+n.label+'" class="${prefix}-toolbar-group '+e+'"></div>'),tgroupBehaviours:jr([nf("adhoc-scrollable-toolbar",!0===n.scrollable?[yr(function(n,e){vi(n.element(),"overflow-x","auto"),Nm.markAsHorizontal(n.element()),nd.register(n.element());})]:[])]),components:[of.sketch({components:[Rm.parts().items({})]})],markers:{itemClass:ai.resolve("toolbar-group-item")},items:n.items};},t=yl(Am.sketch({dom:Ha('<div class="${prefix}-toolbar"></div>'),components:[Am.parts().groups({})],toolbarBehaviours:jr([ri.config({toggleClass:ai.resolve("context-toolbar"),toggleOnExecute:!1,aria:{mode:"none"}}),Bc.config({mode:"cyclic"})]),shell:!0})),n=yl(of.sketch({dom:{classes:[ai.resolve("toolstrip")]},components:[bl(t)],containerBehaviours:jr([ri.config({toggleClass:ai.resolve("android-selection-context-toolbar"),toggleOnExecute:!1})])})),r=function r(){Am.setGroups(t,o.get()),ri.off(t);},o=ao([]);return{wrapper:A(n),toolbar:A(t),createGroups:function createGroups(n){return yn(n,v(Rm.sketch,e));},setGroups:function setGroups(n){o.set(n),r();},setContextToolbar:function setContextToolbar(n){ri.on(t),Am.setGroups(t,n);},restoreToolbar:function restoreToolbar(){ri.isOn(t)&&r();},refresh:function refresh(){},focus:function focus(){Bc.focusIn(t);}};}var jm=function jm(n,e){jl.append(n,bl(e));},Hm=function Hm(n,e){jl.remove(n,e);},zm=function zm(n){return yl(Na.sketch({dom:Ha('<div class="${prefix}-mask-edit-icon ${prefix}-icon"></div>'),action:function action(){n.run(function(n){n.setReadOnly(!1);});}}));},Lm=function Lm(){return yl(of.sketch({dom:Ha('<div class="${prefix}-editor-socket"></div>'),components:[],containerBehaviours:jr([jl.config({})])}));},Pm=function Pm(n,e,t,r){(!0===t?co.toAlpha:co.toOmega)(r),(t?jm:Hm)(n,e);},$m=function $m(e,n){return n.getAnimationRoot().fold(function(){return e.element();},function(n){return n(e);});},Wm=function Wm(n){return n.dimension().property();},Um=function Um(n,e){return n.dimension().getDimension()(e);},Gm=function Gm(n,e){var t=$m(n,e);ul(t,[e.shrinkingClass(),e.growingClass()]);},qm=function qm(n,e){eo(n.element(),e.openClass()),no(n.element(),e.closedClass()),vi(n.element(),Wm(e),"0px"),Ti(n.element());},Ym=function Ym(n,e){eo(n.element(),e.closedClass()),no(n.element(),e.openClass()),xi(n.element(),Wm(e));},Km=function Km(n,e,t){t.setCollapsed(),vi(n.element(),Wm(e),Um(e,n.element())),Ti(n.element());var r=$m(n,e);no(r,e.shrinkingClass()),qm(n,e),e.onStartShrink()(n);},Xm=function Xm(n,e,t){var r=function(n,e){Ym(n,e);var t=Um(e,n.element());return qm(n,e),t;}(n,e),o=$m(n,e);no(o,e.growingClass()),Ym(n,e),vi(n.element(),Wm(e),r),t.setExpanded(),e.onStartGrow()(n);},Jm=function Jm(n,e,t){var r=$m(n,e);return!0===ro(r,e.growingClass());},Qm=function Qm(n,e,t){var r=$m(n,e);return!0===ro(r,e.shrinkingClass());},Zm=Object.freeze({grow:function grow(n,e,t){t.isExpanded()||Xm(n,e,t);},shrink:function shrink(n,e,t){t.isExpanded()&&Km(n,e,t);},immediateShrink:function immediateShrink(n,e,t){var r,o;t.isExpanded()&&(r=n,o=e,t.setCollapsed(),vi(r.element(),Wm(o),Um(o,r.element())),Ti(r.element()),Gm(r,o),qm(r,o),o.onStartShrink()(r),o.onShrunk()(r));},hasGrown:function hasGrown(n,e,t){return t.isExpanded();},hasShrunk:function hasShrunk(n,e,t){return t.isCollapsed();},isGrowing:Jm,isShrinking:Qm,isTransitioning:function isTransitioning(n,e,t){return!0===Jm(n,e)||!0===Qm(n,e);},toggleGrow:function toggleGrow(n,e,t){(t.isExpanded()?Km:Xm)(n,e,t);},disableTransitions:Gm}),ng=Object.freeze({exhibit:function exhibit(n,e){var t=e.expanded();return Or(t?{classes:[e.openClass()],styles:{}}:{classes:[e.closedClass()],styles:yt(e.dimension().property(),"0px")});},events:function events(t,r){return sr([lr(K(),function(n,e){e.event().raw().propertyName===t.dimension().property()&&(Gm(n,t),r.isExpanded()&&xi(n.element(),t.dimension().property()),(r.isExpanded()?t.onGrown():t.onShrunk())(n));})]);}}),eg=[Jt("closedClass"),Jt("openClass"),Jt("shrinkingClass"),Jt("growingClass"),er("getAnimationRoot"),jo("onShrunk"),jo("onStartShrink"),jo("onGrown"),jo("onStartGrow"),or("expanded",!1),Qt("dimension",Yt("property",{width:[Po("property","width"),Po("getDimension",function(n){return xs(n)+"px";})],height:[Po("property","height"),Po("getDimension",function(n){return Ei(n)+"px";})]}))],tg=zr({fields:eg,name:"sliding",active:ng,apis:Zm,state:Object.freeze({init:function init(n){var e=ao(n.expanded());return _r({isExpanded:function isExpanded(){return!0===e.get();},isCollapsed:function isCollapsed(){return!1===e.get();},setCollapsed:l(e.set,!1),setExpanded:l(e.set,!0),readState:function readState(){return"expanded: "+e.get();}});}})}),rg=function rg(e,t){var r=yl(of.sketch({dom:{tag:"div",classes:[ai.resolve("dropup")]},components:[],containerBehaviours:jr([jl.config({}),tg.config({closedClass:ai.resolve("dropup-closed"),openClass:ai.resolve("dropup-open"),shrinkingClass:ai.resolve("dropup-shrinking"),growingClass:ai.resolve("dropup-growing"),dimension:{property:"height"},onShrunk:function onShrunk(n){e(),t(),jl.set(n,[]);},onGrown:function onGrown(n){e(),t();}}),ii(function(n,e){o(I);})])})),o=function o(n){p.window.requestAnimationFrame(function(){n(),tg.shrink(r);});};return{appear:function appear(n,e,t){!0===tg.hasShrunk(r)&&!1===tg.isTransitioning(r)&&p.window.requestAnimationFrame(function(){e(t),jl.set(r,[n()]),tg.grow(r);});},disappear:o,component:A(r),element:r.element};},og=zn.detect().browser.isFirefox(),ig=Rt([Zt("triggerEvent"),Zt("broadcastEvent"),or("stopBackspace",!0)]),ug=function ug(e,n){var t,r,o,i,u=Ut("Getting GUI events settings",ig,n),c=zn.detect().deviceType.isTouch()?["touchstart","touchmove","touchend","gesturestart"]:["mousedown","mouseup","mouseover","mousemove","mouseout","click"],a=Ed(u),s=yn(c.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop"]),function(n){return wd(e,n,function(e){a.fireIfReady(e,n).each(function(n){n&&e.kill();}),u.triggerEvent(n,e)&&e.kill();});}),f=wd(e,"keydown",function(n){var e;u.triggerEvent("keydown",n)?n.kill():!0!==u.stopBackspace||8!==(e=n).raw().which||hn(["input","textarea"],me(e.target()))||n.prevent();}),l=(t=e,r=function r(n){u.triggerEvent("focusin",n)&&n.kill();},og?xd(t,"focus",r):wd(t,"focusin",r)),d=(o=e,i=function i(n){u.triggerEvent("focusout",n)&&n.kill(),p.setTimeout(function(){u.triggerEvent($n(),n);},0);},og?xd(o,"blur",i):wd(o,"focusout",i)),m=Ve(e),g=wd(m,"scroll",function(n){u.broadcastEvent(Jn(),n)&&n.kill();});return{unbind:function unbind(){bn(s,function(n){n.unbind();}),f.unbind(),l.unbind(),d.unbind(),g.unbind();}};},cg=function cg(n,e){var t=ht(n,"target").map(function(n){return n();}).getOr(e);return ao(t);},ag=Ze([{stopped:[]},{resume:["element"]},{complete:[]}]),sg=function sg(n,r,e,t,o,i){var u,c,a,s,f=n(r,t),l=(u=e,c=o,a=ao(!1),s=ao(!1),{stop:function stop(){a.set(!0);},cut:function cut(){s.set(!0);},isStopped:a.get,isCut:s.get,event:A(u),setSource:c.set,getSource:c.get});return f.fold(function(){return i.logEventNoHandlers(r,t),ag.complete();},function(e){var t=e.descHandler();return Jf(t)(l),l.isStopped()?(i.logEventStopped(r,e.element(),t.purpose()),ag.stopped()):l.isCut()?(i.logEventCut(r,e.element(),t.purpose()),ag.complete()):Ne(e.element()).fold(function(){return i.logNoParent(r,e.element(),t.purpose()),ag.complete();},function(n){return i.logEventResponse(r,e.element(),t.purpose()),ag.resume(n);});});},fg=function fg(e,t,r,n,o,i){return sg(e,t,r,n,o,i).fold(function(){return!0;},function(n){return fg(e,t,r,n,o,i);},function(){return!1;});},lg=function lg(n,e,t){var r,o,i=(r=e,o=ao(!1),{stop:function stop(){o.set(!0);},cut:I,isStopped:o.get,isCut:A(!1),event:A(r),setSource:c("Cannot set source of a broadcasted event"),getSource:c("Cannot get source of a broadcasted event")});return bn(n,function(n){var e=n.descHandler();Jf(e)(i);}),i.isStopped();},dg=function dg(n,e,t,r,o){var i=cg(t,r);return fg(n,e,t,r,i,o);},mg=function mg(n,e,t){return lo(n,function(n){return e(n).isSome();},t).bind(e);},gg=we("element","descHandler"),pg=function pg(n,e){return{id:A(n),descHandler:A(e)};};function vg(){var i={};return{registerId:function registerId(r,o,n){B(n,function(n,e){var t=i[e]!==undefined?i[e]:{};t[o]=Xf(n,r),i[e]=t;});},unregisterId:function unregisterId(t){B(i,function(n,e){n.hasOwnProperty(t)&&delete n[t];});},filterByType:function filterByType(n){return ht(i,n).map(function(n){return _(n,function(n,e){return pg(e,n);});}).getOr([]);},find:function find(n,e,t){var o=pt(e)(i);return mg(t,function(n){return t=o,Ea(r=n).fold(function(){return F.none();},function(n){var e=pt(n);return t.bind(e).map(function(n){return gg(r,n);});});var t,r;},n);}};}function hg(){var r=vg(),o={},i=function i(r){var n=r.element();return Ea(n).fold(function(){return n="uid-",e=r.element(),t=Gc(ka+n),Wr(e,Ca,t),t;var n,e,t;},function(n){return n;});},u=function u(n){Ea(n.element()).each(function(n){o[n]=undefined,r.unregisterId(n);});};return{find:function find(n,e,t){return r.find(n,e,t);},filter:function filter(n){return r.filterByType(n);},register:function register(n){var e=i(n);xt(o,e)&&function(n,e){var t=o[e];if(t!==n)throw new Error('The tagId "'+e+'" is already used by: '+ko(t.element())+"\nCannot use it for: "+ko(n.element())+"\nThe conflicting element is"+(he(t.element())?" ":" not ")+"already in the DOM");u(n);}(n,e);var t=[n];r.registerId(t,e,n.events()),o[e]=n;},unregister:u,getById:function getById(n){return pt(n)(o);}};}var yg=function yg(t){var r=function r(e){return Ne(t.element()).fold(function(){return!0;},function(n){return Re(e,n);});},o=hg(),s=function s(n,e){return o.find(r,n,e);},n=ug(t.element(),{triggerEvent:function triggerEvent(u,c){return Fo(u,c.target(),function(n){return e=s,t=u,o=n,i=(r=c).target(),dg(e,t,r,i,o);var e,t,r,o,i;});},broadcastEvent:function broadcastEvent(n,e){var t=o.filter(n);return lg(t,e);}}),i=Wf({debugInfo:A("real"),triggerEvent:function triggerEvent(e,t,r){Fo(e,t,function(n){dg(s,e,r,t,n);});},triggerFocus:function triggerFocus(c,a){Ea(c).fold(function(){mo(c);},function(n){Fo(Pn(),c,function(n){var e,t,r,o,i,u;e=s,t=Pn(),r={originator:A(a),kill:I,prevent:I,target:A(c)},i=n,u=cg(r,o=c),sg(e,t,r,o,u,i);});});},triggerEscape:function triggerEscape(n,e){i.triggerEvent("keydown",n.element(),e.event());},getByUid:function getByUid(n){return m(n);},getByDom:function getByDom(n){return g(n);},build:yl,addToGui:function addToGui(n){c(n);},removeFromGui:function removeFromGui(n){a(n);},addToWorld:function addToWorld(n){e(n);},removeFromWorld:function removeFromWorld(n){u(n);},broadcast:function broadcast(n){l(n);},broadcastOn:function broadcastOn(n,e){d(n,e);},isConnected:A(!0)}),e=function e(n){n.connect(i),ve(n.element())||(o.register(n),bn(n.components(),e),i.triggerEvent(Xn(),n.element(),{target:A(n.element())}));},u=function u(n){ve(n.element())||(bn(n.components(),u),o.unregister(n)),n.disconnect();},c=function c(n){Ge(t,n);},a=function a(n){Ke(n);},f=function f(t){var n=o.filter(Wn());bn(n,function(n){var e=n.descHandler();Jf(e)(t);});},l=function l(n){f({universal:A(!0),data:A(n)});},d=function d(n,e){f({universal:A(!1),channels:A(n),data:A(e)});},m=function m(n){return o.getById(n).fold(function(){return Qe.error(new Error('Could not find component with uid: "'+n+'" in system.'));},Qe.value);},g=function g(n){var e=Ea(n).getOr("not found");return m(e);};return e(t),{root:A(t),element:t.element,destroy:function destroy(){n.unbind(),$e(t.element());},add:c,remove:a,getByUid:m,getByDom:g,addToWorld:e,removeFromWorld:u,broadcast:l,broadcastOn:d};},bg=A(ai.resolve("readonly-mode")),wg=A(ai.resolve("edit-mode"));function xg(n){var e=yl(of.sketch({dom:{classes:[ai.resolve("outer-container")].concat(n.classes)},containerBehaviours:jr([co.config({alpha:bg(),omega:wg()})])}));return yg(e);}var Tg,Sg,Og,kg,Cg=function Cg(n,e){var t=ue.fromTag("input");hi(t,{opacity:"0",position:"absolute",top:"-1000px",left:"-1000px"}),ze(n,t),mo(t),e(t),$e(t);},Eg=function Eg(n){var e=n.getSelection();if(0<e.rangeCount){var t=e.getRangeAt(0),r=n.document.createRange();r.setStart(t.startContainer,t.startOffset),r.setEnd(t.endContainer,t.endOffset),e.removeAllRanges(),e.addRange(r);}},Dg=function Dg(n,e){po().each(function(n){Re(n,e)||go(n);}),n.focus(),mo(ue.fromDom(n.document.body)),Eg(n);},Ig={stubborn:function stubborn(n,e,t,r){var o=function o(){Dg(e,r);},i=wd(t,"keydown",function(n){hn(["input","textarea"],me(n.target()))||o();});return{toReading:function toReading(){Cg(n,go);},toEditing:o,onToolbarTouch:function onToolbarTouch(){},destroy:function destroy(){i.unbind();}};},timid:function timid(n,e,t,r){var o=function o(){go(r);};return{toReading:function toReading(){o();},toEditing:function toEditing(){Dg(e,r);},onToolbarTouch:function onToolbarTouch(){o();},destroy:I};}},Ag=function Ag(t,r,o,i,n){var u=function u(){r.run(function(n){n.refreshSelection();});},e=function e(n,_e13){var t=n-i.dom().scrollTop;r.run(function(n){n.scrollIntoView(t,t+_e13);});},c=function c(){r.run(function(n){n.clearSelection();});},a=function a(){t.getCursorBox().each(function(n){e(n.top(),n.height());}),r.run(function(n){n.syncHeight();});},s=Dd(t),f=Om(a,300),l=[t.onKeyup(function(){c(),f.throttle();}),t.onNodeChanged(u),t.onDomChanged(f.throttle),t.onDomChanged(u),t.onScrollToCursor(function(n){n.preventDefault(),f.throttle();}),t.onScrollToElement(function(n){n.element(),e(r,i);}),t.onToEditing(function(){r.run(function(n){n.toEditing();});}),t.onToReading(function(){r.run(function(n){n.toReading();});}),wd(t.doc(),"touchend",function(n){Re(t.html(),n.target())||Re(t.body(),n.target());}),wd(o,"transitionend",function(n){var e;"height"===n.raw().propertyName&&(e=Ei(o),r.run(function(n){n.setViewportOffset(e);}),u(),a());}),xd(o,"touchstart",function(n){var e;r.run(function(n){n.highlightSelection();}),e=n,r.run(function(n){n.onToolbarTouch(e);}),t.onTouchToolstrip();}),wd(t.body(),"touchstart",function(n){c(),t.onTouchContent(),s.fireTouchstart(n);}),s.onTouchmove(),s.onTouchend(),wd(t.body(),"click",function(n){n.kill();}),wd(o,"touchmove",function(){t.onToolbarScrollStart();})];return{destroy:function destroy(){bn(l,function(n){n.unbind();});}};},Mg={},Fg={exports:Mg};Tg=undefined,Sg=Mg,Og=Fg,kg=undefined,function(n){"object"==_typeof(Sg)&&void 0!==Og?Og.exports=n():"function"==typeof Tg&&Tg.amd?Tg([],n):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=n();}(function(){return function i(u,c,a){function s(e,n){if(!c[e]){if(!u[e]){var t="function"==typeof kg&&kg;if(!n&&t)return t(e,!0);if(f)return f(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r;}var o=c[e]={exports:{}};u[e][0].call(o.exports,function(n){return s(u[e][1][n]||n);},o,o.exports,i,u,c,a);}return c[e].exports;}for(var f="function"==typeof kg&&kg,n=0;n<a.length;n++){s(a[n]);}return s;}({1:[function(n,e,t){var r,o,i=e.exports={};function u(){throw new Error("setTimeout has not been defined");}function c(){throw new Error("clearTimeout has not been defined");}function a(n){if(r===setTimeout)return setTimeout(n,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(n,0);try{return r(n,0);}catch(e){try{return r.call(null,n,0);}catch(e){return r.call(this,n,0);}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u;}catch(n){r=u;}try{o="function"==typeof clearTimeout?clearTimeout:c;}catch(n){o=c;}}();var s,f=[],l=!1,d=-1;function m(){l&&s&&(l=!1,s.length?f=s.concat(f):d=-1,f.length&&g());}function g(){if(!l){var n=a(m);l=!0;for(var e=f.length;e;){for(s=f,f=[];++d<e;){s&&s[d].run();}d=-1,e=f.length;}s=null,l=!1,function(n){if(o===clearTimeout)return clearTimeout(n);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(n);try{o(n);}catch(e){try{return o.call(null,n);}catch(e){return o.call(this,n);}}}(n);}}function p(n,e){this.fun=n,this.array=e;}function v(){}i.nextTick=function(n){var e=new Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++){e[t-1]=arguments[t];}f.push(new p(n,e)),1!==f.length||l||a(g);},p.prototype.run=function(){this.fun.apply(null,this.array);},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(n){return[];},i.binding=function(n){throw new Error("process.binding is not supported");},i.cwd=function(){return"/";},i.chdir=function(n){throw new Error("process.chdir is not supported");},i.umask=function(){return 0;};},{}],2:[function(n,l,e){(function(t){!function(n){var e=setTimeout;function r(){}function u(n){if("object"!=_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(n,this);}function o(r,o){for(;3===r._state;){r=r._value;}0!==r._state?(r._handled=!0,u._immediateFn(function(){var n=1===r._state?o.onFulfilled:o.onRejected;if(null!==n){var e;try{e=n(r._value);}catch(t){return void c(o.promise,t);}i(o.promise,e);}else(1===r._state?i:c)(o.promise,r._value);})):r._deferreds.push(o);}function i(n,e){try{if(e===n)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==_typeof(e)||"function"==typeof e)){var t=e.then;if(e instanceof u)return n._state=3,n._value=e,void a(n);if("function"==typeof t)return void f((r=t,o=e,function(){r.apply(o,arguments);}),n);}n._state=1,n._value=e,a(n);}catch(i){c(n,i);}var r,o;}function c(n,e){n._state=2,n._value=e,a(n);}function a(n){2===n._state&&0===n._deferreds.length&&u._immediateFn(function(){n._handled||u._unhandledRejectionFn(n._value);});for(var e=0,t=n._deferreds.length;e<t;e++){o(n,n._deferreds[e]);}n._deferreds=null;}function s(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t;}function f(n,e){var t=!1;try{n(function(n){t||(t=!0,i(e,n));},function(n){t||(t=!0,c(e,n));});}catch(r){if(t)return;t=!0,c(e,r);}}u.prototype["catch"]=function(n){return this.then(null,n);},u.prototype.then=function(n,e){var t=new this.constructor(r);return o(this,new s(n,e,t)),t;},u.all=function(n){var a=Array.prototype.slice.call(n);return new u(function(o,i){if(0===a.length)return o([]);var u=a.length;function c(e,n){try{if(n&&("object"==_typeof(n)||"function"==typeof n)){var t=n.then;if("function"==typeof t)return void t.call(n,function(n){c(e,n);},i);}a[e]=n,0==--u&&o(a);}catch(r){i(r);}}for(var n=0;n<a.length;n++){c(n,a[n]);}});},u.resolve=function(e){return e&&"object"==_typeof(e)&&e.constructor===u?e:new u(function(n){n(e);});},u.reject=function(t){return new u(function(n,e){e(t);});},u.race=function(o){return new u(function(n,e){for(var t=0,r=o.length;t<r;t++){o[t].then(n,e);}});},u._immediateFn="function"==typeof t?function(n){t(n);}:function(n){e(n,0);},u._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n);},u._setImmediateFn=function(n){u._immediateFn=n;},u._setUnhandledRejectionFn=function(n){u._unhandledRejectionFn=n;},void 0!==l&&l.exports?l.exports=u:n.Promise||(n.Promise=u);}(this);}).call(this,n("timers").setImmediate);},{timers:3}],3:[function(a,n,s){(function(n,e){var r=a("process/browser.js").nextTick,t=Function.prototype.apply,o=Array.prototype.slice,i={},u=0;function c(n,e){this._id=n,this._clearFn=e;}s.setTimeout=function(){return new c(t.call(setTimeout,window,arguments),clearTimeout);},s.setInterval=function(){return new c(t.call(setInterval,window,arguments),clearInterval);},s.clearTimeout=s.clearInterval=function(n){n.close();},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id);},s.enroll=function(n,e){clearTimeout(n._idleTimeoutId),n._idleTimeout=e;},s.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1;},s._unrefActive=s.active=function(n){clearTimeout(n._idleTimeoutId);var e=n._idleTimeout;0<=e&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout();},e));},s.setImmediate="function"==typeof n?n:function(n){var e=u++,t=!(arguments.length<2)&&o.call(arguments,1);return i[e]=!0,r(function(){i[e]&&(t?n.apply(null,t):n.call(null),s.clearImmediate(e));}),e;},s.clearImmediate="function"==typeof e?e:function(n){delete i[n];};}).call(this,a("timers").setImmediate,a("timers").clearImmediate);},{"process/browser.js":1,timers:3}],4:[function(n,e,t){var r=n("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r};},{"promise-polyfill":2}]},{},[4])(4);});var Rg=Fg.exports.boltExport,Bg=function Bg(n){var t=F.none(),e=[],r=function r(n){o()?u(n):e.push(n);},o=function o(){return t.isSome();},i=function i(n){bn(n,u);},u=function u(e){t.each(function(n){p.setTimeout(function(){e(n);},0);});};return n(function(n){t=F.some(n),i(e),e=[];}),{get:r,map:function map(t){return Bg(function(e){r(function(n){e(t(n));});});},isReady:o};},Vg={nu:Bg,pure:function pure(e){return Bg(function(n){n(e);});}},Ng=function Ng(n){p.setTimeout(function(){throw n;},0);},_g=function _g(t){var n=function n(_n13){t().then(_n13,Ng);};return{map:function map(n){return _g(function(){return t().then(n);});},bind:function bind(e){return _g(function(){return t().then(function(n){return e(n).toPromise();});});},anonBind:function anonBind(n){return _g(function(){return t().then(function(){return n.toPromise();});});},toLazy:function toLazy(){return Vg.nu(n);},toCached:function toCached(){var n=null;return _g(function(){return null===n&&(n=t()),n;});},toPromise:t,get:n};},jg=function jg(n){return _g(function(){return new Rg(n);});},Hg=function Hg(n){return _g(function(){return Rg.resolve(n);});},zg=function zg(n,e,t){return Math.abs(n-e)<=t?F.none():n<e?F.some(n+t):F.some(n-t);},Lg=function Lg(){var s=null;return{animate:function animate(r,o,n,i,e,t){var u=!1,c=function c(n){u=!0,e(n);};clearInterval(s);var a=function a(n){clearInterval(s),c(n);};s=setInterval(function(){var t=r();zg(t,o,n).fold(function(){clearInterval(s),c(o);},function(n){if(i(n,a),!u){var e=r();(e!==n||Math.abs(e-o)>Math.abs(t-o))&&(clearInterval(s),c(o));}});},t);}};},Pg=function Pg(r,o){return function(n,e){for(var t=0;t<n.length;t++){var r=e(n[t],t);if(r.isSome())return r;}return F.none();}([{width:320,height:480,keyboard:{portrait:300,landscape:240}},{width:320,height:568,keyboard:{portrait:300,landscape:240}},{width:375,height:667,keyboard:{portrait:305,landscape:240}},{width:414,height:736,keyboard:{portrait:320,landscape:240}},{width:768,height:1024,keyboard:{portrait:320,landscape:400}},{width:1024,height:1366,keyboard:{portrait:380,landscape:460}}],function(n){return e=r<=n.width&&o<=n.height,t=n.keyboard,e?F.some(t):F.none();var e,t;}).getOr({portrait:o/5,landscape:r/4});},$g=function $g(n){var e,t=Sd(n).isPortrait(),r=Pg((e=n).screen.width,e.screen.height),o=t?r.portrait:r.landscape;return(t?n.screen.height:n.screen.width)-n.innerHeight>o?0:o;},Wg=function Wg(n,e){var t=Be(n).dom().defaultView;return Ei(n)+Ei(e)-$g(t);},Ug=Wg,Gg=function Gg(n,e,t){var r=Wg(e,t),o=Ei(e)+Ei(t)-r;vi(n,"padding-bottom",o+"px");},qg=Ze([{fixed:["element","property","offsetY"]},{scroller:["element","offsetY"]}]),Yg="data-"+ai.resolve("position-y-fixed"),Kg="data-"+ai.resolve("y-property"),Xg="data-"+ai.resolve("scrolling"),Jg="data-"+ai.resolve("last-window-height"),Qg=function Qg(n){return Md(n,Yg);},Zg=function Zg(n,e){var t=Gr(n,Kg);return qg.fixed(n,t,e);},np=function np(n,e){return qg.scroller(n,e);},ep=function ep(n){var e=Qg(n);return("true"===Gr(n,Xg)?np:Zg)(n,e);},tp=function tp(n,e,t){var r=Be(n).dom().defaultView.innerHeight;return Wr(n,Jg,r+"px"),r-e-t;},rp=function rp(n){var e=Ai(n,"["+Yg+"]");return yn(e,ep);},op=function op(r,o,i,u){var n,e,t,c,a,s,f,l,d=Be(r).dom().defaultView,m=(l=Gr(f=i,"style"),hi(f,{position:"absolute",top:"0px"}),Wr(f,Yg,"0px"),Wr(f,Kg,"top"),{restore:function restore(){Wr(f,"style",l||""),Yr(f,Yg),Yr(f,Kg);}}),g=Ei(i),p=Ei(u),v=(c=tp(r,t=g,p),s=Gr(a=r,"style"),nd.register(a),hi(a,{position:"absolute",height:c+"px",width:"100%",top:t+"px"}),Wr(a,Yg,t+"px"),Wr(a,Xg,"true"),Wr(a,Kg,"top"),{restore:function restore(){nd.deregister(a),Wr(a,"style",s||""),Yr(a,Yg),Yr(a,Xg),Yr(a,Kg);}}),h=(e=Gr(n=u,"style"),hi(n,{position:"absolute",bottom:"0px"}),Wr(n,Yg,"0px"),Wr(n,Kg,"bottom"),{restore:function restore(){Wr(n,"style",e||""),Yr(n,Yg),Yr(n,Kg);}}),y=!0,b=function b(){var n=d.innerHeight;return Md(r,Jg)<n;},w=function w(){if(y){var n=Ei(i),e=Ei(u),t=tp(r,n,e);Wr(r,Yg,n+"px"),vi(r,"height",t+"px"),Gg(o,r,u);}};return Gg(o,r,u),{setViewportOffset:function setViewportOffset(n){Wr(r,Yg,n+"px"),w();},isExpanding:b,isShrinking:x(b),refresh:w,restore:function restore(){y=!1,m.restore(),v.restore(),h.restore();}};},ip=Qg,up=Lg(),cp="data-"+ai.resolve("last-scroll-top"),ap=function ap(n){var e=wi(n,"top").getOr("0");return parseInt(e,10);},sp=function sp(n){return parseInt(n.dom().scrollTop,10);},fp=function fp(n,e){var t=e+ip(n)+"px";vi(n,"top",t);},lp=function lp(t,r,o){return jg(function(n){var e=l(sp,t);up.animate(e,r,15,function(n){t.dom().scrollTop=n,vi(t,"top",ap(t)+15+"px");},function(){t.dom().scrollTop=r,vi(t,"top",o+"px"),n(r);},10);});},dp=function dp(o,i){return jg(function(n){var e=l(sp,o);Wr(o,cp,e());var t=Math.abs(i-e()),r=Math.ceil(t/10);up.animate(e,i,r,function(n,e){Md(o,cp)!==o.dom().scrollTop?e(o.dom().scrollTop):(o.dom().scrollTop=n,Wr(o,cp,n));},function(){o.dom().scrollTop=i,Wr(o,cp,i),n(i);},10);});},mp=function mp(i,u){return jg(function(n){var e=l(ap,i),t=function t(n){vi(i,"top",n+"px");},r=Math.abs(u-e()),o=Math.ceil(r/10);up.animate(e,u,o,t,function(){t(u),n(u);},10);});},gp=function gp(e,t,r){var o=Be(e).dom().defaultView;return jg(function(n){fp(e,r),fp(t,r),o.scrollTo(0,r),n(r);});},pp=function pp(n,e,t,r,o){var i=Ug(e,t),u=l(Eg,n);i<r||i<o?dp(e,e.dom().scrollTop-i+o).get(u):r<0&&dp(e,e.dom().scrollTop+r).get(u);},vp=function vp(u,n){return n(function(r){var o=[],i=0;0===u.length?r([]):bn(u,function(n,e){var t;n.get((t=e,function(n){o[t]=n,++i>=u.length&&r(o);}));});});},hp=function hp(n,a){return n.fold(function(n,e,t){return vi(n,e,a+(r=t)+"px"),Hg(r);var r;},function(n,e){return o=a+(r=e),i=wi(t=n,"top").getOr(r),u=o-parseInt(i,10),c=t.dom().scrollTop+u,lp(t,c,o);var t,r,o,i,u,c;});},yp=function yp(n,e){var t=rp(n),r=yn(t,function(n){return hp(n,e);});return vp(r,jg);},bp=function bp(e,t,n,r,o,i){var u,c,a=(u=function u(n){return gp(e,t,n);},c=ao(Vg.pure({})),{start:function start(e){var n=Vg.nu(function(n){return u(e).get(n);});c.set(n);},idle:function idle(n){c.get().get(function(){n();});}}),s=Om(function(){a.idle(function(){yp(n,r.pageYOffset).get(function(){var n;(n=nm(i),F.from(n[0]).bind(function(n){var e=n.top()-t.dom().scrollTop;return e>r.innerHeight+5||e<-5?F.some({top:A(e),bottom:A(e+n.height())}):F.none();})).each(function(n){t.dom().scrollTop=t.dom().scrollTop+n.top();}),a.start(0),o.refresh();});});},1e3),f=wd(ue.fromDom(r),"scroll",function(){r.pageYOffset<0||s.throttle();});return yp(n,r.pageYOffset).get(h),{unbind:f.unbind};},wp=function wp(n){var t=n.cWin(),e=n.ceBody(),r=n.socket(),o=n.toolstrip(),i=n.toolbar(),u=n.contentElement(),c=n.keyboardType(),a=n.outerWindow(),s=n.dropup(),f=op(r,e,o,s),l=c(n.outerBody(),t,ye(),u,o,i),d=Od(a,{onChange:I,onReady:f.refresh});d.onAdjustment(function(){f.refresh();});var m=wd(ue.fromDom(a),"resize",function(){f.isExpanding()&&f.refresh();}),g=bp(o,r,n.outerBody(),a,f,t),p=function(t,e){var n=t.document,r=ue.fromTag("div");no(r,ai.resolve("unfocused-selections")),ze(ue.fromDom(n.documentElement),r);var o=wd(r,"touchstart",function(n){n.prevent(),Dg(t,e),u();}),i=function i(n){var e=ue.fromTag("span");return il(e,[ai.resolve("layer-editor"),ai.resolve("unfocused-selection")]),hi(e,{left:n.left()+"px",top:n.top()+"px",width:n.width()+"px",height:n.height()+"px"}),e;},u=function u(){Pe(r);};return{update:function update(){u();var n=nm(t),e=yn(n,i);Le(r,e);},isActive:function isActive(){return 0<_e(r).length;},destroy:function destroy(){o.unbind(),$e(r);},clear:u};}(t,u),v=function v(){p.clear();};return{toEditing:function toEditing(){l.toEditing(),v();},toReading:function toReading(){l.toReading();},onToolbarTouch:function onToolbarTouch(n){l.onToolbarTouch(n);},refreshSelection:function refreshSelection(){p.isActive()&&p.update();},clearSelection:v,highlightSelection:function highlightSelection(){p.update();},scrollIntoView:function scrollIntoView(n,e){pp(t,r,s,n,e);},updateToolbarPadding:I,setViewportOffset:function setViewportOffset(n){f.setViewportOffset(n),mp(r,n).get(h);},syncHeight:function syncHeight(){vi(u,"height",u.dom().contentWindow.document.body.scrollHeight+"px");},refreshStructure:f.refresh,destroy:function destroy(){f.restore(),d.destroy(),g.unbind(),m.unbind(),l.destroy(),p.destroy(),Cg(ye(),go);}};},xp=function xp(r,n){var o=Tm(),i=Bf(),u=Bf(),c=Rf(),a=Rf();return{enter:function enter(){n.hide();var t=ue.fromDom(p.document);pm.getActiveApi(r.editor).each(function(n){i.set({socketHeight:wi(r.socket,"height"),iframeHeight:wi(n.frame(),"height"),outerScroll:p.document.body.scrollTop}),u.set({exclusives:Nm.exclusive(t,"."+nd.scrollable())}),no(r.container,ai.resolve("fullscreen-maximized")),wm(r.container,n.body()),o.maximize(),vi(r.socket,"overflow","scroll"),vi(r.socket,"-webkit-overflow-scrolling","touch"),mo(n.body());var e=Ce(["cWin","ceBody","socket","toolstrip","toolbar","dropup","contentElement","cursor","keyboardType","isScrolling","outerWindow","outerBody"],[]);c.set(wp(e({cWin:n.win(),ceBody:n.body(),socket:r.socket,toolstrip:r.toolstrip,toolbar:r.toolbar,dropup:r.dropup.element(),contentElement:n.frame(),cursor:I,outerBody:r.body,outerWindow:r.win,keyboardType:Ig.stubborn,isScrolling:function isScrolling(){return u.get().exists(function(n){return n.socket.isScrolling();});}}))),c.run(function(n){n.syncHeight();}),a.set(Ag(n,c,r.toolstrip,r.socket,r.dropup));});},refreshStructure:function refreshStructure(){c.run(function(n){n.refreshStructure();});},exit:function exit(){o.restore(),a.clear(),c.clear(),n.show(),i.on(function(n){n.socketHeight.each(function(n){vi(r.socket,"height",n);}),n.iframeHeight.each(function(n){vi(r.editor.getFrame(),"height",n);}),p.document.body.scrollTop=n.scrollTop;}),i.clear(),u.on(function(n){n.exclusives.unbind();}),u.clear(),eo(r.container,ai.resolve("fullscreen-maximized")),xm(),nd.deregister(r.toolbar),xi(r.socket,"overflow"),xi(r.socket,"-webkit-overflow-scrolling"),go(r.editor.getFrame()),pm.getActiveApi(r.editor).each(function(n){n.clearSelection();});}};},Tp=function Tp(n){var e=Ut("Getting IosWebapp schema",Cm,n);vi(e.toolstrip,"width","100%"),vi(e.container,"position","relative");var t=yl(km(function(){e.setReadOnly(e.readOnlyOnInit()),r.enter();},e.translate));e.alloy.add(t);var r=xp(e,{show:function show(){e.alloy.add(t);},hide:function hide(){e.alloy.remove(t);}});return{setReadOnly:e.setReadOnly,refreshStructure:r.refreshStructure,enter:r.enter,exit:r.exit,destroy:I};},Sp=tinymce.util.Tools.resolve("tinymce.EditorManager"),Op=function Op(n){var e=ht(n.settings,"skin_url").fold(function(){return Sp.baseURL+"/skins/lightgray";},function(n){return n;});return{content:e+"/content.mobile.min.css",ui:e+"/skin.mobile.min.css"};},kp=function kp(n,e,t){n.system().broadcastOn([wo.formatChanged()],{command:e,state:t});},Cp=function Cp(r,n){var e=R(n.formatter.get());bn(e,function(e){n.formatter.formatChanged(e,function(n){kp(r,e,n);});}),bn(["ul","ol"],function(t){n.selection.selectorChanged(t,function(n,e){kp(r,t,n);});});},Ep=(A(["x-small","small","medium","large","x-large"]),function(n){var e=function e(){n._skinLoaded=!0,n.fire("SkinLoaded");};return function(){n.initialized?e():n.on("init",e);};}),Dp=A("toReading"),Ip=A("toEditing");yo.add("mobile",function(D){return{getNotificationManagerImpl:function getNotificationManagerImpl(){return{open:A({progressBar:{value:I},close:I}),close:I,reposition:I,getArgs:h};},renderUI:function renderUI(n){var e=Op(D);0==(!1===D.settings.skin)?(D.contentCSS.push(e.content),ho.DOM.styleSheetLoader.load(e.ui,Ep(D))):Ep(D)();var t,r,o,i,u,c,a,s,f,l,d,m,g,p,v,h,y,b=function b(){D.fire("scrollIntoView");},w=ue.fromTag("div"),x=zn.detect().os.isAndroid()?(s=b,f=xg({classes:[ai.resolve("android-container")]}),l=_m(),d=Rf(),m=zm(d),g=Lm(),p=rg(I,s),f.add(l.wrapper()),f.add(g),f.add(p.component()),{system:A(f),element:f.element,init:function init(n){d.set(Em(n));},exit:function exit(){d.run(function(n){n.exit(),jl.remove(g,m);});},setToolbarGroups:function setToolbarGroups(n){var e=l.createGroups(n);l.setGroups(e);},setContextToolbar:function setContextToolbar(n){var e=l.createGroups(n);l.setContextToolbar(e);},focusToolbar:function focusToolbar(){l.focus();},restoreToolbar:function restoreToolbar(){l.restoreToolbar();},updateMode:function updateMode(n){Pm(g,m,n,f.root());},socket:A(g),dropup:A(p)}):(t=b,r=xg({classes:[ai.resolve("ios-container")]}),o=_m(),i=Rf(),u=zm(i),c=Lm(),a=rg(function(){i.run(function(n){n.refreshStructure();});},t),r.add(o.wrapper()),r.add(c),r.add(a.component()),{system:A(r),element:r.element,init:function init(n){i.set(Tp(n));},exit:function exit(){i.run(function(n){jl.remove(c,u),n.exit();});},setToolbarGroups:function setToolbarGroups(n){var e=o.createGroups(n);o.setGroups(e);},setContextToolbar:function setContextToolbar(n){var e=o.createGroups(n);o.setContextToolbar(e);},focusToolbar:function focusToolbar(){o.focus();},restoreToolbar:function restoreToolbar(){o.restoreToolbar();},updateMode:function updateMode(n){Pm(c,u,n,r.root());},socket:A(c),dropup:A(a)}),T=ue.fromDom(n.targetNode);we("element","offset"),h=w,(y=v=T,F.from(y.dom().nextSibling).map(ue.fromDom)).fold(function(){Ne(v).each(function(n){ze(n,h);});},function(n){var e,t;t=h,Ne(e=n).each(function(n){n.dom().insertBefore(t.dom(),e.dom());});}),function(n,e){ze(n,e.element());var t=_e(e.element());bn(t,function(n){e.getByDom(n).each(Ue);});}(w,x.system());var S=n.targetNode.ownerDocument.defaultView,O=Od(S,{onChange:function onChange(){x.system().broadcastOn([wo.orientationChanged()],{width:kd(S)});},onReady:I}),k=function k(n,e,t,r){!1===r&&D.selection.collapse();var o=C(n,e,t);x.setToolbarGroups(!0===r?o.readOnly:o.main),D.setMode(!0===r?"readonly":"design"),D.fire(!0===r?Dp():Ip()),x.updateMode(r);},C=function C(n,e,t){var r=n.get();return{readOnly:r.backToMask.concat(e.get()),main:r.backToMask.concat(t.get())};},E=function E(n,e){return D.on(n,e),{unbind:function unbind(){D.off(n);}};};return D.on("init",function(){x.init({editor:{getFrame:function getFrame(){return ue.fromDom(D.contentAreaContainer.querySelector("iframe"));},onDomChanged:function onDomChanged(){return{unbind:I};},onToReading:function onToReading(n){return E(Dp(),n);},onToEditing:function onToEditing(n){return E(Ip(),n);},onScrollToCursor:function onScrollToCursor(e){return D.on("scrollIntoView",function(n){e(n);}),{unbind:function unbind(){D.off("scrollIntoView"),O.destroy();}};},onTouchToolstrip:function onTouchToolstrip(){t();},onTouchContent:function onTouchContent(){var n,e=ue.fromDom(D.editorContainer.querySelector("."+ai.resolve("toolbar")));(n=e,vo(n).bind(function(n){return x.system().getByDom(n).toOption();})).each(te),x.restoreToolbar(),t();},onTapContent:function onTapContent(n){var e=n.target();"img"===me(e)?(D.selection.select(e.dom()),n.kill()):"a"===me(e)&&x.system().getByDom(ue.fromDom(D.editorContainer)).each(function(n){co.isAlpha(n)&&bo(e.dom());});}},container:ue.fromDom(D.editorContainer),socket:ue.fromDom(D.contentAreaContainer),toolstrip:ue.fromDom(D.editorContainer.querySelector("."+ai.resolve("toolstrip"))),toolbar:ue.fromDom(D.editorContainer.querySelector("."+ai.resolve("toolbar"))),dropup:x.dropup(),alloy:x.system(),translate:I,setReadOnly:function setReadOnly(n){k(a,c,u,n);},readOnlyOnInit:function readOnlyOnInit(){return!1;}});var t=function t(){x.dropup().disappear(function(){x.system().broadcastOn([wo.dropupDismissed()],{});});},n={label:"The first group",scrollable:!1,items:[$a.forToolbar("back",function(){D.selection.collapse(),x.exit();},{})]},e={label:"Back to read only",scrollable:!1,items:[$a.forToolbar("readonly-back",function(){k(a,c,u,!0);},{})]},r=gd(x,D),o=pd(D.settings,r),i={label:"The extra group",scrollable:!1,items:[]},u=ao([{label:"the action group",scrollable:!0,items:o},i]),c=ao([{label:"The read only mode group",scrollable:!0,items:[]},i]),a=ao({backToMask:[n],backToReadOnly:[e]});Cp(x,D);}),D.on("remove",function(){x.exit();}),D.on("detach",function(){var e,n;e=x.system(),n=_e(e.element()),bn(n,function(n){e.getByDom(n).each(We);}),$e(e.element()),x.system().destroy(),$e(w);}),{iframeContainer:x.socket().element().dom(),editorContainer:x.element().dom()};}};});}(window);!function(_){"use strict";var e,t,n,i,r=tinymce.util.Tools.resolve("tinymce.ThemeManager"),l=tinymce.util.Tools.resolve("tinymce.EditorManager"),w=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=function d(e){return!1!==c(e);},c=function c(e){return e.getParam("menubar");},f=function f(e){return e.getParam("toolbar_items_size");},h=function h(e){return e.getParam("menu");},m=function m(e){return!1===e.settings.skin;},g=function g(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical";},p=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),v=tinymce.util.Tools.resolve("tinymce.ui.Factory"),b=tinymce.util.Tools.resolve("tinymce.util.I18n"),o=function o(e){return e.fire("SkinLoaded");},y=function y(e){return e.fire("ResizeEditor");},x=function x(e){return e.fire("BeforeRenderUI");},s=function s(t,n){return function(){var e=t.find(n)[0];e&&e.focus(!0);};},R=function R(e,t){e.shortcuts.add("Alt+F9","",s(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",s(t,"toolbar")),e.shortcuts.add("Alt+F11","",s(t,"elementpath")),t.on("cancel",function(){e.focus();});},C=tinymce.util.Tools.resolve("tinymce.geom.Rect"),u=tinymce.util.Tools.resolve("tinymce.util.Delay"),E=function E(){},k=function k(e){return function(){return e;};},a=k(!1),H=k(!0),S=function S(){return T;},T=(e=function e(_e14){return _e14.isNone();},i={fold:function fold(e,t){return e();},is:a,isSome:a,isNone:H,getOr:n=function n(e){return e;},getOrThunk:t=function t(e){return e();},getOrDie:function getOrDie(e){throw new Error(e||"error: getOrDie called on none.");},getOrNull:k(null),getOrUndefined:k(undefined),or:n,orThunk:t,map:S,each:E,bind:S,exists:a,forall:H,filter:S,equals:e,equals_:e,toArray:function toArray(){return[];},toString:k("none()")},Object.freeze&&Object.freeze(i),i),M=function M(n){var e=k(n),t=function t(){return r;},i=function i(e){return e(n);},r={fold:function fold(e,t){return t(n);},is:function is(e){return n===e;},isSome:H,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function map(e){return M(e(n));},each:function each(e){e(n);},bind:i,exists:i,forall:i,filter:function filter(e){return e(n)?r:T;},toArray:function toArray(){return[n];},toString:function toString(){return"some("+n+")";},equals:function equals(e){return e.is(n);},equals_:function equals_(e,t){return e.fold(a,function(e){return t(n,e);});}};return r;},N={some:M,none:S,from:function from(e){return null===e||e===undefined?T:M(e);}},P=function P(e){return e?e.getRoot().uiContainer:null;},W={getUiContainerDelta:function getUiContainerDelta(e){var t=P(e);if(t&&"static"!==p.DOM.getStyle(t,"position",!0)){var n=p.DOM.getPos(t),i=t.scrollLeft-n.x,r=t.scrollTop-n.y;return N.some({x:i,y:r});}return N.none();},setUiContainer:function setUiContainer(e,t){var n=p.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=n;},getUiContainer:P,inheritUiContainer:function inheritUiContainer(e,t){return t.uiContainer=P(e);}},D=function D(i,e,r){var o,s=[];if(e)return w.each(e.split(/[ ,]/),function(t){var e,n=function n(){var e=i.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e);},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e);});};"|"===t?o=null:(o||(o={type:"buttongroup",items:[]},s.push(o)),i.buttons[t]&&(e=t,"function"==typeof(t=i.buttons[e])&&(t=t()),t.type=t.type||"button",t.size=r,t=v.create(t),o.items.push(t),i.initialized?n():i.on("init",n)));}),{type:"toolbar",layout:"flow",items:s};},O=D,A=function A(n,i){var e,t,r=[];if(w.each(!1===(t=(e=n).getParam("toolbar"))?[]:w.isArray(t)?w.grep(t,function(e){return 0<e.length;}):function(e,t){for(var n=[],i=1;i<10;i++){var r=e["toolbar"+i];if(!r)break;n.push(r);}var o=e.toolbar?[e.toolbar]:[t];return 0<n.length?n:o;}(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),function(e){var t;(t=e)&&r.push(D(n,t,i));}),r.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:r};},B=p.DOM,L=function L(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h};},z=function z(e,t){e.moveTo(t.left,t.top);},I=function I(e,t,n,i,r,o){return o=L({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:L(i),contentAreaRect:L(r),panelRect:o})),o;},F=function F(x){var i,o=function o(){return x.contextToolbars||[];},n=function n(e,t){var n,i,r,o,s,a,l,u=x.getParam("inline_toolbar_position_handler");if(!x.removed){if(!e||!e.toolbar.panel)return c=x,void w.each(c.contextToolbars,function(e){e.panel&&e.panel.hide();});var c,d,f,h,m;l=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],s=e.toolbar.panel,t&&s.show(),d=e.element,f=B.getPos(x.getContentAreaContainer()),h=x.dom.getRect(d),"BODY"===(m=x.dom.getRoot()).nodeName&&(h.x-=m.ownerDocument.documentElement.scrollLeft||m.scrollLeft,h.y-=m.ownerDocument.documentElement.scrollTop||m.scrollTop),h.x+=f.x,h.y+=f.y,r=h,i=B.getRect(s.getEl()),o=B.getRect(x.getContentAreaContainer()||x.getBody());var g,p,v,b=W.getUiContainerDelta(s).getOr({x:0,y:0});if(r.x+=b.x,r.y+=b.y,i.x+=b.x,i.y+=b.y,o.x+=b.x,o.y+=b.y,"inline"!==B.getStyle(e.element,"display",!0)){var y=e.element.getBoundingClientRect();r.w=y.width,r.h=y.height;}x.inline||(o.w=x.getDoc().documentElement.offsetWidth),x.selection.controlSelection.isResizable(e.element)&&r.w<25&&(r=C.inflate(r,0,8)),n=C.findBestRelativePosition(i,r,o,l),r=C.clamp(r,o),n?(a=C.relativePosition(i,r,n),z(s,I(u,a.x,a.y,r,o,i))):(o.h+=i.h,(r=C.intersect(o,r))?(n=C.findBestRelativePosition(i,r,o,["bc-tc","bl-tl","br-tr"]))?(a=C.relativePosition(i,r,n),z(s,I(u,a.x,a.y,r,o,i))):z(s,I(u,r.x,r.y,r,o,i)):s.hide()),g=s,v=function v(e,t){return e===t;},p=(p=n)?p.substr(0,2):"",w.each({t:"down",b:"up"},function(e,t){g.classes.toggle("arrow-"+e,v(t,p.substr(0,1)));}),w.each({l:"left",r:"right"},function(e,t){g.classes.toggle("arrow-"+e,v(t,p.substr(1,1)));});}},r=function r(e){return function(){u.requestAnimationFrame(function(){x.selection&&n(a(x.selection.getNode()),e);});};},t=function t(e){var t;if(e.toolbar.panel)return e.toolbar.panel.show(),void n(e);t=v.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:O(x,e.toolbar.items),oncancel:function oncancel(){x.focus();}}),W.setUiContainer(x,t),function(e){if(!i){var t=r(!0),n=W.getUiContainer(e);i=x.selection.getScrollContainer()||x.getWin(),B.bind(i,"scroll",t),B.bind(n,"scroll",t),x.on("remove",function(){B.unbind(i,"scroll",t),B.unbind(n,"scroll",t);});}}(t),(e.toolbar.panel=t).renderTo().reflow(),n(e);},s=function s(){w.each(o(),function(e){e.panel&&e.panel.hide();});},a=function a(e){var t,n,i,r=o();for(t=(i=x.$(e).parents().add(e)).length-1;0<=t;t--){for(n=r.length-1;0<=n;n--){if(r[n].predicate(i[t]))return{toolbar:r[n],element:i[t]};}}return null;};x.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&u.setEditorTimeout(x,function(){var e;(e=a(x.selection.getNode()))?(s(),t(e)):s();});}),x.on("blur hide contextmenu",s),x.on("ObjectResizeStart",function(){var e=a(x.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide();}),x.on("ResizeEditor ResizeWindow",r(!0)),x.on("nodeChange",r(!1)),x.on("remove",function(){w.each(o(),function(e){e.panel&&e.panel.remove();}),x.contextToolbars={};}),x.shortcuts.add("ctrl+F9","",function(){var e=a(x.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus();});},U=function U(t){return function(e){return function(e){if(null===e)return"null";var t=_typeof(e);return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t;}(e)===t;};},V=U("array"),Y=U("function"),$=U("number"),q=(Array.prototype.slice,Array.prototype.indexOf),X=Array.prototype.push,j=function j(e,t){var n,i,r=(n=e,i=t,q.call(n,i));return-1===r?N.none():N.some(r);},J=function J(e,t){for(var n=0,i=e.length;n<i;n++){if(t(e[n],n))return!0;}return!1;},G=function G(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r);}return i;},K=function K(e,t){for(var n=0,i=e.length;n<i;n++){t(e[n],n);}},Z=function Z(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o);}return n;},Q=(Y(Array.from)&&Array.from,{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),ee=function ee(e,t){return"|"===e?{name:"|",item:{text:"|"}}:t?{name:e,item:t}:null;},te=function te(e,t){return function(e,t){for(var n=0,i=e.length;n<i;n++){if(t(e[n],n))return N.some(n);}return N.none();}(e,function(e){return e.name===t;}).isSome();},ne=function ne(e){return e&&"|"===e.item.text;},ie=function ie(n,e,t,i){var r,o,s,a,l,u,c;return e?(o=e[i],a=!0):o=Q[i],o&&(r={text:o.title},s=[],w.each((o.items||"").split(/[ ,]/),function(e){var t=ee(e,n[e]);t&&s.push(t);}),a||w.each(n,function(e,t){e.context!==i||te(s,t)||("before"===e.separator&&s.push({name:"|",item:{text:"|"}}),e.prependToContext?s.unshift(ee(t,e)):s.push(ee(t,e)),"after"===e.separator&&s.push({name:"|",item:{text:"|"}}));}),r.menu=G((l=t,u=Z(s,function(e){return!1===l.hasOwnProperty(e.name);}),c=Z(u,function(e,t){return!ne(e)||!ne(u[t-1]);}),Z(c,function(e,t){return!ne(e)||0<t&&t<c.length-1;})),function(e){return e.item;}),!r.menu.length)?null:r;},re=function re(e){for(var t,n=[],i=function(e){var t,n=[],i=h(e);if(i)for(t in i){n.push(t);}else for(t in Q){n.push(t);}return n;}(e),r=w.makeMap((t=e,t.getParam("removed_menuitems","")).split(/[ ,]/)),o=c(e),s="string"==typeof o?o.split(/[ ,]/):i,a=0;a<s.length;a++){var l=s[a],u=ie(e.menuItems,h(e),r,l);u&&n.push(u);}return n;},oe=p.DOM,se=function se(e){return{width:e.clientWidth,height:e.clientHeight};},ae=function ae(e,t,n){var i,r,o,s;i=e.getContainer(),r=e.getContentAreaContainer().firstChild,o=se(i),s=se(r),null!==t&&(t=Math.max(e.getParam("min_width",100,"number"),t),t=Math.min(e.getParam("max_width",65535,"number"),t),oe.setStyle(i,"width",t+(o.width-s.width)),oe.setStyle(r,"width",t)),n=Math.max(e.getParam("min_height",100,"number"),n),n=Math.min(e.getParam("max_height",65535,"number"),n),oe.setStyle(r,"height",n),y(e);},le=ae,ue=function ue(e,t,n){var i=e.getContentAreaContainer();ae(e,i.clientWidth+t,i.clientHeight+n);},ce=tinymce.util.Tools.resolve("tinymce.Env"),de=function de(e,t,n){var i,r=e.settings[n];r&&r((i=t.getEl("body"),{element:function element(){return i;}}));},fe=function fe(c,d,f){return function(e){var t,n,i,r,o,s=e.control,a=s.parents().filter("panel")[0],l=a.find("#"+d)[0],u=(t=f,n=d,w.grep(t,function(e){return e.name===n;})[0]);i=d,r=a,o=f,w.each(o,function(e){var t=r.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==i&&(de(e,t,"onhide"),t.visible(!1));}),s.parent().items().each(function(e){e.active(!1);}),l&&l.visible()?(de(u,l,"onhide"),l.hide(),s.active(!1)):(l?l.show():(l=v.create({type:"container",name:d,layout:"stack",classes:"sidebar-panel",html:""}),a.prepend(l),de(u,l,"onrender")),de(u,l,"onshow"),s.active(!0)),y(c);};},he=function he(e){return!(ce.ie&&!(11<=ce.ie)||!e.sidebars)&&0<e.sidebars.length;},me=function me(n){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:w.map(n.sidebars,function(e){var t=e.settings;return{type:"button",icon:t.icon,image:t.image,tooltip:t.tooltip,onclick:fe(n,e.name,n.sidebars)};})}]};},ge=function ge(e){var t=function t(){e._skinLoaded=!0,o(e);};return function(){e.initialized?t():e.on("init",t);};},pe=p.DOM,ve=function ve(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""};},be=function be(t,e,n){var i,r,o,s,a;if(!1===m(t)&&n.skinUiCss?pe.styleSheetLoader.load(n.skinUiCss,ge(t)):ge(t)(),i=e.panel=v.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===d(t)?null:{type:"menubar",border:"0 0 1 0",items:re(t)},A(t,f(t))]},he(t)?(s=t,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[ve("0"),me(s)]}):ve("1 0 0 0")]}),W.setUiContainer(t,i),"none"!==g(t)&&(r={type:"resizehandle",direction:g(t),onResizeStart:function onResizeStart(){var e=t.getContentAreaContainer().firstChild;o={width:e.clientWidth,height:e.clientHeight};},onResize:function onResize(e){"both"===g(t)?le(t,o.width+e.deltaX,o.height+e.deltaY):le(t,null,o.height+e.deltaY);}}),t.getParam("statusbar",!0,"boolean")){var l=b.translate(["Powered by hieworks",'<a href="https://www.hieworks.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=hieworks" rel="noopener" target="_blank" role="presentation" tabindex="-1">Tiny</a>']),u=t.getParam("branding",!0,"boolean")?{type:"label",classes:"branding",html:" "+l}:null;i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:t},r,u]});}return x(t),t.on("SwitchMode",(a=i,function(e){a.find("*").disabled("readonly"===e.mode);})),i.renderBefore(n.targetNode).reflow(),t.getParam("readonly",!1,"boolean")&&t.setMode("readonly"),n.width&&pe.setStyle(i.getEl(),"width",n.width),t.on("remove",function(){i.remove(),i=null;}),R(t,i),F(t),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()};},ye=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),xe=0,we={id:function id(){return"mceu_"+xe++;},create:function create(e,t,n){var i=_.document.createElement(e);return p.DOM.setAttribs(i,t),"string"==typeof n?i.innerHTML=n:w.each(n,function(e){e.nodeType&&i.appendChild(e);}),i;},createFragment:function createFragment(e){return p.DOM.createFragment(e);},getWindowSize:function getWindowSize(){return p.DOM.getViewPort();},getSize:function getSize(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight);}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n};},getPos:function getPos(e,t){return p.DOM.getPos(e,t||we.getContainer());},getContainer:function getContainer(){return ce.container?ce.container:_.document.body;},getViewPort:function getViewPort(e){return p.DOM.getViewPort(e);},get:function get(e){return _.document.getElementById(e);},addClass:function addClass(e,t){return p.DOM.addClass(e,t);},removeClass:function removeClass(e,t){return p.DOM.removeClass(e,t);},hasClass:function hasClass(e,t){return p.DOM.hasClass(e,t);},toggleClass:function toggleClass(e,t,n){return p.DOM.toggleClass(e,t,n);},css:function css(e,t,n){return p.DOM.setStyle(e,t,n);},getRuntimeStyle:function getRuntimeStyle(e,t){return p.DOM.getStyle(e,t,!0);},on:function on(e,t,n,i){return p.DOM.bind(e,t,n,i);},off:function off(e,t,n){return p.DOM.unbind(e,t,n);},fire:function fire(e,t,n){return p.DOM.fire(e,t,n);},innerHtml:function innerHtml(e,t){p.DOM.setHTML(e,t);}},_e=function _e(e){return"static"===we.getRuntimeStyle(e,"position");},Re=function Re(e){return e.state.get("fixed");};function Ce(e,t,n){var i,r,o,s,a,l,u,c,d,f;return d=Ee(),o=(r=we.getPos(t,W.getUiContainer(e))).x,s=r.y,Re(e)&&_e(_.document.body)&&(o-=d.x,s-=d.y),i=e.getEl(),a=(f=we.getSize(i)).width,l=f.height,u=(f=we.getSize(t)).width,c=f.height,"b"===(n=(n||"").split(""))[0]&&(s+=c),"r"===n[1]&&(o+=u),"c"===n[0]&&(s+=Math.round(c/2)),"c"===n[1]&&(o+=Math.round(u/2)),"b"===n[3]&&(s-=l),"r"===n[4]&&(o-=a),"c"===n[3]&&(s-=Math.round(l/2)),"c"===n[4]&&(o-=Math.round(a/2)),{x:o,y:s,w:a,h:l};}var Ee=function Ee(){var e=_.window;return{x:Math.max(e.pageXOffset,_.document.body.scrollLeft,_.document.documentElement.scrollLeft),y:Math.max(e.pageYOffset,_.document.body.scrollTop,_.document.documentElement.scrollTop),w:e.innerWidth||_.document.documentElement.clientWidth,h:e.innerHeight||_.document.documentElement.clientHeight};},ke=function ke(e){var t,n=W.getUiContainer(e);return n&&!Re(e)?{x:0,y:0,w:(t=n).scrollWidth-1,h:t.scrollHeight-1}:Ee();},He={testMoveRel:function testMoveRel(e,t){for(var n=ke(this),i=0;i<t.length;i++){var r=Ce(this,e,t[i]);if(Re(this)){if(0<r.x&&r.x+r.w<n.w&&0<r.y&&r.y+r.h<n.h)return t[i];}else if(r.x>n.x&&r.x+r.w<n.w+n.x&&r.y>n.y&&r.y+r.h<n.h+n.y)return t[i];}return t[0];},moveRel:function moveRel(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=Ce(this,e,t);return this.moveTo(n.x,n.y);},moveBy:function moveBy(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this;},moveTo:function moveTo(e,t){var n=this;function i(e,t,n){return e<0?0:t<e+n&&(e=t-n)<0?0:e;}if(n.settings.constrainToViewport){var r=ke(this),o=n.layoutRect();e=i(e,r.w+r.x,o.w),t=i(t,r.h+r.y,o.h);}var s=W.getUiContainer(n);return s&&_e(s)&&!Re(n)&&(e-=s.scrollLeft,t-=s.scrollTop),s&&(e+=1,t+=1),n.state.get("rendered")?n.layoutRect({x:e,y:t}).repaint():(n.settings.x=e,n.settings.y=t),n.fire("move",{x:e,y:t}),n;}},Se=tinymce.util.Tools.resolve("tinymce.util.Class"),Te=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Me=function Me(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0});},Ne=function Ne(i,e){function t(e){var t=parseFloat(function(e){var t=i.ownerDocument.defaultView;if(t){var n=t.getComputedStyle(i,null);return n?(e=e.replace(/[A-Z]/g,function(e){return"-"+e;}),n.getPropertyValue(e)):null;}return i.currentStyle[e];}(e));return isNaN(t)?0:t;}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")};};function Pe(){}function We(e){this.cls=[],this.cls._map={},this.onchange=e||Pe,this.prefix="";}w.extend(We.prototype,{add:function add(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this;},remove:function remove(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++){;}this.cls.splice(t,1),delete this.cls._map[e],this._change();}return this;},toggle:function toggle(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this;},contains:function contains(e){return!!this.cls._map[e];},_change:function _change(){delete this.clsValue,this.onchange.call(this);}}),We.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++){0<t&&(e+=" "),e+=this.prefix+this.cls[t];}return e;};var De,Oe,Ae,Be=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,Le=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,ze=/^\s*|\s*$/g,Ie=Se.extend({init:function init(e){var o=this.match;function s(e,t,n){var i;function r(e){e&&t.push(e);}return r(function(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t;};}((i=Be.exec(e.replace(ze,"")))[1])),r(function(t){if(t)return function(e){return e._name===t;};}(i[2])),r(function(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;){if(!e.classes.contains(n[t]))return!1;}return!0;};}(i[3])),r(function(n,i,r){if(n)return function(e){var t=e[n]?e[n]():"";return i?"="===i?t===r:"*="===i?0<=t.indexOf(r):"~="===i?0<=(" "+t+" ").indexOf(" "+r+" "):"!="===i?t!==r:"^="===i?0===t.indexOf(r):"$="===i&&t.substr(t.length-r.length)===r:!!r;};}(i[4],i[5],i[6])),r(function(i){var t;if(i)return(i=/(?:not\((.+)\))|(.+)/i.exec(i))[1]?(t=a(i[1],[]),function(e){return!o(e,t);}):(i=i[2],function(e,t,n){return"first"===i?0===t:"last"===i?t===n-1:"even"===i?t%2==0:"odd"===i?t%2==1:!!e[i]&&e[i]();});}(i[7])),t.pseudo=!!i[7],t.direct=n,t;}function a(e,t){var n,i,r,o=[];do{if(Le.exec(""),(i=Le.exec(e))&&(e=i[3],o.push(i[1]),i[2])){n=i[3];break;}}while(i);for(n&&a(n,t),e=[],r=0;r<o.length;r++){">"!==o[r]&&e.push(s(o[r],[],">"===o[r-1]));}return t.push(e),t;}this._selectors=a(e,[]);},match:function match(e,t){var n,i,r,o,s,a,l,u,c,d,f,h,m;for(n=0,i=(t=t||this._selectors).length;n<i;n++){for(m=e,h=0,r=(o=(s=t[n]).length)-1;0<=r;r--){for(u=s[r];m;){if(u.pseudo)for(c=d=(f=m.parent().items()).length;c--&&f[c]!==m;){;}for(a=0,l=u.length;a<l;a++){if(!u[a](m,c,d)){a=l+1;break;}}if(a===l){h++;break;}if(r===o-1)break;m=m.parent();}}if(h===o)return!0;}return!1;},find:function find(e){var t,n,u=[],i=this._selectors;function c(e,t,n){var i,r,o,s,a,l=t[n];for(i=0,r=e.length;i<r;i++){for(a=e[i],o=0,s=l.length;o<s;o++){if(!l[o](a,i,r)){o=s+1;break;}}if(o===s)n===t.length-1?u.push(a):a.items&&c(a.items(),t,n+1);else if(l.direct)return;a.items&&c(a.items(),t,n);}}if(e.items){for(t=0,n=i.length;t<n;t++){c(e.items(),i[t],0);}1<n&&(u=function(e){for(var t,n=[],i=e.length;i--;){(t=e[i]).__checked||(n.push(t),t.__checked=1);}for(i=n.length;i--;){delete n[i].__checked;}return n;}(u));}return De||(De=Ie.Collection),new De(u);}}),Fe=Array.prototype.push,Ue=Array.prototype.slice;Ae={length:0,init:function init(e){e&&this.add(e);},add:function add(e){return w.isArray(e)?Fe.apply(this,e):e instanceof Oe?this.add(e.toArray()):Fe.call(this,e),this;},set:function set(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++){delete n[t];}return n;},filter:function filter(t){var e,n,i,r,o=[];for("string"==typeof t?(t=new Ie(t),r=function r(e){return t.match(e);}):r=t,e=0,n=this.length;e<n;e++){r(i=this[e])&&o.push(i);}return new Oe(o);},slice:function slice(){return new Oe(Ue.apply(this,arguments));},eq:function eq(e){return-1===e?this.slice(e):this.slice(e,+e+1);},each:function each(e){return w.each(this,e),this;},toArray:function toArray(){return w.toArray(this);},indexOf:function indexOf(e){for(var t=this.length;t--&&this[t]!==e;){;}return t;},reverse:function reverse(){return new Oe(w.toArray(this).reverse());},hasClass:function hasClass(e){return!!this[0]&&this[0].classes.contains(e);},prop:function prop(t,n){var e;return n!==undefined?(this.each(function(e){e[t]&&e[t](n);}),this):(e=this[0])&&e[t]?e[t]():void 0;},exec:function exec(t){var n=w.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n);}),this;},remove:function remove(){for(var e=this.length;e--;){this[e].remove();}return this;},addClass:function addClass(t){return this.each(function(e){e.classes.add(t);});},removeClass:function removeClass(t){return this.each(function(e){e.classes.remove(t);});}},w.each("fire on off show hide append prepend before after reflow".split(" "),function(n){Ae[n]=function(){var t=w.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t);}),this;};}),w.each("text name disabled active selected checked visible parent value data".split(" "),function(t){Ae[t]=function(e){return this.prop(t,e);};}),Oe=Se.extend(Ae);var Ve=Ie.Collection=Oe,Ye=function Ye(e){this.create=e.create;};Ye.create=function(r,o){return new Ye({create:function create(t,n){var i,e=function e(_e15){t.set(n,_e15.value);};return t.on("change:"+n,function(e){r.set(o,e.value);}),r.on("change:"+o,e),(i=t._bindings)||(i=t._bindings=[],t.on("destroy",function(){for(var e=i.length;e--;){i[e]();}})),i.push(function(){r.off("change:"+o,e);}),r.get(o);}});};var $e=tinymce.util.Tools.resolve("tinymce.util.Observable");function qe(e){return 0<e.nodeType;}var Xe,je,Je=Se.extend({Mixins:[$e],init:function init(e){var t,n;for(t in e=e||{}){(n=e[t])instanceof Ye&&(e[t]=n.create(this,t));}this.data=e;},set:function set(t,n){var i,r,o=this.data[t];if(n instanceof Ye&&(n=n.create(this,t)),"object"==_typeof(t)){for(i in t){this.set(i,t[i]);}return this;}return function e(t,n){var i,r;if(t===n)return!0;if(null===t||null===n)return t===n;if("object"!=_typeof(t)||"object"!=_typeof(n))return t===n;if(w.isArray(n)){if(t.length!==n.length)return!1;for(i=t.length;i--;){if(!e(t[i],n[i]))return!1;}}if(qe(t)||qe(n))return t===n;for(i in r={},n){if(!e(t[i],n[i]))return!1;r[i]=!0;}for(i in t){if(!r[i]&&!e(t[i],n[i]))return!1;}return!0;}(o,n)||(this.data[t]=n,r={target:this,name:t,value:n,oldValue:o},this.fire("change:"+t,r),this.fire("change",r)),this;},get:function get(e){return this.data[e];},has:function has(e){return e in this.data;},bind:function bind(e){return Ye.create(this,e);},destroy:function destroy(){this.fire("destroy");}}),Ge={},Ke={add:function add(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;Ge[t._id]||(Ge[t._id]=t),Xe||(Xe=!0,u.requestAnimationFrame(function(){var e,t;for(e in Xe=!1,Ge){(t=Ge[e]).state.get("rendered")&&t.reflow();}Ge={};},_.document.body));}},remove:function remove(e){Ge[e._id]&&delete Ge[e._id];}},Ze=("onmousewheel"in _.document),Qe=!1,et=0,tt={Statics:{classPrefix:"mce-"},isRtl:function isRtl(){return je.rtl;},classPrefix:"mce-",init:function init(t){var e,n,i=this;function r(e){var t;for(e=e.split(" "),t=0;t<e.length;t++){i.classes.add(e[t]);}}i.settings=t=w.extend({},i.Defaults,t),i._id=t.id||"mceu_"+et++,i._aria={role:t.role},i._elmCache={},i.$=ye,i.state=new Je({visible:!0,active:!1,disabled:!1,value:""}),i.data=new Je(t.data),i.classes=new We(function(){i.state.get("rendered")&&(i.getEl().className=this.toString());}),i.classes.prefix=i.classPrefix,(e=t.classes)&&(i.Defaults&&(n=i.Defaults.classes)&&e!==n&&r(n),r(e)),w.each("title text name visible disabled active value".split(" "),function(e){e in t&&i[e](t[e]);}),i.on("click",function(){if(i.disabled())return!1;}),i.settings=t,i.borderBox=Me(t.border),i.paddingBox=Me(t.padding),i.marginBox=Me(t.margin),t.hidden&&i.hide();},Properties:"parent,name",getContainerElm:function getContainerElm(){var e=W.getUiContainer(this);return e||we.getContainer();},getParentCtrl:function getParentCtrl(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);){e=e.parentNode;}return t;},initLayoutRect:function initLayoutRect(){var e,t,n,i,r,o,s,a,l,u,c=this,d=c.settings,f=c.getEl();e=c.borderBox=c.borderBox||Ne(f,"border"),c.paddingBox=c.paddingBox||Ne(f,"padding"),c.marginBox=c.marginBox||Ne(f,"margin"),u=we.getSize(f),a=d.minWidth,l=d.minHeight,r=a||u.width,o=l||u.height,n=d.width,i=d.height,s=void 0!==(s=d.autoResize)?s:!n&&!i,n=n||r,i=i||o;var h=e.left+e.right,m=e.top+e.bottom,g=d.maxWidth||65535,p=d.maxHeight||65535;return c._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:i,deltaW:h,deltaH:m,contentW:n-h,contentH:i-m,innerW:n-h,innerH:i-m,startMinWidth:a||0,startMinHeight:l||0,minW:Math.min(r,g),minH:Math.min(o,p),maxW:g,maxH:p,autoResize:s,scrollW:0},c._lastLayoutRect={},t;},layoutRect:function layoutRect(e){var t,n,i,r,o,s=this,a=s._layoutRect;return a||(a=s.initLayoutRect()),e?(i=a.deltaW,r=a.deltaH,e.x!==undefined&&(a.x=e.x),e.y!==undefined&&(a.y=e.y),e.minW!==undefined&&(a.minW=e.minW),e.minH!==undefined&&(a.minH=e.minH),(n=e.w)!==undefined&&(n=(n=n<a.minW?a.minW:n)>a.maxW?a.maxW:n,a.w=n,a.innerW=n-i),(n=e.h)!==undefined&&(n=(n=n<a.minH?a.minH:n)>a.maxH?a.maxH:n,a.h=n,a.innerH=n-r),(n=e.innerW)!==undefined&&(n=(n=n<a.minW-i?a.minW-i:n)>a.maxW-i?a.maxW-i:n,a.innerW=n,a.w=n+i),(n=e.innerH)!==undefined&&(n=(n=n<a.minH-r?a.minH-r:n)>a.maxH-r?a.maxH-r:n,a.innerH=n,a.h=n+r),e.contentW!==undefined&&(a.contentW=e.contentW),e.contentH!==undefined&&(a.contentH=e.contentH),(t=s._lastLayoutRect).x===a.x&&t.y===a.y&&t.w===a.w&&t.h===a.h||((o=je.repaintControls)&&o.map&&!o.map[s._id]&&(o.push(s),o.map[s._id]=!0),t.x=a.x,t.y=a.y,t.w=a.w,t.h=a.h),s):a;},repaint:function repaint(){var e,t,n,i,r,o,s,a,l,u,c=this;l=_.document.createRange?function(e){return e;}:Math.round,e=c.getEl().style,i=c._layoutRect,a=c._lastRepaintRect||{},o=(r=c.borderBox).left+r.right,s=r.top+r.bottom,i.x!==a.x&&(e.left=l(i.x)+"px",a.x=i.x),i.y!==a.y&&(e.top=l(i.y)+"px",a.y=i.y),i.w!==a.w&&(u=l(i.w-o),e.width=(0<=u?u:0)+"px",a.w=i.w),i.h!==a.h&&(u=l(i.h-s),e.height=(0<=u?u:0)+"px",a.h=i.h),c._hasBody&&i.innerW!==a.innerW&&(u=l(i.innerW),(n=c.getEl("body"))&&((t=n.style).width=(0<=u?u:0)+"px"),a.innerW=i.innerW),c._hasBody&&i.innerH!==a.innerH&&(u=l(i.innerH),(n=n||c.getEl("body"))&&((t=t||n.style).height=(0<=u?u:0)+"px"),a.innerH=i.innerH),c._lastRepaintRect=a,c.fire("repaint",{},!1);},updateLayoutRect:function updateLayoutRect(){var e=this;e.parent()._lastRect=null,we.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect();},on:function on(e,t){var n,i,r,o=this;return nt(o).on(e,"string"!=typeof(n=t)?n:function(e){return i||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(i=t[n]))return r=e,!1;}),i?i.call(r,e):(e.action=n,void this.fire("execute",e));}),o;},off:function off(e,t){return nt(this).off(e,t),this;},fire:function fire(e,t,n){if((t=t||{}).control||(t.control=this),t=nt(this).fire(e,t),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();){i.fire(e,t,!1),i=i.parent();}return t;},hasEventListeners:function hasEventListeners(e){return nt(this).has(e);},parents:function parents(e){var t,n=new Ve();for(t=this.parent();t;t=t.parent()){n.add(t);}return e&&(n=n.filter(e)),n;},parentsAndSelf:function parentsAndSelf(e){return new Ve(this).add(this.parents(e));},next:function next(){var e=this.parent().items();return e[e.indexOf(this)+1];},prev:function prev(){var e=this.parent().items();return e[e.indexOf(this)-1];},innerHtml:function innerHtml(e){return this.$el.html(e),this;},getEl:function getEl(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=ye("#"+t)[0]),this._elmCache[t];},show:function show(){return this.visible(!0);},hide:function hide(){return this.visible(!1);},focus:function focus(){try{this.getEl().focus();}catch(e){}return this;},blur:function blur(){return this.getEl().blur(),this;},aria:function aria(e,t){var n=this,i=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"===e?e:"aria-"+e,t),n);},encode:function encode(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";";});},translate:function translate(e){return je.translate?je.translate(e):e;},before:function before(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this;},after:function after(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this;},remove:function remove(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;){o[e].remove();}}r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e);}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&ye(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n;},renderBefore:function renderBefore(e){return ye(e).before(this.renderHtml()),this.postRender(),this;},renderTo:function renderTo(e){return ye(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this;},preRender:function preRender(){},render:function render(){},renderHtml:function renderHtml(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>';},postRender:function postRender(){var e,t,n,i,r,o=this,s=o.settings;for(i in o.$el=ye(o.getEl()),o.state.set("rendered",!0),s){0===i.indexOf("on")&&o.on(i.substr(2),s[i]);}if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent()){r=n._eventsRoot;}if(r)for(i in r._nativeEvents){o._nativeEvents[i]=!0;}}it(o),s.style&&(e=o.getEl())&&(e.setAttribute("style",s.style),e.style.cssText=s.style),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var a=o.getRoot();for(var l in a.controlIdLookup||(a.controlIdLookup={}),(a.controlIdLookup[o._id]=o)._aria){o.aria(l,o._aria[l]);}!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?"show":"hide"),Ke.add(o);}),o.fire("postrender",{},!1);},bindStates:function bindStates(){},scrollIntoView:function scrollIntoView(e){var t,n,i,r,o,s,a=this.getEl(),l=a.parentNode,u=function(e,t){var n,i,r=e;for(n=i=0;r&&r!==t&&r.nodeType;){n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;}return{x:n,y:i};}(a,l);return t=u.x,n=u.y,i=a.offsetWidth,r=a.offsetHeight,o=l.clientWidth,s=l.clientHeight,"end"===e?(t-=o-i,n-=s-r):"center"===e&&(t-=o/2-i/2,n-=s/2-r/2),l.scrollLeft=t,l.scrollTop=n,this;},getRoot:function getRoot(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break;}n.push(t),t=(e=t).parent();}e||(e=this);for(var i=n.length;i--;){n[i].rootControl=e;}return e;},reflow:function reflow(){Ke.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this;}};function nt(n){return n._eventDispatcher||(n._eventDispatcher=new Te({scope:n,toggleEvent:function toggleEvent(e,t){t&&Te.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&it(n));}})),n._eventDispatcher;}function it(a){var e,t,n,l,i,r;function o(e){var t=a.getParentCtrl(e.target);t&&t.fire(e.type,e);}function s(){var e=l._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()});}),l._lastHoverCtrl=null);}function u(e){var t,n,i,r=a.getParentCtrl(e.target),o=l._lastHoverCtrl,s=0;if(r!==o){if((n=(l._lastHoverCtrl=r).parents().toArray().reverse()).push(r),o){for((i=o.parents().toArray().reverse()).push(o),s=0;s<i.length&&n[s]===i[s];s++){;}for(t=i.length-1;s<=t;t--){(o=i[t]).fire("mouseleave",{target:o.getEl()});}}for(t=s;t<n.length;t++){(r=n[t]).fire("mouseenter",{target:r.getEl()});}}}function c(e){e.preventDefault(),"mousewheel"===e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=a.fire("wheel",e);}if(i=a._nativeEvents){for((n=a.parents().toArray()).unshift(a),e=0,t=n.length;!l&&e<t;e++){l=n[e]._eventsRoot;}for(l||(l=n[n.length-1]||a),a._eventsRoot=l,t=e,e=0;e<t;e++){n[e]._eventsRoot=l;}var d=l._delegates;for(r in d||(d=l._delegates={}),i){if(!i)return!1;"wheel"!==r||Qe?("mouseenter"===r||"mouseleave"===r?l._hasMouseEnter||(ye(l.getEl()).on("mouseleave",s).on("mouseover",u),l._hasMouseEnter=1):d[r]||(ye(l.getEl()).on(r,o),d[r]=!0),i[r]=!1):Ze?ye(a.getEl()).on("mousewheel",c):ye(a.getEl()).on("DOMMouseScroll",c);}}}w.each("text title visible disabled active value".split(" "),function(t){tt[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this);};});var rt=je=Se.extend(tt),ot=function ot(e){return!!e.getAttribute("data-mce-tabstop");};function st(e){var o,r,n=e.root;function i(e){return e&&1===e.nodeType;}try{o=_.document.activeElement;}catch(t){o=_.document.body;}function s(e){return i(e=e||o)?e.getAttribute("role"):null;}function a(e){for(var t,n=e||o;n=n.parentNode;){if(t=s(n))return t;}}function l(e){var t=o;if(i(t))return t.getAttribute("aria-"+e);}function u(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t;}function c(t){var r=[];return function e(t){if(1===t.nodeType&&"none"!==t.style.display&&!t.disabled){var n;(u(n=t)&&!n.hidden||ot(n)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(s(n)))&&r.push(t);for(var i=0;i<t.childNodes.length;i++){e(t.childNodes[i]);}}}(t||n.getEl()),r;}function d(e){var t,n;(n=(e=e||r).parents().toArray()).unshift(e);for(var i=0;i<n.length&&!(t=n[i]).settings.ariaRoot;i++){;}return t;}function f(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e;}function h(e,t){var n=-1,i=d();t=t||c(i.getEl());for(var r=0;r<t.length;r++){t[r]===o&&(n=r);}n+=e,i.lastAriaIndex=f(n,t);}function m(){"tablist"===a()?h(-1,c(o.parentNode)):r.parent().submenu?b():h(-1);}function g(){var e=s(),t=a();"tablist"===t?h(1,c(o.parentNode)):"menuitem"===e&&"menu"===t&&l("haspopup")?y():h(1);}function p(){h(-1);}function v(){var e=s(),t=a();"menuitem"===e&&"menubar"===t?y():"button"===e&&l("haspopup")?y({key:"down"}):h(1);}function b(){r.fire("cancel");}function y(e){e=e||{},r.fire("click",{target:o,aria:e});}return r=n.getParentCtrl(o),n.on("keydown",function(e){function t(e,t){u(o)||ot(o)||"slider"!==s(o)&&!1!==t(e)&&e.preventDefault();}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,m);break;case 39:t(e,g);break;case 38:t(e,p);break;case 40:t(e,v);break;case 27:b();break;case 14:case 13:case 32:t(e,y);break;case 9:!function(e){if("tablist"===a()){var t=c(r.getEl("body"))[0];t&&t.focus();}else h(e.shiftKey?-1:1);}(e),e.preventDefault();}}),n.on("focusin",function(e){o=e.target,r=e.control;}),{focusFirst:function focusFirst(e){var t=d(e),n=c(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?f(t.lastAriaIndex,n):f(0,n);}};}var at={},lt=rt.extend({init:function init(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new Ve(),t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new We(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString());}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=v.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0;},items:function items(){return this._items;},find:function find(e){return(e=at[e]=at[e]||new Ie(e)).find(this);},add:function add(e){return this.items().add(this.create(e)).parent(this),this;},focus:function focus(e){var t,n,i,r=this;if(!e||!(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav))return i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e);}),t&&t.focus(),r;n.focusFirst(r);},replace:function replace(e,t){for(var n,i=this.items(),r=i.length;r--;){if(i[r]===e){i[r]=t;break;}}0<=r&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this);},create:function create(e){var t,n=this,i=[];return w.isArray(e)||(e=[e]),w.each(e,function(e){e&&(e instanceof rt||("string"==typeof e&&(e={type:e}),t=w.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=v.create(t)),i.push(e));}),i;},renderNew:function renderNew(){var i=this;return i.items().each(function(e,t){var n;e.parent(i),e.state.get("rendered")||((n=i.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?ye(n.childNodes[t]).before(e.renderHtml()):ye(n).append(e.renderHtml()),e.postRender(),Ke.add(e));}),i._layout.applyClasses(i.items().filter(":visible")),i._lastRect=null,i;},append:function append(e){return this.add(e).renderNew();},prepend:function prepend(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew();},insert:function insert(e,t,n){var i,r,o;return e=this.create(e),i=this.items(),!n&&t<i.length-1&&(t+=1),0<=t&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),this.renderNew();},fromJSON:function fromJSON(e){for(var t in e){this.find("#"+t).value(e[t]);}return this;},toJSON:function toJSON(){var i={};return this.find("*").each(function(e){var t=e.name(),n=e.value();t&&void 0!==n&&(i[t]=n);}),i;},renderHtml:function renderHtml(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>";},postRender:function postRender(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=st({root:t})),t;},initLayoutRect:function initLayoutRect(){var e=this._super();return this._layout.recalc(this),e;},recalc:function recalc(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!==t.w||n.h!==t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0;},reflow:function reflow(){var e;if(Ke.remove(this),this.visible()){for(rt.repaintControls=[],rt.repaintControls.map={},this.recalc(),e=rt.repaintControls.length;e--;){rt.repaintControls[e].repaint();}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),rt.repaintControls=[];}return this;}});function ut(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++){e[t[n]]=e.changedTouches[0][t[n]];}}function ct(e,h){var m,g,t,_p2,v,b,y,x=h.document||_.document;h=h||{};var w=x.getElementById(h.handle||e);t=function t(e){var t,n,i,r,o,s,a,l,u,c,d,f=(t=x,u=Math.max,n=t.documentElement,i=t.body,r=u(n.scrollWidth,i.scrollWidth),o=u(n.clientWidth,i.clientWidth),s=u(n.offsetWidth,i.offsetWidth),a=u(n.scrollHeight,i.scrollHeight),l=u(n.clientHeight,i.clientHeight),{width:r<s?o:r,height:a<u(n.offsetHeight,i.offsetHeight)?l:a});ut(e),e.preventDefault(),g=e.button,c=w,b=e.screenX,y=e.screenY,d=_.window.getComputedStyle?_.window.getComputedStyle(c,null).getPropertyValue("cursor"):c.runtimeStyle.cursor,m=ye("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(x.body),ye(x).on("mousemove touchmove",v).on("mouseup touchend",_p2),h.start(e);},v=function v(e){if(ut(e),e.button!==g)return _p2(e);e.deltaX=e.screenX-b,e.deltaY=e.screenY-y,e.preventDefault(),h.drag(e);},_p2=function p(e){ut(e),ye(x).off("mousemove touchmove",v).off("mouseup touchend",_p2),m.remove(),h.stop&&h.stop(e);},this.destroy=function(){ye(w).off();},ye(w).on("mousedown touchstart",t);}var dt,ft,ht,mt,gt={init:function init(){this.on("repaint",this.renderScroll);},renderScroll:function renderScroll(){var p=this,v=2;function n(){var m,g,e;function t(e,t,n,i,r,o){var s,a,l,u,c,d,f,h;if(a=p.getEl("scroll"+e)){if(f=t.toLowerCase(),h=n.toLowerCase(),ye(p.getEl("absend")).css(f,p.layoutRect()[i]-1),!r)return void ye(a).css("display","none");ye(a).css("display","block"),s=p.getEl("body"),l=p.getEl("scroll"+e+"t"),u=s["client"+n]-2*v,c=(u-=m&&g?a["client"+o]:0)/s["scroll"+n],(d={})[f]=s["offset"+t]+v,d[h]=u,ye(a).css(d),(d={})[f]=s["scroll"+t]*c,d[h]=u*c,ye(l).css(d);}}e=p.getEl("body"),m=e.scrollWidth>e.clientWidth,g=e.scrollHeight>e.clientHeight,t("h","Left","Width","contentW",m,"Height"),t("v","Top","Height","contentH",g,"Width");}p.settings.autoScroll&&(p._hasScroll||(p._hasScroll=!0,function(){function e(s,a,l,u,c){var d,e=p._id+"-scroll"+s,t=p.classPrefix;ye(p.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+s+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),p.draghelper=new ct(e+"t",{start:function start(){d=p.getEl("body")["scroll"+a],ye("#"+e).addClass(t+"active");},drag:function drag(e){var t,n,i,r,o=p.layoutRect();n=o.contentW>o.innerW,i=o.contentH>o.innerH,r=p.getEl("body")["client"+l]-2*v,t=(r-=n&&i?p.getEl("scroll"+s)["client"+c]:0)/p.getEl("body")["scroll"+l],p.getEl("body")["scroll"+a]=d+e["delta"+u]/t;},stop:function stop(){ye("#"+e).removeClass(t+"active");}});}p.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height");}(),p.on("wheel",function(e){var t=p.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n();}),ye(p.getEl("body")).on("scroll",n)),n());}},pt=lt.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[gt],renderHtml:function renderHtml(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>";}}),vt={resizeToContent:function resizeToContent(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow();},resizeTo:function resizeTo(e,t){if(e<=1||t<=1){var n=we.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t;}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow();},resizeBy:function resizeBy(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t);}},bt=[],yt=[];function xt(e,t){for(;e;){if(e===t)return!0;e=e.parent();}}function wt(){dt||(dt=function dt(e){2!==e.button&&function(e){for(var t=bt.length;t--;){var n=bt[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(xt(i,n)||n.parent()===i))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide();}}}(e);},ye(_.document).on("click touchstart",dt));}function _t(r){var e=we.getViewPort().y;function t(e,t){for(var n,i=0;i<bt.length;i++){if(bt[i]!==r)for(n=bt[i].parent();n&&(n=n.parent());){n===r&&bt[i].fixed(e).moveBy(0,t).repaint();}}}r.settings.autofix&&(r.state.get("fixed")?r._autoFixY>e&&(r.fixed(!1).layoutRect({y:r._autoFixY}).repaint(),t(!1,r._autoFixY-e)):(r._autoFixY=r.layoutRect().y,r._autoFixY<e&&(r.fixed(!0).layoutRect({y:0}).repaint(),t(!0,e-r._autoFixY))));}function Rt(e,t){var n,i,r=Ct.zIndex||65535;if(e)yt.push(t);else for(n=yt.length;n--;){yt[n]===t&&yt.splice(n,1);}if(yt.length)for(n=0;n<yt.length;n++){yt[n].modal&&(r++,i=yt[n]),yt[n].getEl().style.zIndex=r,yt[n].zIndex=r,r++;}var o=ye("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?ye(o).css("z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),mt=!1),Ct.currentZIndex=r;}var Ct=pt.extend({Mixins:[He,vt],init:function init(e){var i=this;i._super(e),(i._eventsRoot=i).classes.add("floatpanel"),e.autohide&&(wt(),function(){if(!ht){var e=_.document.documentElement,t=e.clientWidth,n=e.clientHeight;ht=function ht(){_.document.all&&t===e.clientWidth&&n===e.clientHeight||(t=e.clientWidth,n=e.clientHeight,Ct.hideAll());},ye(_.window).on("resize",ht);}}(),bt.push(i)),e.autofix&&(ft||(ft=function ft(){var e;for(e=bt.length;e--;){_t(bt[e]);}},ye(_.window).on("scroll",ft)),i.on("move",function(){_t(this);})),i.on("postrender show",function(e){if(e.control===i){var t,n=i.classPrefix;i.modal&&!mt&&((t=ye("#"+n+"modal-block",i.getContainerElm()))[0]||(t=ye('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(i.getContainerElm())),u.setTimeout(function(){t.addClass(n+"in"),ye(i.getEl()).addClass(n+"in");}),mt=!0),Rt(!0,i);}}),i.on("show",function(){i.parents().each(function(e){if(e.state.get("fixed"))return i.fixed(!0),!1;});}),e.popover&&(i._preBodyHtml='<div class="'+i.classPrefix+'arrow"></div>',i.classes.add("popover").add("bottom").add(i.isRtl()?"end":"start")),i.aria("label",e.ariaLabel),i.aria("labelledby",i._id),i.aria("describedby",i.describedBy||i._id+"-none");},fixed:function fixed(e){var t=this;if(t.state.get("fixed")!==e){if(t.state.get("rendered")){var n=we.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y;}t.classes.toggle("fixed",e),t.state.set("fixed",e);}return t;},show:function show(){var e,t=this._super();for(e=bt.length;e--&&bt[e]!==this;){;}return-1===e&&bt.push(this),t;},hide:function hide(){return Et(this),Rt(!1,this),this._super();},hideAll:function hideAll(){Ct.hideAll();},close:function close(){return this.fire("close").isDefaultPrevented()||(this.remove(),Rt(!1,this)),this;},remove:function remove(){Et(this),this._super();},postRender:function postRender(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super();}});function Et(e){var t;for(t=bt.length;t--;){bt[t]===e&&bt.splice(t,1);}for(t=yt.length;t--;){yt[t]===e&&yt.splice(t,1);}}Ct.hideAll=function(){for(var e=bt.length;e--;){var t=bt[e];t&&t.settings.autohide&&(t.hide(),bt.splice(e,1));}};var kt=function kt(s,n,e){var a,i,l=p.DOM,t=s.getParam("fixed_toolbar_container");t&&(i=l.select(t)[0]);var r=function r(){if(a&&a.moveRel&&a.visible()&&!a._fixed){var e=s.selection.getScrollContainer(),t=s.getBody(),n=0,i=0;if(e){var r=l.getPos(t),o=l.getPos(e);n=Math.max(0,o.x-r.x),i=Math.max(0,o.y-r.y);}a.fixed(!1).moveRel(t,s.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(n,i);}},o=function o(){a&&(a.show(),r(),l.addClass(s.getBody(),"mce-edit-focus"));},u=function u(){a&&(a.hide(),Ct.hideAll(),l.removeClass(s.getBody(),"mce-edit-focus"));},c=function c(){var e,t;a?a.visible()||o():(a=n.panel=v.create({type:i?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:(e=i,t=s,!(!e||t.settings.ui_container)),border:1,items:[!1===d(s)?null:{type:"menubar",border:"0 0 1 0",items:re(s)},A(s,f(s))]}),W.setUiContainer(s,a),x(s),i?a.renderTo(i).reflow():a.renderTo().reflow(),R(s,a),o(),F(s),s.on("nodeChange",r),s.on("ResizeWindow",r),s.on("activate",o),s.on("deactivate",u),s.nodeChanged());};return s.settings.content_editable=!0,s.on("focus",function(){!1===m(s)&&e.skinUiCss?l.styleSheetLoader.load(e.skinUiCss,c,c):c();}),s.on("blur hide",u),s.on("remove",function(){a&&(a.remove(),a=null);}),!1===m(s)&&e.skinUiCss?l.styleSheetLoader.load(e.skinUiCss,ge(s)):ge(s)(),{};};function Ht(i,r){var o,s,a=this,l=rt.classPrefix;a.show=function(e,t){function n(){o&&(ye(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),t&&t());}return a.hide(),o=!0,e?s=u.setTimeout(n,e):n(),a;},a.hide=function(){var e=i.lastChild;return u.clearTimeout(s),e&&-1!==e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,a;};}var St=function St(e,t){var n;e.on("ProgressState",function(e){n=n||new Ht(t.panel.getEl("body")),e.state?n.show(e.time):n.hide();});},Tt=function Tt(e,t,n){var i=function(e){var t=e.settings,n=t.skin,i=t.skin_url;if(!1!==n){var r=n||"lightgray";i=i?e.documentBaseURI.toAbsolute(i):l.baseURL+"/skins/"+r;}return i;}(e);return i&&(n.skinUiCss=i+"/skin.min.css",e.contentCSS.push(i+"/content"+(e.inline?".inline":"")+".min.css")),St(e,t),e.getParam("inline",!1,"boolean")?kt(e,t,n):be(e,t,n);},Mt=rt.extend({Mixins:[He],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function renderHtml(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>";},bindStates:function bindStates(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value);}),t._super();},repaint:function repaint(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070;}}),Nt=rt.extend({init:function init(i){var r=this;r._super(i),i=r.settings,r.canFocus=!0,i.tooltip&&!1!==Nt.tooltips&&(r.on("mouseenter",function(e){var t=r.tooltip().moveTo(-65535);if(e.control===r){var n=t.text(i.tooltip).show().testMoveRel(r.getEl(),["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"===n),t.classes.toggle("tooltip-nw","bc-tl"===n),t.classes.toggle("tooltip-ne","bc-tr"===n),t.moveRel(r.getEl(),n);}else t.hide();}),r.on("mouseleave mousedown click",function(){r.tooltip().remove(),r._tooltip=null;})),r.aria("label",i.ariaLabel||i.tooltip);},tooltip:function tooltip(){return this._tooltip||(this._tooltip=new Mt({type:"tooltip"}),W.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip;},postRender:function postRender(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus();},bindStates:function bindStates(){var t=this;function n(e){t.aria("disabled",e),t.classes.toggle("disabled",e);}function i(e){t.aria("pressed",e),t.classes.toggle("active",e);}return t.state.on("change:disabled",function(e){n(e.value);}),t.state.on("change:active",function(e){i(e.value);}),t.state.get("disabled")&&n(!0),t.state.get("active")&&i(!0),t._super();},remove:function remove(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null);}}),Pt=Nt.extend({Defaults:{value:0},init:function init(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e);});},renderHtml:function renderHtml(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>';},postRender:function postRender(){return this._super(),this.value(this.settings.value),this;},bindStates:function bindStates(){var t=this;function n(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%";}return t.state.on("change:value",function(e){n(e.value);}),n(t.state.get("value")),t._super();}}),Wt=function Wt(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"");},Dt=rt.extend({Mixins:[He],Defaults:{classes:"widget notification"},init:function init(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new Pt()),t.on("click",function(e){-1!==e.target.className.indexOf(t.classPrefix+"close")&&t.close();});},renderHtml:function renderHtml(){var e,t=this,n=t.classPrefix,i="",r="",o="";return t.icon&&(i='<i class="'+n+"ico "+n+"i-"+t.icon+'"></i>'),e=' style="max-width: '+t.maxWidth+"px;"+(t.color?"background-color: "+t.color+';"':'"'),t.closeButton&&(r='<button type="button" class="'+n+'close" aria-hidden="true">\xd7</button>'),t.progressBar&&(o=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+e+' role="presentation">'+i+'<div class="'+n+'notification-inner">'+t.state.get("text")+"</div>"+o+r+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>';},postRender:function postRender(){var e=this;return u.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),Wt(e,e.state.get("text"));},100),e._super();},bindStates:function bindStates(){var t=this;return t.state.on("change:text",function(e){t.getEl().firstChild.innerHTML=e.value,Wt(t,e.value);}),t.progressBar&&(t.progressBar.bindStates(),t.progressBar.state.on("change:value",function(e){Wt(t,t.state.get("text"));})),t._super();},close:function close(){return this.fire("close").isDefaultPrevented()||this.remove(),this;},repaint:function repaint(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534;}});function Ot(o){var s=function s(e){return e.inline?e.getElement():e.getContentAreaContainer();};return{open:function open(e,t){var n,i=w.extend(e,{maxWidth:(n=s(o),we.getSize(n).width)}),r=new Dt(i);return 0<(r.args=i).timeout&&(r.timer=setTimeout(function(){r.close(),t();},i.timeout)),r.on("close",function(){t();}),r.renderTo(),r;},close:function close(e){e.close();},reposition:function reposition(e){K(e,function(e){e.moveTo(0,0);}),function(n){if(0<n.length){var e=n.slice(0,1)[0],t=s(o);e.moveRel(t,"tc-tc"),K(n,function(e,t){0<t&&e.moveRel(n[t-1].getEl(),"bc-tc");});}}(e);},getArgs:function getArgs(e){return e.args;}};}var At=[],Bt="";function Lt(e){var t,n=ye("meta[name=viewport]")[0];!1!==ce.overrideViewPort&&(n||((n=_.document.createElement("meta")).setAttribute("name","viewport"),_.document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==Bt&&(Bt=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Bt));}function zt(e,t){(function(){for(var e=0;e<At.length;e++){if(At[e]._fullscreen)return!0;}return!1;})()&&!1===t&&ye([_.document.documentElement,_.document.body]).removeClass(e+"fullscreen");}var It=Ct.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function submit(){this.fire("submit",{data:this.toJSON()});},close:function close(){this.close();}}},init:function init(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new pt({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(we.hasClass(e.target,t)||we.hasClass(e.target.parentNode,t))&&n.close();}),n.on("cancel",function(){n.close();}),n.on("move",function(e){e.control===n&&Ct.hideAll();}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1;},recalc:function recalc(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(we.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc();},initLayoutRect:function initLayoutRect(){var e,t=this,n=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var r=we.getSize(e);n.headerW=r.width,n.headerH=r.height,i+=n.headerH;}t.statusbar&&(i+=t.statusbar.layoutRect().h),n.deltaH+=i,n.minH+=i,n.h+=i;var o=we.getWindowSize();return n.x=t.settings.x||Math.max(0,o.w/2-n.w/2),n.y=t.settings.y||Math.max(0,o.h/2-n.h/2),n;},renderHtml:function renderHtml(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",s="",a=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(a='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===a&&(a=t.renderHtml(e)),e.statusbar&&(s=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+a+"</div>"+s+"</div></div>";},fullscreen:function fullscreen(e){var n,t,i=this,r=_.document.documentElement,o=i.classPrefix;if(e!==i._fullscreen)if(ye(_.window).on("resize",function(){var e;if(i._fullscreen)if(n)i._timer||(i._timer=u.setTimeout(function(){var e=we.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0;},50));else{e=new Date().getTime();var t=we.getWindowSize();i.moveTo(0,0).resizeTo(t.w,t.h),50<new Date().getTime()-e&&(n=!0);}}),t=i.layoutRect(),i._fullscreen=e){i._initial={x:t.x,y:t.y,w:t.w,h:t.h},i.borderBox=Me("0"),i.getEl("head").style.display="none",t.deltaH-=t.headerH+2,ye([r,_.document.body]).addClass(o+"fullscreen"),i.classes.add("fullscreen");var s=we.getWindowSize();i.moveTo(0,0).resizeTo(s.w,s.h);}else i.borderBox=Me(i.settings.border),i.getEl("head").style.display="",t.deltaH+=t.headerH,ye([r,_.document.body]).removeClass(o+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow();},postRender:function postRender(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open");},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new ct(n._id+"-dragh",{start:function start(){t={x:n.layoutRect().x,y:n.layoutRect().y};},drag:function drag(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY);}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close();}),At.push(n),Lt(!0);},submit:function submit(){return this.fire("submit",{data:this.toJSON()});},remove:function remove(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),zt(t.classPrefix,!1),e=At.length;e--;){At[e]===t&&At.splice(e,1);}Lt(0<At.length);},getContentWindow:function getContentWindow(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null;}});!function(){if(!ce.desktop){var n={w:_.window.innerWidth,h:_.window.innerHeight};u.setInterval(function(){var e=_.window.innerWidth,t=_.window.innerHeight;n.w===e&&n.h===t||(n={w:e,h:t},ye(_.window).trigger("resize"));},100);}ye(_.window).on("resize",function(){var e,t,n=we.getWindowSize();for(e=0;e<At.length;e++){t=At[e].layoutRect(),At[e].moveTo(At[e].settings.x||Math.max(0,n.w/2-t.w/2),At[e].settings.y||Math.max(0,n.h/2-t.h/2));}});}();var Ft,Ut,Vt,Yt=It.extend({init:function init(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e);},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function msgBox(e){var t,i=e.callback||function(){};function n(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function onClick(e){e.control.parents()[1].close(),i(t);}};}switch(e.buttons){case Yt.OK_CANCEL:t=[n("Ok",!0,!0),n("Cancel",!1)];break;case Yt.YES_NO:case Yt.YES_NO_CANCEL:t=[n("Yes",1,!0),n("No",0)],e.buttons===Yt.YES_NO_CANCEL&&t.push(n("Cancel",-1));break;default:t=[n("Ok",!0,!0)];}return new It({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:t,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function onPostRender(){this.aria("describedby",this.items()[0]._id);},onClose:e.onClose,onCancel:function onCancel(){i(!1);}}).renderTo(_.document.body).reflow();},alert:function alert(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,Yt.msgBox(e);},confirm:function confirm(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=Yt.OK_CANCEL,Yt.msgBox(e);}}}),$t=function $t(n){return{renderUI:function renderUI(e){return Tt(n,this,e);},resizeTo:function resizeTo(e,t){return le(n,e,t);},resizeBy:function resizeBy(e,t){return ue(n,e,t);},getNotificationManagerImpl:function getNotificationManagerImpl(){return Ot(n);},getWindowManagerImpl:function getWindowManagerImpl(){return{open:function open(n,e,t){var i;return n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function onclick(){i.find("form")[0].submit();}},{text:"Cancel",onclick:function onclick(){i.close();}}]),(i=new It(n)).on("close",function(){t(i);}),n.data&&i.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t]);});}),i.features=n||{},i.params=e||{},i=i.renderTo(_.document.body).reflow();},alert:function alert(e,t,n){var i;return(i=Yt.alert(e,function(){t();})).on("close",function(){n(i);}),i;},confirm:function confirm(e,t,n){var i;return(i=Yt.confirm(e,function(e){t(e);})).on("close",function(){n(i);}),i;},close:function close(e){e.close();},getParams:function getParams(e){return e.params;},setParams:function setParams(e,t){e.params=t;}};}};},qt=Se.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function init(e){this.settings=w.extend({},this.Defaults,e);},preRender:function preRender(e){e.bodyClasses.add(this.settings.containerClass);},applyClasses:function applyClasses(e){var t,n,i,r,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(i||(i=e),r=e);}),i&&i.classes.add(t),r&&r.classes.add(n);},renderHtml:function renderHtml(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml();}),t;},recalc:function recalc(){},postRender:function postRender(){},isNative:function isNative(){return!1;}}),Xt=qt.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function recalc(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc();});},renderHtml:function renderHtml(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e);}}),jt=Nt.extend({Defaults:{classes:"widget btn",role:"button"},init:function init(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault();}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault();}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon);},icon:function icon(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon");},repaint:function repaint(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super();},renderHtml:function renderHtml(){var e,t,n=this,i=n._id,r=n.classPrefix,o=n.state.get("icon"),s=n.state.get("text"),a="",l=n.settings;return(e=l.image)?(o="none","string"!=typeof e&&(e=_.window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",s&&(n.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+n.encode(s)+"</span>"),o=o?r+"ico "+r+"i-"+o:"",t="boolean"==typeof l.active?' aria-pressed="'+l.active+'"':"",'<div id="'+i+'" class="'+n.classes+'" tabindex="-1"'+t+'><button id="'+i+'-button" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+"</button></div>";},bindStates:function bindStates(){var o=this,n=o.$,i=o.classPrefix+"txt";function s(e){var t=n("span."+i,o.getEl());e?(t[0]||(n("button:first",o.getEl()).append('<span class="'+i+'"></span>'),t=n("span."+i,o.getEl())),t.html(o.encode(e))):t.remove(),o.classes.toggle("btn-has-text",!!e);}return o.state.on("change:text",function(e){s(e.value);}),o.state.on("change:icon",function(e){var t=e.value,n=o.classPrefix;t=(o.settings.icon=t)?n+"ico "+n+"i-"+o.settings.icon:"";var i=o.getEl().firstChild,r=i.getElementsByTagName("i")[0];t?(r&&r===i.firstChild||(r=_.document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=t):r&&i.removeChild(r),s(o.state.get("text"));}),o._super();}}),Jt=jt.extend({init:function init(e){e=w.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple");},postRender:function postRender(){var n=this,t=we.create("input",{type:"file",id:n._id+"-browse",accept:n.settings.accept});n._super(),ye(t).on("change",function(e){var t=e.target.files;n.value=function(){return t.length?n.settings.multiple?t:t[0]:null;},e.preventDefault(),t.length&&n.fire("change",e);}),ye(t).on("click",function(e){e.stopPropagation();}),ye(n.getEl("button")).on("click touchstart",function(e){e.stopPropagation(),t.click(),e.preventDefault();}),n.getEl().appendChild(t);},remove:function remove(){ye(this.getEl("button")).off(),ye(this.getEl("input")).off(),this._super();}}),Gt=lt.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function renderHtml(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>";}}),Kt=Nt.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function init(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault();}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked());}),t.checked(t.settings.checked);},checked:function checked(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked");},value:function value(e){return arguments.length?this.checked(e):this.checked();},renderHtml:function renderHtml(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>";},bindStates:function bindStates(){var o=this;function t(e){o.classes.toggle("checked",e),o.aria("checked",e);}return o.state.on("change:text",function(e){o.getEl("al").firstChild.data=o.translate(e.value);}),o.state.on("change:checked change:value",function(e){o.fire("change"),t(e.value);}),o.state.on("change:icon",function(e){var t=e.value,n=o.classPrefix;if(void 0===t)return o.settings.icon;t=(o.settings.icon=t)?n+"ico "+n+"i-"+o.settings.icon:"";var i=o.getEl().firstChild,r=i.getElementsByTagName("i")[0];t?(r&&r===i.firstChild||(r=_.document.createElement("i"),i.insertBefore(r,i.firstChild)),r.className=t):r&&i.removeChild(r);}),o.state.get("checked")&&t(!0),o._super();}}),Zt=tinymce.util.Tools.resolve("tinymce.util.VK"),Qt=Nt.extend({init:function init(i){var r=this;r._super(i),i=r.settings,r.classes.add("combobox"),r.subinput=!0,r.ariaTarget="inp",i.menu=i.menu||i.values,i.menu&&(i.icon="caret"),r.on("click",function(e){var t=e.target,n=r.getEl();if(ye.contains(n,t)||t===n)for(;t&&t!==n;){t.id&&-1!==t.id.indexOf("-open")&&(r.fire("action"),i.menu&&(r.showMenu(),e.aria&&r.menu.items()[0].focus())),t=t.parentNode;}}),r.on("keydown",function(e){var t;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),r.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1;}),r.fire("submit",{data:t.toJSON()}));}),r.on("keyup",function(e){if("INPUT"===e.target.nodeName){var t=r.state.get("value"),n=e.target.value;n!==t&&(r.state.set("value",n),r.fire("autocomplete",e));}}),r.on("mouseover",function(e){var t=r.tooltip().moveTo(-65535);if(r.statusLevel()&&-1!==e.target.className.indexOf(r.classPrefix+"status")){var n=r.statusMessage()||"Ok",i=t.text(n).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"===i),t.classes.toggle("tooltip-nw","bc-tl"===i),t.classes.toggle("tooltip-ne","bc-tr"===i),t.moveRel(e.target,i);}});},statusLevel:function statusLevel(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel");},statusMessage:function statusMessage(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage");},showMenu:function showMenu(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=v.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus();}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value());});}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value());}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide();}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);},focus:function focus(){this.getEl("inp").focus();},repaint:function repaint(){var e,t,n=this,i=n.getEl(),r=n.getEl("open"),o=n.layoutRect(),s=0,a=i.firstChild;n.statusLevel()&&"none"!==n.statusLevel()&&(s=parseInt(we.getRuntimeStyle(a,"padding-right"),10)-parseInt(we.getRuntimeStyle(a,"padding-left"),10)),e=r?o.w-we.getSize(r).width-10:o.w-10;var l=_.document;return l.all&&(!l.documentMode||l.documentMode<=8)&&(t=n.layoutRect().h-2+"px"),ye(a).css({width:e-s,lineHeight:t}),n._super(),n;},postRender:function postRender(){var t=this;return ye(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e);}),t._super();},renderHtml:function renderHtml(){var e,t,n,i=this,r=i._id,o=i.settings,s=i.classPrefix,a=i.state.get("value")||"",l="",u="";return"spellcheck"in o&&(u+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(u+=' maxlength="'+o.maxLength+'"'),o.size&&(u+=' size="'+o.size+'"'),o.subtype&&(u+=' type="'+o.subtype+'"'),n='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',i.disabled()&&(u+=' disabled="disabled"'),(e=o.icon)&&"caret"!==e&&(e=s+"ico "+s+"i-"+o.icon),t=i.state.get("text"),(e||t)&&(l='<div id="'+r+'-open" class="'+s+"btn "+s+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+s+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",i.classes.add("has-open")),'<div id="'+r+'" class="'+i.classes+'"><input id="'+r+'-inp" class="'+s+'textbox" value="'+i.encode(a,!1)+'" hidefocus="1"'+u+' placeholder="'+i.encode(o.placeholder)+'" />'+n+l+"</div>";},value:function value(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"));},showAutoComplete:function showAutoComplete(e,i){var r=this;if(0!==e.length){r.menu?r.menu.items().remove():r.menu=v.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(r).renderTo(),w.each(e,function(e){var t,n;r.menu.add({text:e.title,url:e.previewUrl,match:i,classes:"menu-item-ellipsis",onclick:(t=e.value,n=e.title,function(){r.fire("selectitem",{title:n,value:t});})});}),r.menu.renderNew(),r.hideMenu(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu());}),r.menu.on("select",function(){r.focus();});var t=r.layoutRect().w;r.menu.layoutRect({w:t,minW:0,maxW:t}),r.menu.repaint(),r.menu.reflow(),r.menu.show(),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);}else r.hideMenu();},hideMenu:function hideMenu(){this.menu&&this.menu.hide();},bindStates:function bindStates(){var r=this;r.state.on("change:value",function(e){r.getEl("inp").value!==e.value&&(r.getEl("inp").value=e.value);}),r.state.on("change:disabled",function(e){r.getEl("inp").disabled=e.value;}),r.state.on("change:statusLevel",function(e){var t=r.getEl("status"),n=r.classPrefix,i=e.value;we.css(t,"display","none"===i?"none":""),we.toggleClass(t,n+"i-checkmark","ok"===i),we.toggleClass(t,n+"i-warning","warn"===i),we.toggleClass(t,n+"i-error","error"===i),r.classes.toggle("has-status","none"!==i),r.repaint();}),we.on(r.getEl("status"),"mouseleave",function(){r.tooltip().hide();}),r.on("cancel",function(e){r.menu&&r.menu.visible()&&(e.stopPropagation(),r.hideMenu());});var n=function n(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus();};return r.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===Zt.DOWN?(e.preventDefault(),r.fire("autocomplete"),n(0,r.menu)):t===Zt.UP&&(e.preventDefault(),n(-1,r.menu)));}),r._super();},remove:function remove(){ye(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super();}}),en=Qt.extend({init:function init(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value());});},repaintColor:function repaintColor(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e;}catch(i){}},bindStates:function bindStates(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value);}),t._super();}}),tn=jt.extend({showPanel:function showPanel(){var t=this,e=t.settings;if(t.classes.add("opened"),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new Ct(n).on("hide",function(){t.classes.remove("opened");}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel();}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow();}var i=t.panel.testMoveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"]));t.panel.classes.toggle("start","l"===i.substr(-1)),t.panel.classes.toggle("end","r"===i.substr(-1));var r="t"===i.substr(0,1);t.panel.classes.toggle("bottom",!r),t.panel.classes.toggle("top",r),t.panel.moveRel(t.getEl(),i);},hidePanel:function hidePanel(){this.panel&&this.panel.hide();},postRender:function postRender(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)));}),t._super();},remove:function remove(){return this.panel&&(this.panel.remove(),this.panel=null),this._super();}}),nn=p.DOM,rn=tn.extend({init:function init(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton");},color:function color(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color;},resetColor:function resetColor(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this;},renderHtml:function renderHtml(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",s="";return i&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>';},postRender:function postRender(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"===e.aria.key||e.control!==t||nn.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e));}),delete t.settings.onclick,t._super();}}),on=tinymce.util.Tools.resolve("tinymce.util.Color"),sn=Nt.extend({Defaults:{classes:"widget colorpicker"},init:function init(e){this._super(e);},postRender:function postRender(){var n,i,r,o,s,a=this,l=a.color();function u(e,t){var n,i,r=we.getPos(e);return n=t.pageX-r.x,i=t.pageY-r.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))};}function c(e,t){var n=(360-e.h)/360;we.css(r,{top:100*n+"%"}),t||we.css(s,{left:e.s+"%",top:100-e.v+"%"}),o.style.background=on({s:100,v:100,h:e.h}).toHex(),a.color().parse({s:e.s,v:e.v,h:e.h});}function e(e){var t;t=u(o,e),n.s=100*t.x,n.v=100*(1-t.y),c(n),a.fire("change");}function t(e){var t;t=u(i,e),(n=l.toHsv()).h=360*(1-t.y),c(n,!0),a.fire("change");}i=a.getEl("h"),r=a.getEl("hp"),o=a.getEl("sv"),s=a.getEl("svp"),a._repaint=function(){c(n=l.toHsv());},a._super(),a._svdraghelper=new ct(a._id+"-sv",{start:e,drag:e}),a._hdraghelper=new ct(a._id+"-h",{start:t,drag:t}),a._repaint();},rgb:function rgb(){return this.color().toRgb();},value:function value(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint();},color:function color(){return this._color||(this._color=on()),this._color;},renderHtml:function renderHtml(){var e,t=this._id,o=this.classPrefix,s="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+o+'colorpicker-h" style="background: -ms-linear-gradient(top,'+s+");background: linear-gradient(to bottom,"+s+');">'+function(){var e,t,n,i,r="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(i=s.split(",")).length-1;e<t;e++){r+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';}return r;}()+'<div id="'+t+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>";}}),an=Nt.extend({init:function init(e){e=w.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple");},renderHtml:function renderHtml(){var e,t,n=this.settings;return e={id:this._id,hidefocus:"1"},t=we.create("div",e,"<span>"+this.translate(n.text)+"</span>"),n.height&&we.css(t,"height",n.height+"px"),n.width&&we.css(t,"width",n.width+"px"),t.className=this.classes,t.outerHTML;},postRender:function postRender(){var i=this,e=function e(_e16){_e16.preventDefault(),i.classes.toggle("dragenter"),i.getEl().className=i.classes;};i._super(),i.$el.on("dragover",function(e){e.preventDefault();}),i.$el.on("dragenter",e),i.$el.on("dragleave",e),i.$el.on("drop",function(e){if(e.preventDefault(),!i.state.get("disabled")){var t=function(e){var t=i.settings.accept;if("string"!=typeof t)return e;var n=new RegExp("("+t.split(/\s*,\s*/).join("|")+")$","i");return w.grep(e,function(e){return n.test(e.name);});}(e.dataTransfer.files);i.value=function(){return t.length?i.settings.multiple?t:t[0]:null;},t.length&&i.fire("change",e);}});},remove:function remove(){this.$el.off(),this._super();}}),ln=Nt.extend({init:function init(e){var n=this;e.delimiter||(e.delimiter="\xbb"),n._super(e),n.classes.add("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.row()[t],index:t});}),n.row(n.settings.row);},focus:function focus(){return this.getEl().firstChild.focus(),this;},row:function row(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row");},renderHtml:function renderHtml(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>";},bindStates:function bindStates(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value));}),t._super();},_getDataPathHtml:function _getDataPathHtml(e){var t,n,i=e||[],r="",o=this.classPrefix;for(t=0,n=i.length;t<n;t++){r+=(0<t?'<div class="'+o+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(t===n-1?" "+o+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+this._id+"-"+t+'" aria-level="'+(t+1)+'">'+i[t].name+"</div>";}return r||(r='<div class="'+o+'path-item">\xa0</div>'),r;}}),un=ln.extend({postRender:function postRender(){var o=this,s=o.settings.editor;function a(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0;}return!1;}return!1!==s.settings.elementpath&&(o.on("select",function(e){s.focus(),s.selection.select(this.row()[e.index].element),s.nodeChanged();}),s.on("nodeChange",function(e){for(var t=[],n=e.parents,i=n.length;i--;){if(1===n[i].nodeType&&!a(n[i])){var r=s.fire("ResolveName",{name:n[i].nodeName.toLowerCase(),target:n[i]});if(r.isDefaultPrevented()||t.push({name:r.name,element:n[i]}),r.isPropagationStopped())break;}}o.row(t);})),o._super();}}),cn=lt.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function renderHtml(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>";}}),dn=lt.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function submit(){this.submit();}}},preRender:function preRender(){var i=this,e=i.items();i.settings.formItemDefaults||(i.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t,n=e.settings.label;n&&((t=new cn(w.extend({items:{type:"label",id:e._id+"-l",text:n,flex:0,forId:e._id,disabled:e.disabled()}},i.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),"undefined"==typeof e.settings.flex&&(e.settings.flex=1),i.replace(e,t),t.add(e));});},submit:function submit(){return this.fire("submit",{data:this.toJSON()});},postRender:function postRender(){this._super(),this.fromJSON(this.settings.data);},bindStates:function bindStates(){var n=this;function e(){var e,t,i=0,r=[];if(!1!==n.settings.labelGapCalc)for(("children"===n.settings.labelGapCalc?n.find("formitem"):n.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=i<n?n:i,r.push(t);}),t=n.settings.labelGap||0,e=r.length;e--;){r[e].settings.minWidth=i+t;}}n._super(),n.on("show",e),e();}}),fn=dn.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function renderHtml(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>";}}),hn=0,mn=function mn(e){if(null===e||e===undefined)throw new Error("Node cannot be null or undefined");return{dom:k(e)};},gn={fromHtml:function fromHtml(e,t){var n=(t||_.document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw _.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return mn(n.childNodes[0]);},fromTag:function fromTag(e,t){var n=(t||_.document).createElement(e);return mn(n);},fromText:function fromText(e,t){var n=(t||_.document).createTextNode(e);return mn(n);},fromDom:mn,fromPoint:function fromPoint(e,t,n){var i=e.dom();return N.from(i.elementFromPoint(t,n)).map(mn);}},pn=(_.Node.ATTRIBUTE_NODE,_.Node.CDATA_SECTION_NODE,_.Node.COMMENT_NODE,_.Node.DOCUMENT_NODE),vn=(_.Node.DOCUMENT_TYPE_NODE,_.Node.DOCUMENT_FRAGMENT_NODE,_.Node.ELEMENT_NODE),bn=(_.Node.TEXT_NODE,_.Node.PROCESSING_INSTRUCTION_NODE,_.Node.ENTITY_REFERENCE_NODE,_.Node.ENTITY_NODE,_.Node.NOTATION_NODE,"undefined"!=typeof _.window?_.window:Function("return this;")(),function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i;}return undefined;}(e,t);if(!n)return{major:0,minor:0};var i=function i(e){return Number(t.replace(n,"$"+e));};return xn(i(1),i(2));}),yn=function yn(){return xn(0,0);},xn=function xn(e,t){return{major:e,minor:t};},wn={nu:xn,detect:function detect(e,t){var n=String(t).toLowerCase();return 0===e.length?yn():bn(e,n);},unknown:yn},_n="Firefox",Rn=function Rn(e,t){return function(){return t===e;};},Cn=function Cn(e){var t=e.current;return{current:t,version:e.version,isEdge:Rn("Edge",t),isChrome:Rn("Chrome",t),isIE:Rn("IE",t),isOpera:Rn("Opera",t),isFirefox:Rn(_n,t),isSafari:Rn("Safari",t)};},En={unknown:function unknown(){return Cn({current:undefined,version:wn.unknown()});},nu:Cn,edge:k("Edge"),chrome:k("Chrome"),ie:k("IE"),opera:k("Opera"),firefox:k(_n),safari:k("Safari")},kn="Windows",Hn="Android",Sn="Solaris",Tn="FreeBSD",Mn=function Mn(e,t){return function(){return t===e;};},Nn=function Nn(e){var t=e.current;return{current:t,version:e.version,isWindows:Mn(kn,t),isiOS:Mn("iOS",t),isAndroid:Mn(Hn,t),isOSX:Mn("OSX",t),isLinux:Mn("Linux",t),isSolaris:Mn(Sn,t),isFreeBSD:Mn(Tn,t)};},Pn={unknown:function unknown(){return Nn({current:undefined,version:wn.unknown()});},nu:Nn,windows:k(kn),ios:k("iOS"),android:k(Hn),linux:k("Linux"),osx:k("OSX"),solaris:k(Sn),freebsd:k(Tn)},Wn=function Wn(e,t){var n=String(t).toLowerCase();return function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return N.some(r);}return N.none();}(e,function(e){return e.search(n);});},Dn=function Dn(e,n){return Wn(e,n).map(function(e){var t=wn.detect(e.versionRegexes,n);return{current:e.name,version:t};});},On=function On(e,n){return Wn(e,n).map(function(e){var t=wn.detect(e.versionRegexes,n);return{current:e.name,version:t};});},An=function An(e,t){return-1!==e.indexOf(t);},Bn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ln=function Ln(t){return function(e){return An(e,t);};},zn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function search(e){return An(e,"edge/")&&An(e,"chrome")&&An(e,"safari")&&An(e,"applewebkit");}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Bn],search:function search(e){return An(e,"chrome")&&!An(e,"chromeframe");}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function search(e){return An(e,"msie")||An(e,"trident");}},{name:"Opera",versionRegexes:[Bn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ln("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ln("firefox")},{name:"Safari",versionRegexes:[Bn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function search(e){return(An(e,"safari")||An(e,"mobile/"))&&An(e,"applewebkit");}}],In=[{name:"Windows",search:Ln("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function search(e){return An(e,"iphone")||An(e,"ipad");},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ln("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ln("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ln("linux"),versionRegexes:[]},{name:"Solaris",search:Ln("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ln("freebsd"),versionRegexes:[]}],Fn={browsers:k(zn),oses:k(In)},Un=function Un(e){var t,n,i,r,o,s,a,l,u,c,d,f=Fn.browsers(),h=Fn.oses(),m=Dn(f,e).fold(En.unknown,En.nu),g=On(h,e).fold(Pn.unknown,Pn.nu);return{browser:m,os:g,deviceType:(n=m,i=e,r=(t=g).isiOS()&&!0===/ipad/i.test(i),o=t.isiOS()&&!r,s=t.isAndroid()&&3===t.version.major,a=t.isAndroid()&&4===t.version.major,l=r||s||a&&!0===/mobile/i.test(i),u=t.isiOS()||t.isAndroid(),c=u&&!l,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(i),{isiPad:k(r),isiPhone:k(o),isTablet:k(l),isPhone:k(c),isTouch:k(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:k(d)})};},Vn=(Vt=!(Ft=function Ft(){var e=_.navigator.userAgent;return Un(e);}),function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}return Vt||(Vt=!0,Ut=Ft.apply(null,e)),Ut;}),Yn=vn,$n=pn,qn=function qn(e){return e.nodeType!==Yn&&e.nodeType!==$n||0===e.childElementCount;},Xn=(Vn().browser.isIE(),function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}}("element","offset"),w.trim),jn=function jn(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0;}return!1;};},Jn=jn("true"),Gn=jn("false"),Kn=function Kn(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r};},Zn=function Zn(e){return e.innerText||e.textContent;},Qn=function Qn(e){return e.id?e.id:(t="h",n=new Date().getTime(),t+"_"+Math.floor(1e9*Math.random())+ ++hn+String(n));var t,n;},ei=function ei(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&ni(e);var t;},ti=function ti(e){return e&&/^(H[1-6])$/.test(e.nodeName);},ni=function ni(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Jn(e);}return!1;}(e)&&!Gn(e);},ii=function ii(e){return ti(e)&&ni(e);},ri=function ri(e){var t,n=Qn(e);return Kn("header",Zn(e),"#"+n,ti(t=e)?parseInt(t.nodeName.substr(1),10):0,function(){e.id=n;});},oi=function oi(e){var t=e.id||e.name,n=Zn(e);return Kn("anchor",n||"#"+t,"#"+t,0,E);},si=function si(e){var t,n,i,r,o,s;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,G((Vn().browser.isIE(),function(){for(var e=[],t=0;t<arguments.length;t++){e[t]=arguments[t];}}("element","offset"),i=gn.fromDom(n),r=t,s=(o=i)===undefined?_.document:o.dom(),qn(s)?[]:G(s.querySelectorAll(r),gn.fromDom)),function(e){return e.dom();});},ai=function ai(e){return 0<Xn(e.title).length;},li=function li(e){var t,n=si(e);return Z((t=n,G(Z(t,ii),ri)).concat(G(Z(n,ei),oi)),ai);},ui={},ci=function ci(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}};},di=function di(e,t){return{title:e,value:{title:e,url:t,attach:E}};},fi=function fi(e,t,n){var i=t in e?e[t]:n;return!1===i?null:i;},hi=function hi(e,i,r,t){var n,o,s,a,l,u,c={title:"-"},d=function d(e){var t=e.hasOwnProperty(r)?e[r]:[],n=Z(t,function(e){return t=e,!J(i,function(e){return e.url===t;});var t;});return w.map(n,function(e){return{title:e,value:{title:e,url:e,attach:E}};});},f=function f(t){var e,n=Z(i,function(e){return e.type===t;});return e=n,w.map(e,ci);};return!1===t.typeahead_urls?[]:"file"===r?(n=[mi(e,d(ui)),mi(e,f("header")),mi(e,(a=f("anchor"),l=fi(t,"anchor_top","#top"),u=fi(t,"anchor_bottom","#bottom"),null!==l&&a.unshift(di("<top>",l)),null!==u&&a.push(di("<bottom>",u)),a))],o=function o(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(c,t);},s=[],K(n,function(e){s=o(s,e);}),s):mi(e,d(ui));},mi=function mi(e,t){var n=e.toLowerCase(),i=w.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n);});return 1===i.length&&i[0].title===e?[]:i;},gi=function gi(r,i,o,s){var t=function t(e){var t=li(o),n=hi(e,t,s,i);r.showAutoComplete(n,e);};r.on("autocomplete",function(){t(r.value());}),r.on("selectitem",function(e){var t=e.value;r.value(t.url);var n,i=(n=t.title).raw?n.raw:n;"image"===s?r.fire("change",{meta:{alt:i,attach:t.attach}}):r.fire("change",{meta:{text:i,attach:t.attach}}),r.focus();}),r.on("click",function(e){0===r.value().length&&"INPUT"===e.target.nodeName&&t("");}),r.on("PostRender",function(){r.getRoot().on("submit",function(e){var t,n,i;e.isDefaultPrevented()||(t=r.value(),i=ui[n=s],/^https?/.test(t)&&(i?j(i,t).isNone()&&(ui[n]=i.slice(0,5).concat(t)):ui[n]=[t]));});});},pi=function pi(o,e,n){var i=e.filepicker_validator_handler;i&&o.state.on("change:value",function(e){var t;0!==(t=e.value).length?i({url:t,type:n},function(e){var t,n,i,r=(n=(t=e).status,i=t.message,"valid"===n?{status:"ok",message:i}:"unknown"===n?{status:"warn",message:i}:"invalid"===n?{status:"warn",message:i}:{status:"none",message:""});o.statusMessage(r.message),o.statusLevel(r.status);}):o.statusLevel("none");});},vi=Qt.extend({Statics:{clearHistory:function clearHistory(){ui={};}},init:function init(e){var t,n,i,r=this,o=window.tinymce?window.tinymce.activeEditor:l.activeEditor,s=o.settings,a=e.filetype;e.spellcheck=!1,(i=s.file_picker_types||s.file_browser_callback_types)&&(i=w.makeMap(i,/[, ]/)),i&&!i[a]||(!(n=s.file_picker_callback)||i&&!i[a]?!(n=s.file_browser_callback)||i&&!i[a]||(t=function t(){n(r.getEl("inp").id,r.value(),a,window);}):t=function t(){var e=r.fire("beforecall").meta;e=w.extend({filetype:a},e),n.call(o,function(e,t){r.value(e).fire("change",{meta:t});},r.value(),e);}),t&&(e.icon="browse",e.onaction=t),r._super(e),r.classes.add("filepicker"),gi(r,s,o.getBody(),a),pi(r,s,a);}}),bi=Xt.extend({recalc:function recalc(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc();});}}),yi=Xt.extend({recalc:function recalc(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,m,g,p,v,b,y,x,w,_,R,C,E,k,H,S,T,M,N,P,W,D,O,A,B,L=[],z=Math.max,I=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,s=e.settings,f=e.isRtl()?s.direction||"row-reversed":s.direction,a=s.align,l=e.isRtl()?s.pack||"end":s.pack,u=s.spacing||0,"row-reversed"!==f&&"column-reverse"!==f||(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"===f?(C="y",_="h",R="minH",E="maxH",H="innerH",k="top",S="deltaH",T="contentH",D="left",P="w",M="x",N="innerW",W="minW",O="right",A="deltaW",B="contentW"):(C="x",_="w",R="minW",E="maxW",H="innerW",k="left",S="deltaW",T="contentW",D="top",P="h",M="y",N="innerH",W="minH",O="bottom",A="deltaH",B="contentH"),d=r[H]-o[k]-o[k],w=c=0,t=0,n=i.length;t<n;t++){m=(h=i[t]).layoutRect(),d-=t<n-1?u:0,0<(g=h.settings.flex)&&(c+=g,m[E]&&L.push(h),m.flex=g),d-=m[R],w<(p=o[D]+m[W]+o[O])&&(w=p);}if((y={})[R]=d<0?r[R]-d+r[S]:r[H]-d+r[S],y[W]=w+r[A],y[T]=r[H]-d,y[B]=w,y.minW=I(y.minW,r.maxW),y.minH=I(y.minH,r.maxH),y.minW=z(y.minW,r.startMinWidth),y.minH=z(y.minH,r.startMinHeight),!r.autoResize||y.minW===r.minW&&y.minH===r.minH){for(b=d/c,t=0,n=L.length;t<n;t++){(v=(m=(h=L[t]).layoutRect())[E])<(p=m[R]+m.flex*b)?(d-=m[E]-m[R],c-=m.flex,m.flex=0,m.maxFlexSize=v):m.maxFlexSize=0;}for(b=d/c,x=o[k],y={},0===c&&("end"===l?x=d+o[k]:"center"===l?(x=Math.round(r[H]/2-(r[H]-d)/2)+o[k])<0&&(x=o[k]):"justify"===l&&(x=o[k],u=Math.floor(d/(i.length-1)))),y[M]=o[D],t=0,n=i.length;t<n;t++){p=(m=(h=i[t]).layoutRect()).maxFlexSize||m[R],"center"===a?y[M]=Math.round(r[N]/2-m[P]/2):"stretch"===a?(y[P]=z(m[W]||0,r[N]-o[D]-o[O]),y[M]=o[D]):"end"===a&&(y[M]=r[N]-m[P]-o.top),0<m.flex&&(p+=m.flex*b),y[_]=p,y[C]=x,h.layoutRect(y),h.recalc&&h.recalc(),x+=p+u;}}else if(y.w=y.minW,y.h=y.minH,e.layoutRect(y),this.recalc(e),null===e._lastRect){var F=e.parent();F&&(F._lastRect=null,F.recalc());}}}),xi=qt.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function recalc(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc();});},isNative:function isNative(){return!0;}}),wi=function wi(e,t){return n=t,r=(i=e)===undefined?_.document:i.dom(),qn(r)?N.none():N.from(r.querySelector(n)).map(gn.fromDom);var n,i,r;},_i=function _i(e,t){return function(){e.execCommand("mceToggleFormat",!1,t);};},Ri=function Ri(e,t,n){var i=function i(e){n(e,t);};e.formatter?e.formatter.formatChanged(t,i):e.on("init",function(){e.formatter.formatChanged(t,i);});},Ci=function Ci(e,n){return function(t){Ri(e,n,function(e){t.control.active(e);});};},Ei=function Ei(i){var t=["alignleft","aligncenter","alignright","alignjustify"],r="alignleft",e=[{text:"Left",icon:"alignleft",onclick:_i(i,"alignleft")},{text:"Center",icon:"aligncenter",onclick:_i(i,"aligncenter")},{text:"Right",icon:"alignright",onclick:_i(i,"alignright")},{text:"Justify",icon:"alignjustify",onclick:_i(i,"alignjustify")}];i.addMenuItem("align",{text:"Align",menu:e}),i.addButton("align",{type:"menubutton",icon:r,menu:e,onShowMenu:function onShowMenu(e){var n=e.control.menu;w.each(t,function(t,e){n.items().eq(e).each(function(e){return e.active(i.formatter.match(t));});});},onPostRender:function onPostRender(e){var n=e.control;w.each(t,function(t,e){Ri(i,t,function(e){n.icon(r),e&&n.icon(t);});});}}),w.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){i.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Ci(i,t)});});},ki=function ki(e){return e?e.split(",")[0]:"";},Hi=function Hi(l,u){return function(){var a=this;a.state.set("value",null),l.on("init nodeChange",function(e){var t,n,i,r,o=l.queryCommandValue("FontName"),s=(t=u,r=(n=o)?n.toLowerCase():"",w.each(t,function(e){e.value.toLowerCase()===r&&(i=e.value);}),w.each(t,function(e){i||ki(e.value).toLowerCase()!==ki(r).toLowerCase()||(i=e.value);}),i);a.value(s||null),!s&&o&&a.text(ki(o));});};},Si=function Si(n){n.addButton("fontselect",function(){var e,t=(e=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;){e[t]=e[t].split("=");}return e;}(n.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),w.map(e,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""};}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:Hi(n,t),onselect:function onselect(e){e.control.settings.value&&n.execCommand("FontName",!1,e.control.settings.value);}};});},Ti=function Ti(e){Si(e);},Mi=function Mi(e,t){return /[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,i=t||0,r=Math.pow(10,i),Math.round(n*r)/r+"pt"):e;var n,i,r;},Ni=function Ni(e,t,n){var i;return w.each(e,function(e){e.value===n?i=n:e.value===t&&(i=t);}),i;},Pi=function Pi(n){n.addButton("fontsizeselect",function(){var e,s,a,t=(e=n.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",w.map(e.split(" "),function(e){var t=e,n=e,i=e.split("=");return 1<i.length&&(t=i[0],n=i[1]),{text:t,value:n};}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:(s=n,a=t,function(){var o=this;s.on("init nodeChange",function(e){var t,n,i,r;if(t=s.queryCommandValue("FontSize"))for(i=3;!r&&0<=i;i--){n=Mi(t,i),r=Ni(a,n,t);}o.value(r||null),r||o.text(n);});}),onclick:function onclick(e){e.control.settings.value&&n.execCommand("FontSize",!1,e.control.settings.value);}};});},Wi=function Wi(e){Pi(e);},Di=function Di(n,e){var i=e.length;return w.each(e,function(e){e.menu&&(e.hidden=0===Di(n,e.menu));var t=e.format;t&&(e.hidden=!n.formatter.canApply(t)),e.hidden&&i--;}),i;},Oi=function Oi(n,e){var i=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<Oi(n,e.menu)),!e.menu&&e.settings.menu&&e.visible(0<Di(n,e.settings.menu));var t=e.settings.format;t&&e.visible(n.formatter.canApply(t)),e.visible()||i--;}),i;},Ai=function Ai(e){var i,r,o,t,_s2,n,a,l,u=(r=0,o=[],t=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],_s2=function s(e){var i=[];if(e)return w.each(e,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=_s2(e.items);else{var n=e.format||"custom"+r++;e.format||(e.name=n,o.push(e)),t.format=n,t.cmd=e.cmd;}i.push(t);}),i;},(i=e).on("init",function(){w.each(o,function(e){i.formatter.register(e.name,e);});}),{type:"menu",items:i.settings.style_formats_merge?i.settings.style_formats?_s2(t.concat(i.settings.style_formats)):_s2(t):_s2(i.settings.style_formats||t),onPostRender:function onPostRender(e){i.fire("renderFormatsMenu",{control:e.control});},itemDefaults:{preview:!0,textStyle:function textStyle(){if(this.settings.format)return i.formatter.getCssText(this.settings.format);},onPostRender:function onPostRender(){var n=this;n.parent().on("show",function(){var e,t;(e=n.settings.format)&&(n.disabled(!i.formatter.canApply(e)),n.active(i.formatter.match(e))),(t=n.settings.cmd)&&n.active(i.queryCommandState(t));});},onclick:function onclick(){this.settings.format&&_i(i,this.settings.format)(),this.settings.cmd&&i.execCommand(this.settings.cmd);}}});n=u,e.addMenuItem("formats",{text:"Formats",menu:n}),l=u,(a=e).addButton("styleselect",{type:"menubutton",text:"Formats",menu:l,onShowMenu:function onShowMenu(){a.settings.style_formats_autohide&&Oi(a,this.menu);}});},Bi=function Bi(n,e){return function(){var r,o,s,t=[];return w.each(e,function(e){t.push({text:e[0],value:e[1],textStyle:function textStyle(){return n.formatter.getCssText(e[1]);}});}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:function onselect(e){if(e.control){var t=e.control.value();_i(n,t)();}},onPostRender:(r=n,o=t,function(){var t=this;r.on("nodeChange",function(e){var n=r.formatter,i=null;w.each(e.parents,function(t){if(w.each(o,function(e){if(s?n.matchNode(t,s,{value:e.value})&&(i=e.value):n.matchNode(t,e.value)&&(i=e.value),i)return!1;}),i)return!1;}),t.value(i);});})};};},Li=function Li(e){var t,n,i=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;){e[t]=e[t].split("=");}return e;}(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:(t=e,n=i,w.map(n,function(e){return{text:e[0],onclick:_i(t,e[1]),textStyle:function textStyle(){return t.formatter.getCssText(e[1]);}};}))}),e.addButton("formatselect",Bi(e,i));},zi=function zi(t,e){var n,i;if("string"==typeof e)i=e.split(" ");else if(w.isArray(e))return function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!V(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(t,e[n]);}return t;}(w.map(e,function(e){return zi(t,e);}));return n=w.grep(i,function(e){return"|"===e||e in t.menuItems;}),w.map(n,function(e){return"|"===e?{text:"-"}:t.menuItems[e];});},Ii=function Ii(e){return e&&"-"===e.text;},Fi=function Fi(n){var i=Z(n,function(e,t){return!Ii(e)||!Ii(n[t-1]);});return Z(i,function(e,t){return!Ii(e)||0<t&&t<i.length-1;});},Ui=function Ui(e){var t,n,i,r,o=e.settings.insert_button_items;return Fi(o?zi(e,o):(t=e,n="insert",i=[{text:"-"}],r=w.grep(t.menuItems,function(e){return e.context===n;}),w.each(r,function(e){"before"===e.separator&&i.push({text:"|"}),e.prependToContext?i.unshift(e):i.push(e),"after"===e.separator&&i.push({text:"|"});}),i));},Vi=function Vi(e){var t;(t=e).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function oncreatemenu(){this.menu.add(Ui(t)),this.menu.renderNew();}});},Yi=function Yi(e){var n,i,r;n=e,w.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){n.addButton(t,{active:!1,tooltip:e,onPostRender:Ci(n,t),onclick:_i(n,t)});}),i=e,w.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(e,t){i.addButton(t,{tooltip:e[0],cmd:e[1]});}),r=e,w.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(e,t){r.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Ci(r,t)});});},$i=function $i(e){var n;Yi(e),n=e,w.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(e,t){n.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]});}),n.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:_i(n,"code")});},qi=function qi(n,i){return function(){var e=this,t=function t(){var e="redo"===i?"hasRedo":"hasUndo";return!!n.undoManager&&n.undoManager[e]();};e.disabled(!t()),n.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){e.disabled(n.readonly||!t());});};},Xi=function Xi(e){var t,n;(t=e).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:qi(t,"undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:qi(t,"redo"),cmd:"redo"}),(n=e).addButton("undo",{tooltip:"Undo",onPostRender:qi(n,"undo"),cmd:"undo"}),n.addButton("redo",{tooltip:"Redo",onPostRender:qi(n,"redo"),cmd:"redo"});},ji=function ji(e){var t,n;(t=e).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(n=t,function(){var t=this;n.on("VisualAid",function(e){t.active(e.hasVisual);}),t.active(n.hasVisual);}),cmd:"mceToggleVisualAid"});},Ji={setup:function setup(e){var t;e.rtl&&(rt.rtl=!0),e.on("mousedown progressstate",function(){Ct.hideAll();}),(t=e).settings.ui_container&&(ce.container=wi(gn.fromDom(_.document.body),t.settings.ui_container).fold(k(null),function(e){return e.dom();})),Nt.tooltips=!ce.iOS,rt.translate=function(e){return l.translate(e);},Li(e),Ei(e),$i(e),Xi(e),Wi(e),Ti(e),Ai(e),ji(e),Vi(e);}},Gi=Xt.extend({recalc:function recalc(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,m,g,p,v,b,y,x,w,_,R,C,E,k,H,S,T=[],M=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,x=t.alignH||t.align,w=t.alignV||t.align,p=e.paddingBox,S="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(d=0;d<i;d++){T.push(0);}for(f=0;f<n;f++){M.push(0);}for(f=0;f<n;f++){for(d=0;d<i&&(c=r[f*i+d]);d++){C=(u=c.layoutRect()).minW,E=u.minH,T[d]=C>T[d]?C:T[d],M[f]=E>M[f]?E:M[f];}}for(k=o.innerW-p.left-p.right,d=_=0;d<i;d++){_+=T[d]+(0<d?b:0),k-=(0<d?b:0)+T[d];}for(H=o.innerH-p.top-p.bottom,f=R=0;f<n;f++){R+=M[f]+(0<f?y:0),H-=(0<f?y:0)+M[f];}if(_+=p.left+p.right,R+=p.top+p.bottom,(l={}).minW=_+(o.w-o.innerW),l.minH=R+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW===o.minW&&l.minH===o.minH){var N;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),N="start"===t.packV?0:0<H?Math.floor(H/n):0;var P=0,W=t.flexWidths;if(W)for(d=0;d<W.length;d++){P+=W[d];}else P=i;var D=k/P;for(d=0;d<i;d++){T[d]+=W?W[d]*D:D;}for(m=p.top,f=0;f<n;f++){for(h=p.left,a=M[f]+N,d=0;d<i&&(c=r[S?f*i+i-1-d:f*i+d]);d++){g=c.settings,u=c.layoutRect(),s=Math.max(T[d],u.startMinWidth),u.x=h,u.y=m,"center"===(v=g.alignH||(x?x[d]||x[0]:null))?u.x=h+s/2-u.w/2:"right"===v?u.x=h+s-u.w:"stretch"===v&&(u.w=s),"center"===(v=g.alignV||(w?w[d]||w[0]:null))?u.y=m+a/2-u.h/2:"bottom"===v?u.y=m+a-u.h:"stretch"===v&&(u.h=a),c.layoutRect(u),h+=s+b,c.recalc&&c.recalc();}m+=a+y;}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var O=e.parent();O&&(O._lastRect=null,O.recalc());}}}),Ki=Nt.extend({renderHtml:function renderHtml(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>';},src:function src(e){this.getEl().src=e;},html:function html(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):u.setTimeout(function(){n.html(e);}),this;}}),Zi=Nt.extend({init:function init(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1;},severity:function severity(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e);},help:function help(e){this.state.set("help",e);},renderHtml:function renderHtml(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>';},bindStates:function bindStates(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect();}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect();}),t._super();}}),Qi=Nt.extend({init:function init(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong");},initLayoutRect:function initLayoutRect(){var e=this,t=e._super();return e.settings.multiline&&(we.getSize(e.getEl()).width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,we.getSize(e.getEl()).height)),t;},repaint:function repaint(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super();},severity:function severity(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e);},renderHtml:function renderHtml(){var e,t,n=this,i=n.settings.forId,r=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!i&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(i=e._id),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+r+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+r+"</span>";},bindStates:function bindStates(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect();}),t._super();}}),er=lt.extend({Defaults:{role:"toolbar",layout:"flow"},init:function init(e){this._super(e),this.classes.add("toolbar");},postRender:function postRender(){return this.items().each(function(e){e.classes.add("toolbar-item");}),this._super();}}),tr=er.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),nr=jt.extend({init:function init(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render());},showMenu:function showMenu(e){var t,n=this;if(n.menu&&n.menu.visible()&&!1!==e)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=v.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu());}),n.menu.on("select",function(){n.focus();}),n.menu.on("show hide",function(e){"hide"===e.type&&e.control.parent()===n&&n.classes.remove("opened-under"),e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type);}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var i=n.menu.layoutRect(),r=n.$el.offset().top+n.layoutRect().h;r>i.y&&r<i.y+i.h&&n.classes.add("opened-under"),n.fire("showmenu");},hideMenu:function hideMenu(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu();}),this.menu.hide());},activeMenu:function activeMenu(e){this.classes.toggle("active",e);},renderHtml:function renderHtml(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon,o=t.state.get("text"),s="";return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=_.window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+t.encode(o)+"</span>"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",t.aria("role",t.parent()instanceof tr?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+s+' <i class="'+i+'caret"></i></button></div>';},postRender:function postRender(){var r=this;return r.on("click",function(e){e.control===r&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode;}return!1;}(e.target,r.getEl())&&(r.focus(),r.showMenu(!e.aria),e.aria&&r.menu.items().filter(":visible")[0].focus());}),r.on("mouseenter",function(e){var t,n=e.control,i=r.parent();n&&i&&n instanceof nr&&n.parent()===i&&(i.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu());}),t&&(n.focus(),n.showMenu()));}),r._super();},bindStates:function bindStates(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null;}),e._super();},remove:function remove(){this._super(),this.menu&&this.menu.remove();}}),ir=Ct.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function init(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;){t[n]=w.extend({},e.itemDefaults,t[n]);}this._super(e),this.classes.add("menu"),e.animate&&11!==ce.ie&&this.classes.add("animate");},repaint:function repaint(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this;},cancel:function cancel(){this.hideAll(),this.fire("select");},load:function load(){var t,n=this;function i(){n.throbber&&(n.throbber.hide(),n.throbber=null);}n.settings.itemsFactory&&(n.throbber||(n.throbber=new Ht(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading");}),n.on("hide close",i)),n.requestTime=t=new Date().getTime(),n.settings.itemsFactory(function(e){0!==e.length?n.requestTime===t&&(n.getEl().style.width="",n.getEl("body").style.width="",i(),n.items().remove(),n.getEl("body").innerHTML="",n.add(e),n.renderNew(),n.fire("loaded")):n.hide();}));},hideAll:function hideAll(){return this.find("menuitem").exec("hideMenu"),this._super();},preRender:function preRender(){var n=this;return n.items().each(function(e){var t=e.settings;if(t.icon||t.image||t.selectable)return!(n._hasIcons=!0);}),n.settings.itemsFactory&&n.on("postrender",function(){n.settings.itemsFactory&&n.load();}),n.on("show hide",function(e){e.control===n&&("show"===e.type?u.setTimeout(function(){n.classes.add("in");},0):n.classes.remove("in"));}),n._super();}}),rr=nr.extend({init:function init(i){var t,r,o,n,s=this;s._super(i),i=s.settings,s._values=t=i.values,t&&("undefined"!=typeof i.value&&function e(t){for(var n=0;n<t.length;n++){if(r=t[n].selected||i.value===t[n].value)return o=o||t[n].text,s.state.set("value",t[n].value),!0;if(t[n].menu&&e(t[n].menu))return!0;}}(t),!r&&0<t.length&&(o=t[0].text,s.state.set("value",t[0].value)),s.state.set("menu",t)),s.state.set("text",i.text||o),s.classes.add("listbox"),s.on("select",function(e){var t=e.control;n&&(e.lastControl=n),i.multiple?t.active(!t.active()):s.value(e.control.value()),n=t;});},value:function value(n){return 0===arguments.length?this.state.get("value"):(void 0===n||(this.settings.values&&!function t(e){return J(e,function(e){return e.menu?t(e.menu):e.value===n;});}(this.settings.values)?null===n&&this.state.set("value",null):this.state.set("value",n)),this);},bindStates:function bindStates(){var i=this;return i.on("show",function(e){var t,n;t=e.control,n=i.value(),t instanceof ir&&t.items().each(function(e){e.hasMenus()||e.active(e.value()===n);});}),i.state.on("change:value",function(t){var n=function e(t,n){var i;if(t)for(var r=0;r<t.length;r++){if(t[r].value===n)return t[r];if(t[r].menu&&(i=e(t[r].menu,n)))return i;}}(i.state.get("menu"),t.value);n?i.text(n.text):i.text(i.settings.text);}),i._super();}}),or=Nt.extend({Defaults:{border:0,role:"menuitem"},init:function init(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault();}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0);},hasMenus:function hasMenus(){return!!this.settings.menu;},showMenu:function showMenu(){var t,n=this,e=n.settings,i=n.parent();if(i.items().each(function(e){e!==n&&e.hideMenu();}),e.menu){(t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",i.settings.itemDefaults&&(t.itemDefaults=i.settings.itemDefaults),(t=n.menu=v.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide();}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected);});}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected");}),t.submenu=!0),t._parentMenu=i,t.classes.add("menu-sub");var r=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),r),r="menu-sub-"+(t.rel=r),t.classes.remove(t._lastRel).add(r),t._lastRel=r,n.classes.add("selected"),n.aria("expanded",!0);}},hideMenu:function hideMenu(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu();}),e.menu.hide(),e.aria("expanded",!1)),e;},renderHtml:function renderHtml(){var e,t=this,n=t._id,i=t.settings,r=t.classPrefix,o=t.state.get("text"),s=t.settings.icon,a="",l=i.shortcut,u=t.encode(i.url);function c(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");}function d(e){var t=i.match||"";return t?e.replace(new RegExp(c(t),"gi"),function(e){return"!mce~match["+e+"]mce~match!";}):e;}function f(e){return e.replace(new RegExp(c("!mce~match["),"g"),"<b>").replace(new RegExp(c("]mce~match!"),"g"),"</b>");}return s&&t.parent().classes.add("menu-has-icons"),i.image&&(a=" style=\"background-image: url('"+i.image+"')\""),l&&(l=function(e){var t,n,i={};for(i=ce.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++){(n=i[e[t].toLowerCase()])&&(e[t]=n);}return e.join("+");}(l)),s=r+"ico "+r+"i-"+(t.settings.icon||"none"),e="-"!==o?'<i class="'+s+'"'+a+"></i>\xa0":"",o=f(t.encode(d(o))),u=f(t.encode(d(u))),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1">'+e+("-"!==o?'<span id="'+n+'-text" class="'+r+'text">'+o+"</span>":"")+(l?'<div id="'+n+'-shortcut" class="'+r+'menu-shortcut">'+l+"</div>":"")+(i.menu?'<div class="'+r+'caret"></div>':"")+(u?'<div class="'+r+'menu-item-link">'+u+"</div>":"")+"</div>";},postRender:function postRender(){var t=this,n=t.settings,e=n.textStyle;if("function"==typeof e&&(e=e.call(this)),e){var i=t.getEl("text");i&&(i.setAttribute("style",e),t._textStyle=e);}return t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),u.requestAnimationFrame(function(){t.parent().hideAll();})));}),t._super(),t;},hover:function hover(){return this.parent().items().each(function(e){e.classes.remove("selected");}),this.classes.toggle("selected",!0),this;},active:function active(e){return function(e,t){var n=e._textStyle;if(n){var i=e.getEl("text");i.setAttribute("style",n),t&&(i.style.color="",i.style.backgroundColor="");}}(this,e),void 0!==e&&this.aria("checked",e),this._super(e);},remove:function remove(){this._super(),this.menu&&this.menu.remove();}}),sr=Kt.extend({Defaults:{classes:"radio",role:"radio"}}),ar=Nt.extend({renderHtml:function renderHtml(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"===e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>';},postRender:function postRender(){var t=this;t._super(),t.resizeDragHelper=new ct(this._id,{start:function start(){t.fire("ResizeStart");},drag:function drag(e){"both"!==t.settings.direction&&(e.deltaX=0),t.fire("Resize",e);},stop:function stop(){t.fire("ResizeEnd");}});},remove:function remove(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super();}});function lr(e){var t="";if(e)for(var n=0;n<e.length;n++){t+='<option value="'+e[n]+'">'+e[n]+"</option>";}return t;}var ur=Nt.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function init(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1;}),n.fire("submit",{data:t.toJSON()}));});},options:function options(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options");},renderHtml:function renderHtml(){var e,t=this,n="";return e=lr(t._options),t.size&&(n=' size = "'+t.size+'"'),'<select id="'+t._id+'" class="'+t.classes+'"'+n+">"+e+"</select>";},bindStates:function bindStates(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=lr(e.value);}),t._super();}});function cr(e,t,n){return e<t&&(e=t),n<e&&(e=n),e;}function dr(e,t,n){e.setAttribute("aria-"+t,n);}function fr(e,t){var n,i,r,o,s;"v"===e.settings.orientation?(r="top",i="height",n="h"):(r="left",i="width",n="w"),s=e.getEl("handle"),o=((e.layoutRect()[n]||100)-we.getSize(s)[i])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",s.style[r]=o,s.style.height=e.layoutRect().h+"px",dr(s,"valuenow",t),dr(s,"valuetext",""+e.settings.previewFilter(t)),dr(s,"valuemin",e._minValue),dr(s,"valuemax",e._maxValue);}var hr=Nt.extend({init:function init(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100;}),t._super(e),t.classes.add("slider"),"v"===e.orientation&&t.classes.add("vertical"),t._minValue=$(e.minValue)?e.minValue:0,t._maxValue=$(e.maxValue)?e.maxValue:100,t._initValue=t.state.get("value");},renderHtml:function renderHtml(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>';},reset:function reset(){this.value(this._initValue).repaint();},postRender:function postRender(){var e,t,n,i,r,o,s,a,l,u,c,d,f,h,m=this;e=m._minValue,t=m._maxValue,"v"===m.settings.orientation?(n="screenY",i="top",r="height",o="h"):(n="screenX",i="left",r="width",o="w"),m._super(),function(o,s){function t(e){var t,n,i,r;t=cr(t=(((t=m.value())+(r=n=o))/((i=s)-r)+.05*e)*(i-n)-n,o,s),m.value(t),m.fire("dragstart",{value:t}),m.fire("drag",{value:t}),m.fire("dragend",{value:t});}m.on("keydown",function(e){switch(e.keyCode){case 37:case 38:t(-1);break;case 39:case 40:t(1);}});}(e,t),s=e,a=t,l=m.getEl("handle"),m._dragHelper=new ct(m._id,{handle:m._id+"-handle",start:function start(e){u=e[n],c=parseInt(m.getEl("handle").style[i],10),d=(m.layoutRect()[o]||100)-we.getSize(l)[r],m.fire("dragstart",{value:h});},drag:function drag(e){var t=e[n]-u;f=cr(c+t,0,d),l.style[i]=f+"px",h=s+f/d*(a-s),m.value(h),m.tooltip().text(""+m.settings.previewFilter(h)).show().moveRel(l,"bc tc"),m.fire("drag",{value:h});},stop:function stop(){m.tooltip().hide(),m.fire("dragend",{value:h});}});},repaint:function repaint(){this._super(),fr(this,this.value());},bindStates:function bindStates(){var t=this;return t.state.on("change:value",function(e){fr(t,e.value);}),t._super();}}),mr=Nt.extend({renderHtml:function renderHtml(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>';}}),gr=nr.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function repaint(){var e,t,n=this.getEl(),i=this.layoutRect();return this._super(),e=n.firstChild,t=n.lastChild,ye(e).css({width:i.w-we.getSize(t).width,height:i.h-2}),ye(t).css({height:i.h-2}),this;},activeMenu:function activeMenu(e){ye(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e);},renderHtml:function renderHtml(){var e,t,n=this,i=n._id,r=n.classPrefix,o=n.state.get("icon"),s=n.state.get("text"),a=n.settings,l="";return(e=a.image)?(o="none","string"!=typeof e&&(e=_.window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o=a.icon?r+"ico "+r+"i-"+o:"",s&&(n.classes.add("btn-has-text"),l='<span class="'+r+'txt">'+n.encode(s)+"</span>"),t="boolean"==typeof a.active?' aria-pressed="'+a.active+'"':"",'<div id="'+i+'" class="'+n.classes+'" role="button"'+t+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+l+'</button><button type="button" class="'+r+'open" hidefocus="1" tabindex="-1">'+(n._menuBtnText?(o?"\xa0":"")+n._menuBtnText:"")+' <i class="'+r+'caret"></i></button></div>';},postRender:function postRender(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control===this)for(;t;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===t.nodeName&&-1===t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode;}}),delete this.settings.onclick,this._super();}}),pr=xi.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function isNative(){return!0;}}),vr=pt.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function activateTab(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),ye(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),ye(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!==t&&e.hide();});},renderHtml:function renderHtml(){var i=this,e=i._layout,r="",o=i.classPrefix;return i.preRender(),e.preRender(i),i.items().each(function(e,t){var n=i._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",n),r+='<div id="'+n+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+i.encode(e.settings.title)+"</div>";}),'<div id="'+i._id+'" class="'+i.classes+'" hidefocus="1" tabindex="-1"><div id="'+i._id+'-head" class="'+o+'tabs" role="tablist">'+r+'</div><div id="'+i._id+'-body" class="'+i.bodyClasses+'">'+e.renderHtml(i)+"</div></div>";},postRender:function postRender(){var i=this;i._super(),i.settings.activeTab=i.settings.activeTab||0,i.activateTab(i.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id===i._id+"-head")for(var n=t.childNodes.length;n--;){t.childNodes[n]===e.target&&i.activateTab(n);}});},initLayoutRect:function initLayoutRect(){var e,t,n,i=this;t=(t=we.getSize(i.getEl("head")).width)<0?0:t,n=0,i.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH);}),i.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n});});var r=we.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=n+r,(e=i._super()).deltaH+=r,e.innerH=e.h-e.deltaH,e;}}),br=Nt.extend({init:function init(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1;}),n.fire("submit",{data:t.toJSON()}));}),n.on("keyup",function(e){n.state.set("value",e.target.value);}));},repaint:function repaint(){var e,t,n,i,r,o=this,s=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var a=_.document;return!o.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(e.lineHeight=t.h-s+"px"),i=(n=o.borderBox).left+n.right+8,s=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-s+"px",r.h=t.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o;},renderHtml:function renderHtml(){var t,e,n=this,i=n.settings;return t={id:n._id,hidefocus:"1"},w.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=i[e];}),n.disabled()&&(t.disabled="disabled"),i.subtype&&(t.type=i.subtype),(e=we.create(i.multiline?"textarea":"input",t)).value=n.state.get("value"),e.className=n.classes.toString(),e.outerHTML;},value:function value(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"));},postRender:function postRender(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e);});},bindStates:function bindStates(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!==e.value&&(t.getEl().value=e.value);}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value;}),t._super();},remove:function remove(){this.$el.off(),this._super();}}),yr=function yr(){return{Selector:Ie,Collection:Ve,ReflowQueue:Ke,Control:rt,Factory:v,KeyboardNavigation:st,Container:lt,DragHelper:ct,Scrollable:gt,Panel:pt,Movable:He,Resizable:vt,FloatPanel:Ct,Window:It,MessageBox:Yt,Tooltip:Mt,Widget:Nt,Progress:Pt,Notification:Dt,Layout:qt,AbsoluteLayout:Xt,Button:jt,ButtonGroup:Gt,Checkbox:Kt,ComboBox:Qt,ColorBox:en,PanelButton:tn,ColorButton:rn,ColorPicker:sn,Path:ln,ElementPath:un,FormItem:cn,Form:dn,FieldSet:fn,FilePicker:vi,FitLayout:bi,FlexLayout:yi,FlowLayout:xi,FormatControls:Ji,GridLayout:Gi,Iframe:Ki,InfoBox:Zi,Label:Qi,Toolbar:er,MenuBar:tr,MenuButton:nr,MenuItem:or,Throbber:Ht,Menu:ir,ListBox:rr,Radio:sr,ResizeHandle:ar,SelectBox:ur,Slider:hr,Spacer:mr,SplitButton:gr,StackLayout:pr,TabPanel:vr,TextBox:br,DropZone:an,BrowseButton:Jt};},xr=function xr(n){n.ui?w.each(yr(),function(e,t){n.ui[t]=e;}):n.ui=yr();};w.each(yr(),function(e,t){v.add(t,e);}),xr(window.tinymce?window.tinymce:{}),r.add("modern",function(e){return Ji.setup(e),$t(e);});}(window);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/timers-browserify/main.js */ "./node_modules/timers-browserify/main.js").setImmediate, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ 3:
/*!*******************************************!*\
  !*** multi ./resources/js/tinymce.min.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\DELL\hieworks\resources\js\tinymce.min.js */"./resources/js/tinymce.min.js");


/***/ })

/******/ });